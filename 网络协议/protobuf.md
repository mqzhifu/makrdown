# protobuf

## 概览

主要功能：压缩数据。数据在网络传输过程中，对数进行格式定义，压缩其内容，提高传输性能。可跨语言、跨平台。

> 类似json、xml格式，也可以简单理解为将：将数据序列化

## 大体流程

![protobuf.png](image/protobuf.png)

1. 使用方/发起方，需要先定义\(协调\)好.proto描述文件
2. 使用方，需要先下载一个protobuf编译器软件
3. 使用软件，编译 .proto 描述文件
4. 编译之前，需要设定好要生成哪种语言的可能执行代码
5. 将编译器生成好的代码嵌入到自己的类库中
6. 最后，项目使用时执行序列化/反序列化

## 编译原理

它的核心其实是: .proto描述文件。它的文件内容定义了通信的数据结构与数据类型。

而分析看，它的内容格式：与任何语言无关，往更底层说更像是一个文本格式\(自定义格式\)，编译器就是解析这些广本格式，生成不同语言的可执行代码。

先看一下最终二进制数据流的格式：

![protobuf-field.png](image/protobuf-field.png)

![protobuf-tag.png](image/protobuf-tag.png)

每个字段占一部分，而每个部分又被分成了3个子部分\(TLV\(tag\-length\-value\) \)，其实TAG子部分又被划分成了：两个子子部分：field\_number\+wite\_type

#### wire\_type

|type|meaning          |User for                                         |
|----|-----------------|-------------------------------------------------|
|0   |varint           |int32 int64 unit32 uint64 sint32 sint64 bool enum|
|1   |64\-bit          |fixed64 sfixed64 dobule                          |
|2   |length\-delimited|string bytes \(embedded messages\) repeated      |
|3   |放弃             |                                                 |
|4   |放弃             |                                                 |
|5   |32\-bit          |fixed32 sfixed64 float                           |

varint:其实也算是定长，所以不需要length，其内部结构就变成了：TV格式

64\-bit和32\-bit:其实也算是定长，所以不需要length

#### varint

varint，直译：变长的整数数字。也算是一种压缩算法，对整形进行进一步的压缩。

如：int32 ，4个字节，此时有一个数字：1 ，其最终的二进制：

> 00000000 00000000 00000000 00000001

我们发现，前3个字节均为0，且没什么用。开启压缩模式：删除前3个字节，只留最后一个字节

我们换个数字，1024

> 00000000 00000000 00000010 00000000

开始变换：

从最右侧\(低字节\)开始，截取7位，0000000，因为前面还有数字，首个二进制位补0，第一字节就是：

> 10000000

接着再截取出7位 0000010，因为它的前面没有数字了，首个二进制位：补0，就是：

> 00000010

合并两个字节

> 10000000 00000010

核心原理：将int类型的数字的二进制值， 从二右侧\(低字节\)开始，每次拿到7个二进制位，开始计算，添加msb位\(标识位/占位符\)：

1：前面还有数字\(1\)

0：没有

这样，一个字节有7个二进制位表示数字，最高位一个占位符，循环

分析：数字越小占的字节越少，如127以内，一个字节就够了。如果数字非常大的时候，原本4个字节表示一个int变成了5个字节，因为：每个字节即少了一个二进制位

现在考虑两种情况：\-1 和 2147483647

> 10000000 00000000 00000000 00000000
> 
> 
> 11111111 11111111 11111111 11111111

当为负数或者数字非常大的时候，还是以7位划分成一组，每个字节首位再加上占用符，就变成了：32位 \+ 4位 ，貌似，都是5个字节了...反倒是浪费空间了...

> 日常能直接把数字用到上限：2147483647，很少，基本用不到，那么varint这种压缩更好\(处理正数\)，传输性能也就略高些。
> 
> 
> 但是负数肯定不行，任何一个负数，最最怕小的\-1，也有问题

处理负数，使用的是：ZigZag算法，这里不做详细讲解了......简单说下：

引入：sint32 和 sint64 类型，来表示负数。先采用 Zigzag 编码，将有符号的数转成无符号的数，在采用 Varint 编码，从而减少编码后字节数

varint 缺点：虽然传输快了，但两端的压缩/反压缩会吃些性能。

> 个人觉得，这种计算量，按照现代的计算机配件配置，微乎其微，反倒是网络传输的开销才更影响性能、稳定性。
> 
> 
> 但游戏开发除外，大量的序列化/反序列化，控制不好内存，容易引起垃圾回收或内存不够

#### TLV

介绍一下 字符串类型

```
message Test2 {
  optional string b = 2;
}
```

设置:b = testing

编译后的最终结果：

```
12 07 74 65 73 74 69 6e 67
```

> 一堆16进制的数

1. tag=12, \-\> 0001 0010 ,前5位0001 0 ，为2，代表第2个字段\(field number\), 后三位 010 为 wire type = 2
2. length=07,内容总长度为7个字节
3. value=74 65 73 74 69 6e 67 ,testing的asic码

#### demo

上面讲的还是太抽象，举个实际点的例子：

JSON

> {"id":42}，9 bytes

xml

> \<id\>42\</id\>，11 bytes

protobuf

> 0x08 0x2A，2 bytes
> 
> 
> 0x08 = field 1, type ：Variant
> 
> 
> 0x2A = 42 \(raw\) or 21 \(zigzag\)

#### 总结

优点：

1. 传输性能较好，因为压缩了
2. 加密。因为压缩成二进制文件，没有 .proto 描述文件，不可还原，间接实现了加密功能
3. 跨语言，各组、各部分之间通信时，只需要有一份 .proto 描述文件，各自是什么语言就都不重要了

缺点：

1. 增加了复杂度，原本通信双方就正常定义个格式即可，现在还需要：
    1. 多出一个概念： .proto 描述文件
    2. 得下载proto buf 编译器\(熟悉编译器的使用、及参数\)
    3. 得编译 .proto 描述文件
    4. 不同语言可能还得再下载一个插件，如：PHP、golang就得单独下载
    5. 编译器有版本之分，如果描述文件是v=2，你用protobuf3的编译器，可能会出错。
2. 调试麻烦，原本都是字符符明文传输，直接能看结果，而现在都是一堆16进制码，人眼看不出问题，反序列化时就算出错，也不好调试
3. 虽然压缩后提高了传输性能，但是增加了两端的计算量：序列化/反序列化，如果使用不好，造成垃圾回收，挺可怕的。
4. 容易走入扩展的误区，因为，描述文件的产生，大家把更多的功能也都想集成进来，如统一数据结构：空结构体、msg结构体\(code\+message\+errMsg\)、枚举常量，然后就开始DIY魔改原protobuf的编译器，造成公司自有一套protbuf编译器，一但protobuf编译器升级，自有的这套基本上不兼容了。

使用场景：长连接、游戏

> 反正我目前只在游戏领域使用过，因为游戏对实时性要求较高，但讽刺的是：如果访问量大且操作非常频繁，对两端的计算量~稳定性也有要求，protobuf反而满足不了，得自己写一套。

具说一些大型公司，微服务的场景也使用.proto文件：用于多语言统一通信数据定义。也就是面向.proto做通信编程，但我没大批量的使用过，仅在小项目使用。

## 使用

先下载 protobuf 编译软件\(根据自己的OS自行选择\)

> wget https://github.com/protocolbuffers/protobuf/releases/download/v3.15.8/protoc\-3.15.8\-osx\-x86\_64.zip

> GOLANG 和protobuf 都是google公司出品，按说一个包应该就够了，然而，还得再下载个插件。其：将.proto文件用上面的工作转换成对应的文件后，还得再用插件转换成GO语言的，可能的解释的就是：

1. probuf存在的时候压根没有GO语言
2. 两个东西不是一个组开发的
3. 模块分割清楚，protobuf就是帮助做最基础的解析，具体使用者是什么语言，再单独安装

> 这里以GOLANG为使用语言，其它语言自行查阅文档吧

安装 golang 的 protobuf 编译器插件：

> go install github.com/golang/protobuf/protoc\-gen\-go
> 
> 
> go install github.com/golang/protobuf/protoc\-gen\-go@latest

这两个包不确定是干什么的：

> google.golang.org/protobuf/reflect/protoreflect@v1.26.0
> 
> 
> go install google.golang.org/grpc/cmd/protoc\-gen\-go\-grpc@latest

这里注意，正常安装 GRPC PROTOBUF 的包是问题，但是ETCD与GRPC冲突，不能使用最新的GRPC，所以，如果想一起使用，就得降低 protoc\-gen\-go 版本

> go install github.com/golang/protobuf/protoc\-gen\-go@v1.2.0

好像连带着 库都给下了，先不管了，先找一下包下到哪里了

> go env

看下gopath

可执行文件被搞到这里了

> ~/go/bin \-\> /var/root/go/bin
> 
> 
> 类包在这里
> 
> 
> /var/root/go/pkg/mod/google.golang.org

OK，指令行工具完成后，开始下载官方的类包

> go get github.com/golang/protobuf/proto

上面这步可以省略了

> mv /Users/wangdongyan/Downloads/protoc\-3.15.8\-osx\-x86\_64 ~/go/bin

执行protoc 会提示找不到 protoc\-gen\-go

> export PATH "$PATH:/var/root/go/bin"

或

> export PATH=$PATH:/var/root/go/bin

## 测试demo

> touch RequestLogin.proto
> 
> 
> ./protoc \-\-go\_out=. RequestLogin.proto
> 
> 
> ls一下，RequestLogin.pb.go 文件就在当前目录生成了

截取一段代码分析吧

```
syntax = "proto3";

package myproto;
option go_package ="./;myproto";

message RequestClientPong{
    required    int32               add_time    = 1;
    optional    string              cc          = 2;
    repeated    Player              player_list = 3;
    optional    Player              player      = 4;
    required    map<int32,CfgActions> rtt_times = 5;
}

message Player{
    int64       id            = 1;
    bytes       role_id       = 2;
    string      nickname      = 3;
    fixed32       status        = 4;
    float       add_time      = 5;
    PhoneType   phone_type    = 6 [default=HOME];
    sex         bool        = 7;
}

enum PhoneType {
    //allow_alias = true;
    MOBILE = 0;
    HOME = 1;
    WORK = 2;
}

```

1. syntax: 版本号，现在大部分都是3，旧的是2，关于两个版本区别下面讲
2. package: 该文件定义成一个包，包名，像对全名空间不感冒的PHP 可以忽略它
3. option go\_package: 属于哪个目录/输出路径，现在的版本：不写就报错

下面是核心，定义一个通信协议内容格式：

```
message 协议名{
    描述类型 字段类型 字段名 字段顺序
}
```

#### 描述类型:

1. required:必须有值，不能为空
2. optional:可有值可为空
3. repeated:用于定义数组，或引用其它自定义的结构类型
4. enum:枚举，可以嵌套的写，但，大多数都是单独拿到外层写

> proto3已经删除了:required和optional，默认都是：optional。

#### 字段类型

|关键字          |包含类型                                |说明    |注意                                |
|----------------|----------------------------------------|--------|------------------------------------|
|int             |int32 int64 uint32 uint64 sint32 sint64 |数字    |sint32 sint64，对负数优化较好       |
|fixed           |fixed32 fixed64 sfixed32 sfixed64       |定长数字|速度较好                            |
|bytes           |                                        |字节    |                                    |
|bool            |                                        |布尔    |                                    |
|string          |                                        |字符串  |                                    |
|float           |                                        |单精度  |                                    |
|double          |                                        |双精度  |                                    |
|map\<type,type\>|int fixed bytes bool string float double|字典    |它其实是复杂类型：包含上面所有的类型|
|any             |以上全部                                |泛型    |当不确定什么数据类型时，使用此值    |

> varint的优点是动态压缩，数字是动态的长度，好处是传输快，但是两端要消耗计算量，要没特别要求，用fixed感觉更好些。
> 
> 
> any这个东西个人觉得还是小心使用，不仅仅是性能问题，它在每个语言的处理上也略有差异。

#### 字段名

正常起个名字而以，不重复，有一定说明的意义即可

#### 字段顺序

对字段标识一下，顺序号，主要是序列化与反序列化时，filed\_number使用

## JS

先来试试

> protoc \-\-js\_out=. api.proto

TMD，真简单，直接成功...就是有点缺点：生成了一堆类文件，而不是一个PB文件

具说，生成的文件NODEJS 直接可以用，无奈我是浏览器版的JS，接着找文档

查了查，好像挺麻烦，大致得下载几个依赖包：browserify、google\-protobuf，但都NPM的教程，所以还得下个NPM，又一查，直接安个NODEJS编译器，自带NPM

于是NODE官方，直接下载MAC包，下一步下一步完成。

node安装位置

> /usr/local/bin

npm下载包的位置

> /usr/local/lib/node\_modules

```
npm install -g require
npm install -g browserify
npm install -g google-protobuf
```

> source /etc/profile

> cd /data/www/golang/src/frame\_sync/myproto

重新编译下

> protoc \-\-js\_out=import\_style=commonjs,binary:. api.proto

这回好了，不是一堆JS文件了，只有一个PB.JS 文件了，NICE\!\!\!

> browserify exports.js \> api\_web\_pb.js
> 
> 
> mv api\_web\_pb.js ../www/

> protoc \-\-go\_out=. api.proto
> 
> 
> mv api.pb.go ../

%E6%A6%82%E8%A7%88%0A\-\-\-%0A%E4%B8%BB%E8%A6%81%E5%8A%9F%E8%83%BD%EF%BC%9A%E5%8E%8B%E7%BC%A9%E6%95%B0%E6%8D%AE%E3%80%82%E6%95%B0%E6%8D%AE%E5%9C%A8%E7%BD%91%E7%BB%9C%E4%BC%A0%E8%BE%93%E8%BF%87%E7%A8%8B%E4%B8%AD%EF%BC%8C%E5%AF%B9%E6%95%B0%E8%BF%9B%E8%A1%8C%E6%A0%BC%E5%BC%8F%E5%AE%9A%E4%B9%89%EF%BC%8C%E5%8E%8B%E7%BC%A9%E5%85%B6%E5%86%85%E5%AE%B9%EF%BC%8C%E6%8F%90%E9%AB%98%E4%BC%A0%E8%BE%93%E6%80%A7%E8%83%BD%E3%80%82%E5%8F%AF%E8%B7%A8%E8%AF%AD%E8%A8%80%E3%80%81%E8%B7%A8%E5%B9%B3%E5%8F%B0%E3%80%82%0A%3E%E7%B1%BB%E4%BC%BCjson%E3%80%81xml%E6%A0%BC%E5%BC%8F%EF%BC%8C%E4%B9%9F%E5%8F%AF%E4%BB%A5%E7%AE%80%E5%8D%95%E7%90%86%E8%A7%A3%E4%B8%BA%E5%B0%86%EF%BC%9A%E5%B0%86%E6%95%B0%E6%8D%AE%E5%BA%8F%E5%88%97%E5%8C%96%0A%0A%E5%A4%A7%E4%BD%93%E6%B5%81%E7%A8%8B%0A\-\-\-%0A\!%5B399dbd9435dc6e97360400358cbc0db0.png%5D\(evernotecid%3A%2F%2F10DE096E\-2A4C\-4D0F\-BF3F\-D635A56EE3B6%2Fappyinxiangcom%2F35868219%2FENResource%2Fp50\)%0A%0A1.%20%E4%BD%BF%E7%94%A8%E6%96%B9%2F%E5%8F%91%E8%B5%B7%E6%96%B9%EF%BC%8C%E9%9C%80%E8%A6%81%E5%85%88%E5%AE%9A%E4%B9%89\(%E5%8D%8F%E8%B0%83\)%E5%A5%BD.proto%E6%8F%8F%E8%BF%B0%E6%96%87%E4%BB%B6%0A2.%20%E4%BD%BF%E7%94%A8%E6%96%B9%EF%BC%8C%E9%9C%80%E8%A6%81%E5%85%88%E4%B8%8B%E8%BD%BD%E4%B8%80%E4%B8%AAprotobuf%E7%BC%96%E8%AF%91%E5%99%A8%E8%BD%AF%E4%BB%B6%0A3.%20%E4%BD%BF%E7%94%A8%E8%BD%AF%E4%BB%B6%EF%BC%8C%E7%BC%96%E8%AF%91%20.proto%20%E6%8F%8F%E8%BF%B0%E6%96%87%E4%BB%B6%0A4.%20%E7%BC%96%E8%AF%91%E4%B9%8B%E5%89%8D%EF%BC%8C%E9%9C%80%E8%A6%81%E8%AE%BE%E5%AE%9A%E5%A5%BD%E8%A6%81%E7%94%9F%E6%88%90%E5%93%AA%E7%A7%8D%E8%AF%AD%E8%A8%80%E7%9A%84%E5%8F%AF%E8%83%BD%E6%89%A7%E8%A1%8C%E4%BB%A3%E7%A0%81%0A5.%20%E5%B0%86%E7%BC%96%E8%AF%91%E5%99%A8%E7%94%9F%E6%88%90%E5%A5%BD%E7%9A%84%E4%BB%A3%E7%A0%81%E5%B5%8C%E5%85%A5%E5%88%B0%E8%87%AA%E5%B7%B1%E7%9A%84%E7%B1%BB%E5%BA%93%E4%B8%AD%0A6.%20%E6%9C%80%E5%90%8E%EF%BC%8C%E9%A1%B9%E7%9B%AE%E4%BD%BF%E7%94%A8%E6%97%B6%E6%89%A7%E8%A1%8C%E5%BA%8F%E5%88%97%E5%8C%96%2F%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%0A%0A%0A%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86%0A\-\-\-%0A%E5%AE%83%E7%9A%84%E6%A0%B8%E5%BF%83%E5%85%B6%E5%AE%9E%E6%98%AF%3A%20.proto%E6%8F%8F%E8%BF%B0%E6%96%87%E4%BB%B6%E3%80%82%E5%AE%83%E7%9A%84%E6%96%87%E4%BB%B6%E5%86%85%E5%AE%B9%E5%AE%9A%E4%B9%89%E4%BA%86%E9%80%9A%E4%BF%A1%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E3%80%82%0A%E8%80%8C%E5%88%86%E6%9E%90%E7%9C%8B%EF%BC%8C%E5%AE%83%E7%9A%84%E5%86%85%E5%AE%B9%E6%A0%BC%E5%BC%8F%EF%BC%9A%E4%B8%8E%E4%BB%BB%E4%BD%95%E8%AF%AD%E8%A8%80%E6%97%A0%E5%85%B3%EF%BC%8C%E5%BE%80%E6%9B%B4%E5%BA%95%E5%B1%82%E8%AF%B4%E6%9B%B4%E5%83%8F%E6%98%AF%E4%B8%80%E4%B8%AA%E6%96%87%E6%9C%AC%E6%A0%BC%E5%BC%8F\(%E8%87%AA%E5%AE%9A%E4%B9%89%E6%A0%BC%E5%BC%8F\)%EF%BC%8C%E7%BC%96%E8%AF%91%E5%99%A8%E5%B0%B1%E6%98%AF%E8%A7%A3%E6%9E%90%E8%BF%99%E4%BA%9B%E5%B9%BF%E6%9C%AC%E6%A0%BC%E5%BC%8F%EF%BC%8C%E7%94%9F%E6%88%90%E4%B8%8D%E5%90%8C%E8%AF%AD%E8%A8%80%E7%9A%84%E5%8F%AF%E6%89%A7%E8%A1%8C%E4%BB%A3%E7%A0%81%E3%80%82%0A%0A%E5%85%88%E7%9C%8B%E4%B8%80%E4%B8%8B%E6%9C%80%E7%BB%88%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%95%B0%E6%8D%AE%E6%B5%81%E7%9A%84%E6%A0%BC%E5%BC%8F%EF%BC%9A%0A\!%5B389cb768f359eb8d87fffec4a30033b4.png%5D\(evernotecid%3A%2F%2F10DE096E\-2A4C\-4D0F\-BF3F\-D635A56EE3B6%2Fappyinxiangcom%2F35868219%2FENResource%2Fp51\)%0A\!%5Bb1ee7657dcdd87a5ae4c0a5db2b86de9.png%5D\(evernotecid%3A%2F%2F10DE096E\-2A4C\-4D0F\-BF3F\-D635A56EE3B6%2Fappyinxiangcom%2F35868219%2FENResource%2Fp52\)%0A%0A%0A%0A%E6%AF%8F%E4%B8%AA%E5%AD%97%E6%AE%B5%E5%8D%A0%E4%B8%80%E9%83%A8%E5%88%86%EF%BC%8C%E8%80%8C%E6%AF%8F%E4%B8%AA%E9%83%A8%E5%88%86%E5%8F%88%E8%A2%AB%E5%88%86%E6%88%90%E4%BA%863%E4%B8%AA%E5%AD%90%E9%83%A8%E5%88%86\(TLV\(tag\-length\-value\)%20\)%EF%BC%8C%E5%85%B6%E5%AE%9ETAG%E5%AD%90%E9%83%A8%E5%88%86%E5%8F%88%E8%A2%AB%E5%88%92%E5%88%86%E6%88%90%E4%BA%86%EF%BC%9A%E4%B8%A4%E4%B8%AA%E5%AD%90%E5%AD%90%E9%83%A8%E5%88%86%EF%BC%9Afield\_number%2Bwite\_type%0A%0A%0A%23%23%23%23%20wire\_type%0A%0A%7C%20type%20%7C%20meaning%20%7CUser%20for%20%20%7C%0A%7C%20\-\-\-%20%7C%20\-\-\-%20%7C%20\-\-\-%20%7C%0A%7C%200%20%7C%20varint%20%7C%20int32%20int64%20unit32%20uint64%20sint32%20sint64%20bool%20enum%20%7C%0A%7C%201%20%7C%2064\-bit%20%7C%20fixed64%20sfixed64%20dobule%20%7C%0A%7C%202%20%7C%20length\-delimited%20%7C%20string%20bytes%20\(embedded%20messages\)%20repeated%20%7C%0A%7C%203%20%7C%20%E6%94%BE%E5%BC%83%20%7C%20%20%7C%0A%7C%20%204%7C%20%E6%94%BE%E5%BC%83%20%7C%20%20%7C%0A%7C%205%20%7C%2032\-bit%20%7C%20%20fixed32%20sfixed64%20float%7C%0A%0A%0Avarint%3A%E5%85%B6%E5%AE%9E%E4%B9%9F%E7%AE%97%E6%98%AF%E5%AE%9A%E9%95%BF%EF%BC%8C%E6%89%80%E4%BB%A5%E4%B8%8D%E9%9C%80%E8%A6%81length%EF%BC%8C%E5%85%B6%E5%86%85%E9%83%A8%E7%BB%93%E6%9E%84%E5%B0%B1%E5%8F%98%E6%88%90%E4%BA%86%EF%BC%9ATV%E6%A0%BC%E5%BC%8F%20%0A64\-bit%E5%92%8C32\-bit%3A%E5%85%B6%E5%AE%9E%E4%B9%9F%E7%AE%97%E6%98%AF%E5%AE%9A%E9%95%BF%EF%BC%8C%E6%89%80%E4%BB%A5%E4%B8%8D%E9%9C%80%E8%A6%81length%0A%0A%0A%23%23%23%23%20varint%0Avarint%EF%BC%8C%E7%9B%B4%E8%AF%91%EF%BC%9A%E5%8F%98%E9%95%BF%E7%9A%84%E6%95%B4%E6%95%B0%E6%95%B0%E5%AD%97%E3%80%82%E4%B9%9F%E7%AE%97%E6%98%AF%E4%B8%80%E7%A7%8D%E5%8E%8B%E7%BC%A9%E7%AE%97%E6%B3%95%EF%BC%8C%E5%AF%B9%E6%95%B4%E5%BD%A2%E8%BF%9B%E8%A1%8C%E8%BF%9B%E4%B8%80%E6%AD%A5%E7%9A%84%E5%8E%8B%E7%BC%A9%E3%80%82%0A%E5%A6%82%EF%BC%9Aint32%20%EF%BC%8C4%E4%B8%AA%E5%AD%97%E8%8A%82%EF%BC%8C%E6%AD%A4%E6%97%B6%E6%9C%89%E4%B8%80%E4%B8%AA%E6%95%B0%E5%AD%97%EF%BC%9A1%20%EF%BC%8C%E5%85%B6%E6%9C%80%E7%BB%88%E7%9A%84%E4%BA%8C%E8%BF%9B%E5%88%B6%EF%BC%9A%0A%3E00000000%2000000000%2000000000%2000000001%20%0A%0A%E6%88%91%E4%BB%AC%E5%8F%91%E7%8E%B0%EF%BC%8C%E5%89%8D3%E4%B8%AA%E5%AD%97%E8%8A%82%E5%9D%87%E4%B8%BA0%EF%BC%8C%E4%B8%94%E6%B2%A1%E4%BB%80%E4%B9%88%E7%94%A8%E3%80%82%E5%BC%80%E5%90%AF%E5%8E%8B%E7%BC%A9%E6%A8%A1%E5%BC%8F%EF%BC%9A%E5%88%A0%E9%99%A4%E5%89%8D3%E4%B8%AA%E5%AD%97%E8%8A%82%EF%BC%8C%E5%8F%AA%E7%95%99%E6%9C%80%E5%90%8E%E4%B8%80%E4%B8%AA%E5%AD%97%E8%8A%82%0A%0A%E6%88%91%E4%BB%AC%E6%8D%A2%E4%B8%AA%E6%95%B0%E5%AD%97%EF%BC%8C1024%0A%3E00000000%2000000000%2000000010%2000000000%0A%0A%E5%BC%80%E5%A7%8B%E5%8F%98%E6%8D%A2%EF%BC%9A%0A%E4%BB%8E%E6%9C%80%E5%8F%B3%E4%BE%A7\(%E4%BD%8E%E5%AD%97%E8%8A%82\)%E5%BC%80%E5%A7%8B%EF%BC%8C%E6%88%AA%E5%8F%967%E4%BD%8D%EF%BC%8C0000000%EF%BC%8C%E5%9B%A0%E4%B8%BA%E5%89%8D%E9%9D%A2%E8%BF%98%E6%9C%89%E6%95%B0%E5%AD%97%EF%BC%8C%E9%A6%96%E4%B8%AA%E4%BA%8C%E8%BF%9B%E5%88%B6%E4%BD%8D%E8%A1%A50%EF%BC%8C%E7%AC%AC%E4%B8%80%E5%AD%97%E8%8A%82%E5%B0%B1%E6%98%AF%EF%BC%9A%0A%3E10000000%20%0A%0A%E6%8E%A5%E7%9D%80%E5%86%8D%E6%88%AA%E5%8F%96%E5%87%BA7%E4%BD%8D%200000010%EF%BC%8C%E5%9B%A0%E4%B8%BA%E5%AE%83%E7%9A%84%E5%89%8D%E9%9D%A2%E6%B2%A1%E6%9C%89%E6%95%B0%E5%AD%97%E4%BA%86%EF%BC%8C%E9%A6%96%E4%B8%AA%E4%BA%8C%E8%BF%9B%E5%88%B6%E4%BD%8D%EF%BC%9A%E8%A1%A50%EF%BC%8C%E5%B0%B1%E6%98%AF%EF%BC%9A%0A%3E00000010%0A%0A%E5%90%88%E5%B9%B6%E4%B8%A4%E4%B8%AA%E5%AD%97%E8%8A%82%0A%3E10000000%2000000010%0A%0A%0A%E6%A0%B8%E5%BF%83%E5%8E%9F%E7%90%86%EF%BC%9A%E5%B0%86int%E7%B1%BB%E5%9E%8B%E7%9A%84%E6%95%B0%E5%AD%97%E7%9A%84%E4%BA%8C%E8%BF%9B%E5%88%B6%E5%80%BC%EF%BC%8C%20%E4%BB%8E%E4%BA%8C%E5%8F%B3%E4%BE%A7\(%E4%BD%8E%E5%AD%97%E8%8A%82\)%E5%BC%80%E5%A7%8B%EF%BC%8C%E6%AF%8F%E6%AC%A1%E6%8B%BF%E5%88%B07%E4%B8%AA%E4%BA%8C%E8%BF%9B%E5%88%B6%E4%BD%8D%EF%BC%8C%E5%BC%80%E5%A7%8B%E8%AE%A1%E7%AE%97%EF%BC%8C%E6%B7%BB%E5%8A%A0msb%E4%BD%8D\(%E6%A0%87%E8%AF%86%E4%BD%8D%2F%E5%8D%A0%E4%BD%8D%E7%AC%A6\)%EF%BC%9A%0A1%EF%BC%9A%E5%89%8D%E9%9D%A2%E8%BF%98%E6%9C%89%E6%95%B0%E5%AD%97\(1\)%0A0%EF%BC%9A%E6%B2%A1%E6%9C%89%0A%E8%BF%99%E6%A0%B7%EF%BC%8C%E4%B8%80%E4%B8%AA%E5%AD%97%E8%8A%82%E6%9C%897%E4%B8%AA%E4%BA%8C%E8%BF%9B%E5%88%B6%E4%BD%8D%E8%A1%A8%E7%A4%BA%E6%95%B0%E5%AD%97%EF%BC%8C%E6%9C%80%E9%AB%98%E4%BD%8D%E4%B8%80%E4%B8%AA%E5%8D%A0%E4%BD%8D%E7%AC%A6%EF%BC%8C%E5%BE%AA%E7%8E%AF%0A%E5%88%86%E6%9E%90%EF%BC%9A%E6%95%B0%E5%AD%97%E8%B6%8A%E5%B0%8F%E5%8D%A0%E7%9A%84%E5%AD%97%E8%8A%82%E8%B6%8A%E5%B0%91%EF%BC%8C%E5%A6%82127%E4%BB%A5%E5%86%85%EF%BC%8C%E4%B8%80%E4%B8%AA%E5%AD%97%E8%8A%82%E5%B0%B1%E5%A4%9F%E4%BA%86%E3%80%82%E5%A6%82%E6%9E%9C%E6%95%B0%E5%AD%97%E9%9D%9E%E5%B8%B8%E5%A4%A7%E7%9A%84%E6%97%B6%E5%80%99%EF%BC%8C%E5%8E%9F%E6%9C%AC4%E4%B8%AA%E5%AD%97%E8%8A%82%E8%A1%A8%E7%A4%BA%E4%B8%80%E4%B8%AAint%E5%8F%98%E6%88%90%E4%BA%865%E4%B8%AA%E5%AD%97%E8%8A%82%EF%BC%8C%E5%9B%A0%E4%B8%BA%EF%BC%9A%E6%AF%8F%E4%B8%AA%E5%AD%97%E8%8A%82%E5%8D%B3%E5%B0%91%E4%BA%86%E4%B8%80%E4%B8%AA%E4%BA%8C%E8%BF%9B%E5%88%B6%E4%BD%8D%0A%0A%E7%8E%B0%E5%9C%A8%E8%80%83%E8%99%91%E4%B8%A4%E7%A7%8D%E6%83%85%E5%86%B5%EF%BC%9A\-1%20%E5%92%8C%202147483647%0A%0A%3E10000000%2000000000%2000000000%2000000000%0A%3E11111111%2011111111%2011111111%2011111111%0A%0A%E5%BD%93%E4%B8%BA%E8%B4%9F%E6%95%B0%E6%88%96%E8%80%85%E6%95%B0%E5%AD%97%E9%9D%9E%E5%B8%B8%E5%A4%A7%E7%9A%84%E6%97%B6%E5%80%99%EF%BC%8C%E8%BF%98%E6%98%AF%E4%BB%A57%E4%BD%8D%E5%88%92%E5%88%86%E6%88%90%E4%B8%80%E7%BB%84%EF%BC%8C%E6%AF%8F%E4%B8%AA%E5%AD%97%E8%8A%82%E9%A6%96%E4%BD%8D%E5%86%8D%E5%8A%A0%E4%B8%8A%E5%8D%A0%E7%94%A8%E7%AC%A6%EF%BC%8C%E5%B0%B1%E5%8F%98%E6%88%90%E4%BA%86%EF%BC%9A32%E4%BD%8D%20%2B%204%E4%BD%8D%20%EF%BC%8C%E8%B2%8C%E4%BC%BC%EF%BC%8C%E9%83%BD%E6%98%AF5%E4%B8%AA%E5%AD%97%E8%8A%82%E4%BA%86...%E5%8F%8D%E5%80%92%E6%98%AF%E6%B5%AA%E8%B4%B9%E7%A9%BA%E9%97%B4%E4%BA%86...%0A%0A%3E%E6%97%A5%E5%B8%B8%E8%83%BD%E7%9B%B4%E6%8E%A5%E6%8A%8A%E6%95%B0%E5%AD%97%E7%94%A8%E5%88%B0%E4%B8%8A%E9%99%90%EF%BC%9A2147483647%EF%BC%8C%E5%BE%88%E5%B0%91%EF%BC%8C%E5%9F%BA%E6%9C%AC%E7%94%A8%E4%B8%8D%E5%88%B0%EF%BC%8C%E9%82%A3%E4%B9%88varint%E8%BF%99%E7%A7%8D%E5%8E%8B%E7%BC%A9%E6%9B%B4%E5%A5%BD\(%E5%A4%84%E7%90%86%E6%AD%A3%E6%95%B0\)%EF%BC%8C%E4%BC%A0%E8%BE%93%E6%80%A7%E8%83%BD%E4%B9%9F%E5%B0%B1%E7%95%A5%E9%AB%98%E4%BA%9B%E3%80%82%0A%3E%E4%BD%86%E6%98%AF%E8%B4%9F%E6%95%B0%E8%82%AF%E5%AE%9A%E4%B8%8D%E8%A1%8C%EF%BC%8C%E4%BB%BB%E4%BD%95%E4%B8%80%E4%B8%AA%E8%B4%9F%E6%95%B0%EF%BC%8C%E6%9C%80%E6%9C%80%E6%80%95%E5%B0%8F%E7%9A%84\-1%EF%BC%8C%E4%B9%9F%E6%9C%89%E9%97%AE%E9%A2%98%0A%0A%E5%A4%84%E7%90%86%E8%B4%9F%E6%95%B0%EF%BC%8C%E4%BD%BF%E7%94%A8%E7%9A%84%E6%98%AF%EF%BC%9AZigZag%E7%AE%97%E6%B3%95%EF%BC%8C%E8%BF%99%E9%87%8C%E4%B8%8D%E5%81%9A%E8%AF%A6%E7%BB%86%E8%AE%B2%E8%A7%A3%E4%BA%86......%E7%AE%80%E5%8D%95%E8%AF%B4%E4%B8%8B%EF%BC%9A%0A%E5%BC%95%E5%85%A5%EF%BC%9Asint32%20%E5%92%8C%20sint64%20%E7%B1%BB%E5%9E%8B%EF%BC%8C%E6%9D%A5%E8%A1%A8%E7%A4%BA%E8%B4%9F%E6%95%B0%E3%80%82%E5%85%88%E9%87%87%E7%94%A8%20Zigzag%20%E7%BC%96%E7%A0%81%EF%BC%8C%E5%B0%86%E6%9C%89%E7%AC%A6%E5%8F%B7%E7%9A%84%E6%95%B0%E8%BD%AC%E6%88%90%E6%97%A0%E7%AC%A6%E5%8F%B7%E7%9A%84%E6%95%B0%EF%BC%8C%E5%9C%A8%E9%87%87%E7%94%A8%20Varint%20%E7%BC%96%E7%A0%81%EF%BC%8C%E4%BB%8E%E8%80%8C%E5%87%8F%E5%B0%91%E7%BC%96%E7%A0%81%E5%90%8E%E5%AD%97%E8%8A%82%E6%95%B0%0A%0Avarint%20%E7%BC%BA%E7%82%B9%EF%BC%9A%E8%99%BD%E7%84%B6%E4%BC%A0%E8%BE%93%E5%BF%AB%E4%BA%86%EF%BC%8C%E4%BD%86%E4%B8%A4%E7%AB%AF%E7%9A%84%E5%8E%8B%E7%BC%A9%2F%E5%8F%8D%E5%8E%8B%E7%BC%A9%E4%BC%9A%E5%90%83%E4%BA%9B%E6%80%A7%E8%83%BD%E3%80%82%0A%3E%E4%B8%AA%E4%BA%BA%E8%A7%89%E5%BE%97%EF%BC%8C%E8%BF%99%E7%A7%8D%E8%AE%A1%E7%AE%97%E9%87%8F%EF%BC%8C%E6%8C%89%E7%85%A7%E7%8E%B0%E4%BB%A3%E7%9A%84%E8%AE%A1%E7%AE%97%E6%9C%BA%E9%85%8D%E4%BB%B6%E9%85%8D%E7%BD%AE%EF%BC%8C%E5%BE%AE%E4%B9%8E%E5%85%B6%E5%BE%AE%EF%BC%8C%E5%8F%8D%E5%80%92%E6%98%AF%E7%BD%91%E7%BB%9C%E4%BC%A0%E8%BE%93%E7%9A%84%E5%BC%80%E9%94%80%E6%89%8D%E6%9B%B4%E5%BD%B1%E5%93%8D%E6%80%A7%E8%83%BD%E3%80%81%E7%A8%B3%E5%AE%9A%E6%80%A7%E3%80%82%0A%3E%E4%BD%86%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91%E9%99%A4%E5%A4%96%EF%BC%8C%E5%A4%A7%E9%87%8F%E7%9A%84%E5%BA%8F%E5%88%97%E5%8C%96%2F%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%EF%BC%8C%E6%8E%A7%E5%88%B6%E4%B8%8D%E5%A5%BD%E5%86%85%E5%AD%98%EF%BC%8C%E5%AE%B9%E6%98%93%E5%BC%95%E8%B5%B7%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E6%88%96%E5%86%85%E5%AD%98%E4%B8%8D%E5%A4%9F%0A%0A%23%23%23%23%20TLV%0A%E4%BB%8B%E7%BB%8D%E4%B8%80%E4%B8%8B%20%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%B1%BB%E5%9E%8B%0A%0A%60%60%60%0Amessage%20Test2%20%7B%0A%20%20optional%20string%20b%20%3D%202%3B%0A%7D%0A%60%60%60%0A%E8%AE%BE%E7%BD%AE%3Ab%20%3D%20testing%0A%E7%BC%96%E8%AF%91%E5%90%8E%E7%9A%84%E6%9C%80%E7%BB%88%E7%BB%93%E6%9E%9C%EF%BC%9A%0A%60%60%60%0A12%2007%2074%2065%2073%2074%2069%206e%2067%0A%60%60%60%0A%3E%E4%B8%80%E5%A0%8616%E8%BF%9B%E5%88%B6%E7%9A%84%E6%95%B0%0A%0A1.%20tag%3D12%2C%20%20\-%3E%200001%200010%20%2C%E5%89%8D5%E4%BD%8D0001%200%20%EF%BC%8C%E4%B8%BA2%EF%BC%8C%E4%BB%A3%E8%A1%A8%E7%AC%AC2%E4%B8%AA%E5%AD%97%E6%AE%B5\(field%20number\)%2C%20%E5%90%8E%E4%B8%89%E4%BD%8D%20010%20%E4%B8%BA%20wire%20type%20%3D%202%0A2.%20length%3D07%2C%E5%86%85%E5%AE%B9%E6%80%BB%E9%95%BF%E5%BA%A6%E4%B8%BA7%E4%B8%AA%E5%AD%97%E8%8A%82%0A3.%20value%3D74%2065%2073%2074%2069%206e%2067%20%2Ctesting%E7%9A%84asic%E7%A0%81%0A%0A%0A%23%23%23%23%20demo%0A%E4%B8%8A%E9%9D%A2%E8%AE%B2%E7%9A%84%E8%BF%98%E6%98%AF%E5%A4%AA%E6%8A%BD%E8%B1%A1%EF%BC%8C%E4%B8%BE%E4%B8%AA%E5%AE%9E%E9%99%85%E7%82%B9%E7%9A%84%E4%BE%8B%E5%AD%90%EF%BC%9A%0A%0AJSON%0A%3E%7B%22id%22%3A42%7D%EF%BC%8C9%20bytes%0A%0Axml%0A%3E%3Cid%3E42%3C%2Fid%3E%EF%BC%8C11%20bytes%20%0A%0Aprotobuf%0A%3E0x08%200x2A%EF%BC%8C2%20bytes%0A0x08%20%3D%20field%201%2C%20type%20%EF%BC%9AVariant%0A0x2A%20%3D%2042%20\(raw\)%20or%2021%20\(zigzag\)%0A%0A%23%23%23%23%20%E6%80%BB%E7%BB%93%0A%E4%BC%98%E7%82%B9%EF%BC%9A%0A1.%20%E4%BC%A0%E8%BE%93%E6%80%A7%E8%83%BD%E8%BE%83%E5%A5%BD%EF%BC%8C%E5%9B%A0%E4%B8%BA%E5%8E%8B%E7%BC%A9%E4%BA%86%0A2.%20%E5%8A%A0%E5%AF%86%E3%80%82%E5%9B%A0%E4%B8%BA%E5%8E%8B%E7%BC%A9%E6%88%90%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%96%87%E4%BB%B6%EF%BC%8C%E6%B2%A1%E6%9C%89%20.proto%20%E6%8F%8F%E8%BF%B0%E6%96%87%E4%BB%B6%EF%BC%8C%E4%B8%8D%E5%8F%AF%E8%BF%98%E5%8E%9F%EF%BC%8C%E9%97%B4%E6%8E%A5%E5%AE%9E%E7%8E%B0%E4%BA%86%E5%8A%A0%E5%AF%86%E5%8A%9F%E8%83%BD%0A3.%20%E8%B7%A8%E8%AF%AD%E8%A8%80%EF%BC%8C%E5%90%84%E7%BB%84%E3%80%81%E5%90%84%E9%83%A8%E5%88%86%E4%B9%8B%E9%97%B4%E9%80%9A%E4%BF%A1%E6%97%B6%EF%BC%8C%E5%8F%AA%E9%9C%80%E8%A6%81%E6%9C%89%E4%B8%80%E4%BB%BD%20.proto%20%E6%8F%8F%E8%BF%B0%E6%96%87%E4%BB%B6%EF%BC%8C%E5%90%84%E8%87%AA%E6%98%AF%E4%BB%80%E4%B9%88%E8%AF%AD%E8%A8%80%E5%B0%B1%E9%83%BD%E4%B8%8D%E9%87%8D%E8%A6%81%E4%BA%86%0A%0A%0A%E7%BC%BA%E7%82%B9%EF%BC%9A%0A1.%20%E5%A2%9E%E5%8A%A0%E4%BA%86%E5%A4%8D%E6%9D%82%E5%BA%A6%EF%BC%8C%E5%8E%9F%E6%9C%AC%E9%80%9A%E4%BF%A1%E5%8F%8C%E6%96%B9%E5%B0%B1%E6%AD%A3%E5%B8%B8%E5%AE%9A%E4%B9%89%E4%B8%AA%E6%A0%BC%E5%BC%8F%E5%8D%B3%E5%8F%AF%EF%BC%8C%E7%8E%B0%E5%9C%A8%E8%BF%98%E9%9C%80%E8%A6%81%EF%BC%9A%0A%20%20%20%201.%20%E5%A4%9A%E5%87%BA%E4%B8%80%E4%B8%AA%E6%A6%82%E5%BF%B5%EF%BC%9A%20.proto%20%E6%8F%8F%E8%BF%B0%E6%96%87%E4%BB%B6%0A%20%20%20%202.%20%E5%BE%97%E4%B8%8B%E8%BD%BDproto%20buf%20%E7%BC%96%E8%AF%91%E5%99%A8\(%E7%86%9F%E6%82%89%E7%BC%96%E8%AF%91%E5%99%A8%E7%9A%84%E4%BD%BF%E7%94%A8%E3%80%81%E5%8F%8A%E5%8F%82%E6%95%B0\)%0A%20%20%20%203.%20%E5%BE%97%E7%BC%96%E8%AF%91%20.proto%20%E6%8F%8F%E8%BF%B0%E6%96%87%E4%BB%B6%0A%20%20%20%204.%20%E4%B8%8D%E5%90%8C%E8%AF%AD%E8%A8%80%E5%8F%AF%E8%83%BD%E8%BF%98%E5%BE%97%E5%86%8D%E4%B8%8B%E8%BD%BD%E4%B8%80%E4%B8%AA%E6%8F%92%E4%BB%B6%EF%BC%8C%E5%A6%82%EF%BC%9APHP%E3%80%81golang%E5%B0%B1%E5%BE%97%E5%8D%95%E7%8B%AC%E4%B8%8B%E8%BD%BD%0A%20%20%20%205.%20%E7%BC%96%E8%AF%91%E5%99%A8%E6%9C%89%E7%89%88%E6%9C%AC%E4%B9%8B%E5%88%86%EF%BC%8C%E5%A6%82%E6%9E%9C%E6%8F%8F%E8%BF%B0%E6%96%87%E4%BB%B6%E6%98%AFv%3D2%EF%BC%8C%E4%BD%A0%E7%94%A8protobuf3%E7%9A%84%E7%BC%96%E8%AF%91%E5%99%A8%EF%BC%8C%E5%8F%AF%E8%83%BD%E4%BC%9A%E5%87%BA%E9%94%99%E3%80%82%0A%20%20%20%20%0A2.%20%E8%B0%83%E8%AF%95%E9%BA%BB%E7%83%A6%EF%BC%8C%E5%8E%9F%E6%9C%AC%E9%83%BD%E6%98%AF%E5%AD%97%E7%AC%A6%E7%AC%A6%E6%98%8E%E6%96%87%E4%BC%A0%E8%BE%93%EF%BC%8C%E7%9B%B4%E6%8E%A5%E8%83%BD%E7%9C%8B%E7%BB%93%E6%9E%9C%EF%BC%8C%E8%80%8C%E7%8E%B0%E5%9C%A8%E9%83%BD%E6%98%AF%E4%B8%80%E5%A0%8616%E8%BF%9B%E5%88%B6%E7%A0%81%EF%BC%8C%E4%BA%BA%E7%9C%BC%E7%9C%8B%E4%B8%8D%E5%87%BA%E9%97%AE%E9%A2%98%EF%BC%8C%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E6%97%B6%E5%B0%B1%E7%AE%97%E5%87%BA%E9%94%99%EF%BC%8C%E4%B9%9F%E4%B8%8D%E5%A5%BD%E8%B0%83%E8%AF%95%0A3.%20%E8%99%BD%E7%84%B6%E5%8E%8B%E7%BC%A9%E5%90%8E%E6%8F%90%E9%AB%98%E4%BA%86%E4%BC%A0%E8%BE%93%E6%80%A7%E8%83%BD%EF%BC%8C%E4%BD%86%E6%98%AF%E5%A2%9E%E5%8A%A0%E4%BA%86%E4%B8%A4%E7%AB%AF%E7%9A%84%E8%AE%A1%E7%AE%97%E9%87%8F%EF%BC%9A%E5%BA%8F%E5%88%97%E5%8C%96%2F%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%EF%BC%8C%E5%A6%82%E6%9E%9C%E4%BD%BF%E7%94%A8%E4%B8%8D%E5%A5%BD%EF%BC%8C%E9%80%A0%E6%88%90%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%EF%BC%8C%E6%8C%BA%E5%8F%AF%E6%80%95%E7%9A%84%E3%80%82%0A4.%20%E5%AE%B9%E6%98%93%E8%B5%B0%E5%85%A5%E6%89%A9%E5%B1%95%E7%9A%84%E8%AF%AF%E5%8C%BA%EF%BC%8C%E5%9B%A0%E4%B8%BA%EF%BC%8C%E6%8F%8F%E8%BF%B0%E6%96%87%E4%BB%B6%E7%9A%84%E4%BA%A7%E7%94%9F%EF%BC%8C%E5%A4%A7%E5%AE%B6%E6%8A%8A%E6%9B%B4%E5%A4%9A%E7%9A%84%E5%8A%9F%E8%83%BD%E4%B9%9F%E9%83%BD%E6%83%B3%E9%9B%86%E6%88%90%E8%BF%9B%E6%9D%A5%EF%BC%8C%E5%A6%82%E7%BB%9F%E4%B8%80%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%EF%BC%9A%E7%A9%BA%E7%BB%93%E6%9E%84%E4%BD%93%E3%80%81msg%E7%BB%93%E6%9E%84%E4%BD%93\(code%2Bmessage%2BerrMsg\)%E3%80%81%E6%9E%9A%E4%B8%BE%E5%B8%B8%E9%87%8F%EF%BC%8C%E7%84%B6%E5%90%8E%E5%B0%B1%E5%BC%80%E5%A7%8BDIY%E9%AD%94%E6%94%B9%E5%8E%9Fprotobuf%E7%9A%84%E7%BC%96%E8%AF%91%E5%99%A8%EF%BC%8C%E9%80%A0%E6%88%90%E5%85%AC%E5%8F%B8%E8%87%AA%E6%9C%89%E4%B8%80%E5%A5%97protbuf%E7%BC%96%E8%AF%91%E5%99%A8%EF%BC%8C%E4%B8%80%E4%BD%86protobuf%E7%BC%96%E8%AF%91%E5%99%A8%E5%8D%87%E7%BA%A7%EF%BC%8C%E8%87%AA%E6%9C%89%E7%9A%84%E8%BF%99%E5%A5%97%E5%9F%BA%E6%9C%AC%E4%B8%8A%E4%B8%8D%E5%85%BC%E5%AE%B9%E4%BA%86%E3%80%82%0A%0A%0A%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF%EF%BC%9A%E9%95%BF%E8%BF%9E%E6%8E%A5%E3%80%81%E6%B8%B8%E6%88%8F%0A%3E%E5%8F%8D%E6%AD%A3%E6%88%91%E7%9B%AE%E5%89%8D%E5%8F%AA%E5%9C%A8%E6%B8%B8%E6%88%8F%E9%A2%86%E5%9F%9F%E4%BD%BF%E7%94%A8%E8%BF%87%EF%BC%8C%E5%9B%A0%E4%B8%BA%E6%B8%B8%E6%88%8F%E5%AF%B9%E5%AE%9E%E6%97%B6%E6%80%A7%E8%A6%81%E6%B1%82%E8%BE%83%E9%AB%98%EF%BC%8C%E4%BD%86%E8%AE%BD%E5%88%BA%E7%9A%84%E6%98%AF%EF%BC%9A%E5%A6%82%E6%9E%9C%E8%AE%BF%E9%97%AE%E9%87%8F%E5%A4%A7%E4%B8%94%E6%93%8D%E4%BD%9C%E9%9D%9E%E5%B8%B8%E9%A2%91%E7%B9%81%EF%BC%8C%E5%AF%B9%E4%B8%A4%E7%AB%AF%E7%9A%84%E8%AE%A1%E7%AE%97%E9%87%8F~%E7%A8%B3%E5%AE%9A%E6%80%A7%E4%B9%9F%E6%9C%89%E8%A6%81%E6%B1%82%EF%BC%8Cprotobuf%E5%8F%8D%E8%80%8C%E6%BB%A1%E8%B6%B3%E4%B8%8D%E4%BA%86%EF%BC%8C%E5%BE%97%E8%87%AA%E5%B7%B1%E5%86%99%E4%B8%80%E5%A5%97%E3%80%82%0A%0A%E5%85%B7%E8%AF%B4%E4%B8%80%E4%BA%9B%E5%A4%A7%E5%9E%8B%E5%85%AC%E5%8F%B8%EF%BC%8C%E5%BE%AE%E6%9C%8D%E5%8A%A1%E7%9A%84%E5%9C%BA%E6%99%AF%E4%B9%9F%E4%BD%BF%E7%94%A8.proto%E6%96%87%E4%BB%B6%EF%BC%9A%E7%94%A8%E4%BA%8E%E5%A4%9A%E8%AF%AD%E8%A8%80%E7%BB%9F%E4%B8%80%E9%80%9A%E4%BF%A1%E6%95%B0%E6%8D%AE%E5%AE%9A%E4%B9%89%E3%80%82%E4%B9%9F%E5%B0%B1%E6%98%AF%E9%9D%A2%E5%90%91.proto%E5%81%9A%E9%80%9A%E4%BF%A1%E7%BC%96%E7%A8%8B%EF%BC%8C%E4%BD%86%E6%88%91%E6%B2%A1%E5%A4%A7%E6%89%B9%E9%87%8F%E7%9A%84%E4%BD%BF%E7%94%A8%E8%BF%87%EF%BC%8C%E4%BB%85%E5%9C%A8%E5%B0%8F%E9%A1%B9%E7%9B%AE%E4%BD%BF%E7%94%A8%E3%80%82%0A%0A%E4%BD%BF%E7%94%A8%0A\-\-\-\-%0A%E5%85%88%E4%B8%8B%E8%BD%BD%20protobuf%20%E7%BC%96%E8%AF%91%E8%BD%AF%E4%BB%B6\(%E6%A0%B9%E6%8D%AE%E8%87%AA%E5%B7%B1%E7%9A%84OS%E8%87%AA%E8%A1%8C%E9%80%89%E6%8B%A9\)%0A%3Ewget%20https%3A%2F%2Fgithub.com%2Fprotocolbuffers%2Fprotobuf%2Freleases%2Fdownload%2Fv3.15.8%2Fprotoc\-3.15.8\-osx\-x86\_64.zip%0A%0A%0A%3EGOLANG%20%E5%92%8Cprotobuf%20%E9%83%BD%E6%98%AFgoogle%E5%85%AC%E5%8F%B8%E5%87%BA%E5%93%81%EF%BC%8C%E6%8C%89%E8%AF%B4%E4%B8%80%E4%B8%AA%E5%8C%85%E5%BA%94%E8%AF%A5%E5%B0%B1%E5%A4%9F%E4%BA%86%EF%BC%8C%E7%84%B6%E8%80%8C%EF%BC%8C%E8%BF%98%E5%BE%97%E5%86%8D%E4%B8%8B%E8%BD%BD%E4%B8%AA%E6%8F%92%E4%BB%B6%E3%80%82%E5%85%B6%EF%BC%9A%E5%B0%86.proto%E6%96%87%E4%BB%B6%E7%94%A8%E4%B8%8A%E9%9D%A2%E7%9A%84%E5%B7%A5%E4%BD%9C%E8%BD%AC%E6%8D%A2%E6%88%90%E5%AF%B9%E5%BA%94%E7%9A%84%E6%96%87%E4%BB%B6%E5%90%8E%EF%BC%8C%E8%BF%98%E5%BE%97%E5%86%8D%E7%94%A8%E6%8F%92%E4%BB%B6%E8%BD%AC%E6%8D%A2%E6%88%90GO%E8%AF%AD%E8%A8%80%E7%9A%84%EF%BC%8C%E5%8F%AF%E8%83%BD%E7%9A%84%E8%A7%A3%E9%87%8A%E7%9A%84%E5%B0%B1%E6%98%AF%EF%BC%9A%0A%0A1.%20probuf%E5%AD%98%E5%9C%A8%E7%9A%84%E6%97%B6%E5%80%99%E5%8E%8B%E6%A0%B9%E6%B2%A1%E6%9C%89GO%E8%AF%AD%E8%A8%80%0A2.%20%E4%B8%A4%E4%B8%AA%E4%B8%9C%E8%A5%BF%E4%B8%8D%E6%98%AF%E4%B8%80%E4%B8%AA%E7%BB%84%E5%BC%80%E5%8F%91%E7%9A%84%0A3.%20%E6%A8%A1%E5%9D%97%E5%88%86%E5%89%B2%E6%B8%85%E6%A5%9A%EF%BC%8Cprotobuf%E5%B0%B1%E6%98%AF%E5%B8%AE%E5%8A%A9%E5%81%9A%E6%9C%80%E5%9F%BA%E7%A1%80%E7%9A%84%E8%A7%A3%E6%9E%90%EF%BC%8C%E5%85%B7%E4%BD%93%E4%BD%BF%E7%94%A8%E8%80%85%E6%98%AF%E4%BB%80%E4%B9%88%E8%AF%AD%E8%A8%80%EF%BC%8C%E5%86%8D%E5%8D%95%E7%8B%AC%E5%AE%89%E8%A3%85%0A%0A%3E%E8%BF%99%E9%87%8C%E4%BB%A5GOLANG%E4%B8%BA%E4%BD%BF%E7%94%A8%E8%AF%AD%E8%A8%80%EF%BC%8C%E5%85%B6%E5%AE%83%E8%AF%AD%E8%A8%80%E8%87%AA%E8%A1%8C%E6%9F%A5%E9%98%85%E6%96%87%E6%A1%A3%E5%90%A7%0A%0A%E5%AE%89%E8%A3%85%20golang%20%E7%9A%84%20protobuf%20%E7%BC%96%E8%AF%91%E5%99%A8%E6%8F%92%E4%BB%B6%EF%BC%9A%0A%3Ego%20install%20github.com%2Fgolang%2Fprotobuf%2Fprotoc\-gen\-go%0A%3Ego%20install%20github.com%2Fgolang%2Fprotobuf%2Fprotoc\-gen\-go%40latest%0A%0A%E8%BF%99%E4%B8%A4%E4%B8%AA%E5%8C%85%E4%B8%8D%E7%A1%AE%E5%AE%9A%E6%98%AF%E5%B9%B2%E4%BB%80%E4%B9%88%E7%9A%84%EF%BC%9A%0A%0A%3Egoogle.golang.org%2Fprotobuf%2Freflect%2Fprotoreflect%40v1.26.0%0A%3Ego%20install%20google.golang.org%2Fgrpc%2Fcmd%2Fprotoc\-gen\-go\-grpc%40latest%0A%0A%0A%E8%BF%99%E9%87%8C%E6%B3%A8%E6%84%8F%EF%BC%8C%E6%AD%A3%E5%B8%B8%E5%AE%89%E8%A3%85%20GRPC%20PROTOBUF%20%E7%9A%84%E5%8C%85%E6%98%AF%E9%97%AE%E9%A2%98%EF%BC%8C%E4%BD%86%E6%98%AFETCD%E4%B8%8EGRPC%E5%86%B2%E7%AA%81%EF%BC%8C%E4%B8%8D%E8%83%BD%E4%BD%BF%E7%94%A8%E6%9C%80%E6%96%B0%E7%9A%84GRPC%EF%BC%8C%E6%89%80%E4%BB%A5%EF%BC%8C%E5%A6%82%E6%9E%9C%E6%83%B3%E4%B8%80%E8%B5%B7%E4%BD%BF%E7%94%A8%EF%BC%8C%E5%B0%B1%E5%BE%97%E9%99%8D%E4%BD%8E%20protoc\-gen\-go%20%E7%89%88%E6%9C%AC%0A%0A%3Ego%20install%20github.com%2Fgolang%2Fprotobuf%2Fprotoc\-gen\-go%40v1.2.0%0A%0A%0A%E5%A5%BD%E5%83%8F%E8%BF%9E%E5%B8%A6%E7%9D%80%20%E5%BA%93%E9%83%BD%E7%BB%99%E4%B8%8B%E4%BA%86%EF%BC%8C%E5%85%88%E4%B8%8D%E7%AE%A1%E4%BA%86%EF%BC%8C%E5%85%88%E6%89%BE%E4%B8%80%E4%B8%8B%E5%8C%85%E4%B8%8B%E5%88%B0%E5%93%AA%E9%87%8C%E4%BA%86%0A%3Ego%20env%20%20%0A%0A%E7%9C%8B%E4%B8%8Bgopath%20%0A%0A%0A%E5%8F%AF%E6%89%A7%E8%A1%8C%E6%96%87%E4%BB%B6%E8%A2%AB%E6%90%9E%E5%88%B0%E8%BF%99%E9%87%8C%E4%BA%86%0A%3E~%2Fgo%2Fbin%20\-%3E%20%2Fvar%2Froot%2Fgo%2Fbin%20%0A%E7%B1%BB%E5%8C%85%E5%9C%A8%E8%BF%99%E9%87%8C%0A%3E%2Fvar%2Froot%2Fgo%2Fpkg%2Fmod%2Fgoogle.golang.org%20%20%20%0A%0AOK%EF%BC%8C%E6%8C%87%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7%E5%AE%8C%E6%88%90%E5%90%8E%EF%BC%8C%E5%BC%80%E5%A7%8B%E4%B8%8B%E8%BD%BD%E5%AE%98%E6%96%B9%E7%9A%84%E7%B1%BB%E5%8C%85%0A%3Ego%20get%20github.com%2Fgolang%2Fprotobuf%2Fproto%0A%0A%E4%B8%8A%E9%9D%A2%E8%BF%99%E6%AD%A5%E5%8F%AF%E4%BB%A5%E7%9C%81%E7%95%A5%E4%BA%86%0A%0A%3Emv%20%2FUsers%2Fwangdongyan%2FDownloads%2Fprotoc\-3.15.8\-osx\-x86\_64%20~%2Fgo%2Fbin%0A%0A%E6%89%A7%E8%A1%8Cprotoc%20%E4%BC%9A%E6%8F%90%E7%A4%BA%E6%89%BE%E4%B8%8D%E5%88%B0%20protoc\-gen\-go%0A%3Eexport%20PATH%20%22%24PATH%3A%2Fvar%2Froot%2Fgo%2Fbin%22%20%20%0A%0A%E6%88%96%0A%3Eexport%20PATH%3D%24PATH%3A%2Fvar%2Froot%2Fgo%2Fbin%0A%0A%0A%E6%B5%8B%E8%AF%95demo%0A\-\-\-\-\-\-%0A%3Etouch%20RequestLogin.proto%0A%3E.%2Fprotoc%20\-\-go\_out%3D.%20RequestLogin.proto%0Als%E4%B8%80%E4%B8%8B%EF%BC%8CRequestLogin.pb.go%20%E6%96%87%E4%BB%B6%E5%B0%B1%E5%9C%A8%E5%BD%93%E5%89%8D%E7%9B%AE%E5%BD%95%E7%94%9F%E6%88%90%E4%BA%86%0A%0A%E6%88%AA%E5%8F%96%E4%B8%80%E6%AE%B5%E4%BB%A3%E7%A0%81%E5%88%86%E6%9E%90%E5%90%A7%0A%60%60%60%0Asyntax%20%3D%20%22proto3%22%3B%0A%0Apackage%20myproto%3B%0Aoption%20go\_package%20%3D%22.%2F%3Bmyproto%22%3B%0A%0Amessage%20RequestClientPong%7B%0A%20%20%20%20required%20%20%20%20int32%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20add\_time%20%20%20%20%3D%201%3B%0A%20%20%20%20optional%20%20%20%20string%20%20%20%20%20%20%20%20%20%20%20%20%20%20cc%20%20%20%20%20%20%20%20%20%20%3D%202%3B%0A%20%20%20%20repeated%20%20%20%20Player%20%20%20%20%20%20%20%20%20%20%20%20%20%20player\_list%20%3D%203%3B%0A%20%20%20%20optional%20%20%20%20Player%20%20%20%20%20%20%20%20%20%20%20%20%20%20player%20%20%20%20%20%20%3D%204%3B%0A%20%20%20%20required%20%20%20%20map%3Cint32%2CCfgActions%3E%20rtt\_times%20%3D%205%3B%0A%7D%0A%0A%0Amessage%20Player%7B%0A%20%20%20%20int64%20%20%20%20%20%20%20id%20%20%20%20%20%20%20%20%20%20%20%20%3D%201%3B%0A%20%20%20%20bytes%20%20%20%20%20%20%20role\_id%20%20%20%20%20%20%20%3D%202%3B%0A%20%20%20%20string%20%20%20%20%20%20nickname%20%20%20%20%20%20%3D%203%3B%0A%20%20%20%20fixed32%20%20%20%20%20%20%20status%20%20%20%20%20%20%20%20%3D%204%3B%0A%20%20%20%20float%20%20%20%20%20%20%20add\_time%20%20%20%20%20%20%3D%205%3B%0A%20%20%20%20PhoneType%20%20%20phone\_type%20%20%20%20%3D%206%20%5Bdefault%3DHOME%5D%3B%0A%20%20%20%20sex%20%20%20%20%20%20%20%20%20bool%20%20%20%20%20%20%20%20%3D%207%3B%0A%7D%0A%0Aenum%20PhoneType%20%7B%0A%20%20%20%20%2F%2Fallow\_alias%20%3D%20true%3B%0A%20%20%20%20MOBILE%20%3D%200%3B%0A%20%20%20%20HOME%20%3D%201%3B%0A%20%20%20%20WORK%20%3D%202%3B%0A%7D%0A%0A%60%60%60%0A%0A1.%20syntax%3A%20%E7%89%88%E6%9C%AC%E5%8F%B7%EF%BC%8C%E7%8E%B0%E5%9C%A8%E5%A4%A7%E9%83%A8%E5%88%86%E9%83%BD%E6%98%AF3%EF%BC%8C%E6%97%A7%E7%9A%84%E6%98%AF2%EF%BC%8C%E5%85%B3%E4%BA%8E%E4%B8%A4%E4%B8%AA%E7%89%88%E6%9C%AC%E5%8C%BA%E5%88%AB%E4%B8%8B%E9%9D%A2%E8%AE%B2%0A2.%20package%3A%20%E8%AF%A5%E6%96%87%E4%BB%B6%E5%AE%9A%E4%B9%89%E6%88%90%E4%B8%80%E4%B8%AA%E5%8C%85%EF%BC%8C%E5%8C%85%E5%90%8D%EF%BC%8C%E5%83%8F%E5%AF%B9%E5%85%A8%E5%90%8D%E7%A9%BA%E9%97%B4%E4%B8%8D%E6%84%9F%E5%86%92%E7%9A%84PHP%20%E5%8F%AF%E4%BB%A5%E5%BF%BD%E7%95%A5%E5%AE%83%0A3.%20option%20go\_package%3A%20%E5%B1%9E%E4%BA%8E%E5%93%AA%E4%B8%AA%E7%9B%AE%E5%BD%95%2F%E8%BE%93%E5%87%BA%E8%B7%AF%E5%BE%84%EF%BC%8C%E7%8E%B0%E5%9C%A8%E7%9A%84%E7%89%88%E6%9C%AC%EF%BC%9A%E4%B8%8D%E5%86%99%E5%B0%B1%E6%8A%A5%E9%94%99%0A%0A%E4%B8%8B%E9%9D%A2%E6%98%AF%E6%A0%B8%E5%BF%83%EF%BC%8C%E5%AE%9A%E4%B9%89%E4%B8%80%E4%B8%AA%E9%80%9A%E4%BF%A1%E5%8D%8F%E8%AE%AE%E5%86%85%E5%AE%B9%E6%A0%BC%E5%BC%8F%EF%BC%9A%0A%60%60%60%0Amessage%20%E5%8D%8F%E8%AE%AE%E5%90%8D%7B%0A%20%20%20%20%E6%8F%8F%E8%BF%B0%E7%B1%BB%E5%9E%8B%20%E5%AD%97%E6%AE%B5%E7%B1%BB%E5%9E%8B%20%E5%AD%97%E6%AE%B5%E5%90%8D%20%E5%AD%97%E6%AE%B5%E9%A1%BA%E5%BA%8F%0A%7D%0A%60%60%60%0A%0A%23%23%23%23%20%E6%8F%8F%E8%BF%B0%E7%B1%BB%E5%9E%8B%3A%0A1.%20required%3A%E5%BF%85%E9%A1%BB%E6%9C%89%E5%80%BC%EF%BC%8C%E4%B8%8D%E8%83%BD%E4%B8%BA%E7%A9%BA%0A2.%20optional%3A%E5%8F%AF%E6%9C%89%E5%80%BC%E5%8F%AF%E4%B8%BA%E7%A9%BA%0A3.%20repeated%3A%E7%94%A8%E4%BA%8E%E5%AE%9A%E4%B9%89%E6%95%B0%E7%BB%84%EF%BC%8C%E6%88%96%E5%BC%95%E7%94%A8%E5%85%B6%E5%AE%83%E8%87%AA%E5%AE%9A%E4%B9%89%E7%9A%84%E7%BB%93%E6%9E%84%E7%B1%BB%E5%9E%8B%0A4.%20enum%3A%E6%9E%9A%E4%B8%BE%EF%BC%8C%E5%8F%AF%E4%BB%A5%E5%B5%8C%E5%A5%97%E7%9A%84%E5%86%99%EF%BC%8C%E4%BD%86%EF%BC%8C%E5%A4%A7%E5%A4%9A%E6%95%B0%E9%83%BD%E6%98%AF%E5%8D%95%E7%8B%AC%E6%8B%BF%E5%88%B0%E5%A4%96%E5%B1%82%E5%86%99%0A%0A%3Eproto3%E5%B7%B2%E7%BB%8F%E5%88%A0%E9%99%A4%E4%BA%86%3Arequired%E5%92%8Coptional%EF%BC%8C%E9%BB%98%E8%AE%A4%E9%83%BD%E6%98%AF%EF%BC%9Aoptional%E3%80%82%0A%0A%0A%0A%23%23%23%23%20%E5%AD%97%E6%AE%B5%E7%B1%BB%E5%9E%8B%0A%0A%7C%E5%85%B3%E9%94%AE%E5%AD%97%20%20%7C%E5%8C%85%E5%90%AB%E7%B1%BB%E5%9E%8B%20%20%7C%E8%AF%B4%E6%98%8E%20%20%7C%E6%B3%A8%E6%84%8F%20%20%7C%0A%7C%20\-\-\-%20%7C%20\-\-\-%20%7C%20\-\-\-%20%7C%20\-\-\-%20%7C%0A%7C%20int%20%7C%20int32%20int64%20uint32%20uint64%20sint32%20sint64%20%20%7C%20%E6%95%B0%E5%AD%97%20%7Csint32%20sint64%EF%BC%8C%E5%AF%B9%E8%B4%9F%E6%95%B0%E4%BC%98%E5%8C%96%E8%BE%83%E5%A5%BD%20%20%20%7C%0A%7C%20fixed%20%7C%20fixed32%20fixed64%20sfixed32%20sfixed64%20%7C%20%E5%AE%9A%E9%95%BF%E6%95%B0%E5%AD%97%20%7C%20%E9%80%9F%E5%BA%A6%E8%BE%83%E5%A5%BD%20%7C%0A%7C%20bytes%20%7C%20%20%7C%20%E5%AD%97%E8%8A%82%20%7C%20%20%7C%0A%7C%20bool%20%7C%20%20%7C%20%E5%B8%83%E5%B0%94%20%7C%20%20%7C%0A%7C%20string%7C%20%20%7C%20%E5%AD%97%E7%AC%A6%E4%B8%B2%20%7C%20%20%7C%0A%7C%20float%7C%20%20%7C%20%E5%8D%95%E7%B2%BE%E5%BA%A6%7C%20%20%7C%0A%7C%20double%7C%20%20%7C%20%E5%8F%8C%E7%B2%BE%E5%BA%A6%20%7C%20%20%7C%0A%7Cmap%3Ctype%2Ctype%3E%7Cint%20fixed%20bytes%20bool%20string%20float%20double%20%20%7C%E5%AD%97%E5%85%B8%7C%E5%AE%83%E5%85%B6%E5%AE%9E%E6%98%AF%E5%A4%8D%E6%9D%82%E7%B1%BB%E5%9E%8B%EF%BC%9A%E5%8C%85%E5%90%AB%E4%B8%8A%E9%9D%A2%E6%89%80%E6%9C%89%E7%9A%84%E7%B1%BB%E5%9E%8B%7C%0A%7Cany%7C%E4%BB%A5%E4%B8%8A%E5%85%A8%E9%83%A8%7C%E6%B3%9B%E5%9E%8B%7C%E5%BD%93%E4%B8%8D%E7%A1%AE%E5%AE%9A%E4%BB%80%E4%B9%88%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E6%97%B6%EF%BC%8C%E4%BD%BF%E7%94%A8%E6%AD%A4%E5%80%BC%7C%0A%0A%3Evarint%E7%9A%84%E4%BC%98%E7%82%B9%E6%98%AF%E5%8A%A8%E6%80%81%E5%8E%8B%E7%BC%A9%EF%BC%8C%E6%95%B0%E5%AD%97%E6%98%AF%E5%8A%A8%E6%80%81%E7%9A%84%E9%95%BF%E5%BA%A6%EF%BC%8C%E5%A5%BD%E5%A4%84%E6%98%AF%E4%BC%A0%E8%BE%93%E5%BF%AB%EF%BC%8C%E4%BD%86%E6%98%AF%E4%B8%A4%E7%AB%AF%E8%A6%81%E6%B6%88%E8%80%97%E8%AE%A1%E7%AE%97%E9%87%8F%EF%BC%8C%E8%A6%81%E6%B2%A1%E7%89%B9%E5%88%AB%E8%A6%81%E6%B1%82%EF%BC%8C%E7%94%A8fixed%E6%84%9F%E8%A7%89%E6%9B%B4%E5%A5%BD%E4%BA%9B%E3%80%82%0A%3Eany%E8%BF%99%E4%B8%AA%E4%B8%9C%E8%A5%BF%E4%B8%AA%E4%BA%BA%E8%A7%89%E5%BE%97%E8%BF%98%E6%98%AF%E5%B0%8F%E5%BF%83%E4%BD%BF%E7%94%A8%EF%BC%8C%E4%B8%8D%E4%BB%85%E4%BB%85%E6%98%AF%E6%80%A7%E8%83%BD%E9%97%AE%E9%A2%98%EF%BC%8C%E5%AE%83%E5%9C%A8%E6%AF%8F%E4%B8%AA%E8%AF%AD%E8%A8%80%E7%9A%84%E5%A4%84%E7%90%86%E4%B8%8A%E4%B9%9F%E7%95%A5%E6%9C%89%E5%B7%AE%E5%BC%82%E3%80%82%0A%0A%23%23%23%23%20%E5%AD%97%E6%AE%B5%E5%90%8D%0A%E6%AD%A3%E5%B8%B8%E8%B5%B7%E4%B8%AA%E5%90%8D%E5%AD%97%E8%80%8C%E4%BB%A5%EF%BC%8C%E4%B8%8D%E9%87%8D%E5%A4%8D%EF%BC%8C%E6%9C%89%E4%B8%80%E5%AE%9A%E8%AF%B4%E6%98%8E%E7%9A%84%E6%84%8F%E4%B9%89%E5%8D%B3%E5%8F%AF%0A%0A%0A%23%23%23%23%20%E5%AD%97%E6%AE%B5%E9%A1%BA%E5%BA%8F%0A%E5%AF%B9%E5%AD%97%E6%AE%B5%E6%A0%87%E8%AF%86%E4%B8%80%E4%B8%8B%EF%BC%8C%E9%A1%BA%E5%BA%8F%E5%8F%B7%EF%BC%8C%E4%B8%BB%E8%A6%81%E6%98%AF%E5%BA%8F%E5%88%97%E5%8C%96%E4%B8%8E%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E6%97%B6%EF%BC%8Cfiled\_number%E4%BD%BF%E7%94%A8%0A%0A%0AJS%0A\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-%0A%E5%85%88%E6%9D%A5%E8%AF%95%E8%AF%95%0A%3Eprotoc%20\-\-js\_out%3D.%20api.proto%0A%0ATMD%EF%BC%8C%E7%9C%9F%E7%AE%80%E5%8D%95%EF%BC%8C%E7%9B%B4%E6%8E%A5%E6%88%90%E5%8A%9F...%E5%B0%B1%E6%98%AF%E6%9C%89%E7%82%B9%E7%BC%BA%E7%82%B9%EF%BC%9A%E7%94%9F%E6%88%90%E4%BA%86%E4%B8%80%E5%A0%86%E7%B1%BB%E6%96%87%E4%BB%B6%EF%BC%8C%E8%80%8C%E4%B8%8D%E6%98%AF%E4%B8%80%E4%B8%AAPB%E6%96%87%E4%BB%B6%0A%0A%E5%85%B7%E8%AF%B4%EF%BC%8C%E7%94%9F%E6%88%90%E7%9A%84%E6%96%87%E4%BB%B6NODEJS%20%E7%9B%B4%E6%8E%A5%E5%8F%AF%E4%BB%A5%E7%94%A8%EF%BC%8C%E6%97%A0%E5%A5%88%E6%88%91%E6%98%AF%E6%B5%8F%E8%A7%88%E5%99%A8%E7%89%88%E7%9A%84JS%EF%BC%8C%E6%8E%A5%E7%9D%80%E6%89%BE%E6%96%87%E6%A1%A3%0A%0A%E6%9F%A5%E4%BA%86%E6%9F%A5%EF%BC%8C%E5%A5%BD%E5%83%8F%E6%8C%BA%E9%BA%BB%E7%83%A6%EF%BC%8C%E5%A4%A7%E8%87%B4%E5%BE%97%E4%B8%8B%E8%BD%BD%E5%87%A0%E4%B8%AA%E4%BE%9D%E8%B5%96%E5%8C%85%EF%BC%9Abrowserify%E3%80%81google\-protobuf%EF%BC%8C%E4%BD%86%E9%83%BDNPM%E7%9A%84%E6%95%99%E7%A8%8B%EF%BC%8C%E6%89%80%E4%BB%A5%E8%BF%98%E5%BE%97%E4%B8%8B%E4%B8%AANPM%EF%BC%8C%E5%8F%88%E4%B8%80%E6%9F%A5%EF%BC%8C%E7%9B%B4%E6%8E%A5%E5%AE%89%E4%B8%AANODEJS%E7%BC%96%E8%AF%91%E5%99%A8%EF%BC%8C%E8%87%AA%E5%B8%A6NPM%0A%0A%E4%BA%8E%E6%98%AFNODE%E5%AE%98%E6%96%B9%EF%BC%8C%E7%9B%B4%E6%8E%A5%E4%B8%8B%E8%BD%BDMAC%E5%8C%85%EF%BC%8C%E4%B8%8B%E4%B8%80%E6%AD%A5%E4%B8%8B%E4%B8%80%E6%AD%A5%E5%AE%8C%E6%88%90%E3%80%82%0A%0Anode%E5%AE%89%E8%A3%85%E4%BD%8D%E7%BD%AE%0A%3E%2Fusr%2Flocal%2Fbin%0A%0Anpm%E4%B8%8B%E8%BD%BD%E5%8C%85%E7%9A%84%E4%BD%8D%E7%BD%AE%0A%3E%2Fusr%2Flocal%2Flib%2Fnode\_modules%0A%0A%60%60%60%0Anpm%20install%20\-g%20require%0Anpm%20install%20\-g%20browserify%0Anpm%20install%20\-g%20google\-protobuf%0A%60%60%60%0A%0A%3Esource%20%2Fetc%2Fprofile%0A%0A%3Ecd%20%2Fdata%2Fwww%2Fgolang%2Fsrc%2Fframe\_sync%2Fmyproto%0A%0A%E9%87%8D%E6%96%B0%E7%BC%96%E8%AF%91%E4%B8%8B%0A%3Eprotoc%20\-\-js\_out%3Dimport\_style%3Dcommonjs%2Cbinary%3A.%20api.proto%0A%0A%E8%BF%99%E5%9B%9E%E5%A5%BD%E4%BA%86%EF%BC%8C%E4%B8%8D%E6%98%AF%E4%B8%80%E5%A0%86JS%E6%96%87%E4%BB%B6%E4%BA%86%EF%BC%8C%E5%8F%AA%E6%9C%89%E4%B8%80%E4%B8%AAPB.JS%20%E6%96%87%E4%BB%B6%E4%BA%86%EF%BC%8CNICE\!\!\!%0A%0A%3Ebrowserify%20exports.js%20%3E%20api\_web\_pb.js%20%20%0A%3Emv%20api\_web\_pb.js%20..%2Fwww%2F%0A%0A%3Eprotoc%20\-\-go\_out%3D.%20api.proto%20%20%20%0A%3Emv%20api.pb.go%20..%2F
