# 正则

^:必须 以 什么 开头 /^the/ :必须以 the 开头

:必须 以 什么 结尾 /the/ :必须以 the 结尾

\+:出现 一次或者多次 /the\+/ :e至少出现一次

_:出现 零次或者多次 /the_/ :e可以出现零次

?:出现 一次或者零次 /the?/ :e可以出现零次或者一次

{n,m}:出现N到M次 /the{2,6}/ :e可以出现2到6次

{n}:出现N次，非负整数 /the{2}/ :e至少出现2次

:转意字符 /the\*/

\\s：单个空格符，包括tab键和换行符 /\\s\+/:一个或者多个空格

\\S：单个空格符之外的所有字符

\\d：从0到9的数字； /\\d\*/:零个或者多个 0－9数字d

\\w：字母，数字或下划线字符

\\W：所有与\\w不匹配的字符；

\[^\]:否定符 /\[^A\-C\]/ :禁止出现 A\-C

|:或 运算 /a|b/　 :a或者b

email 正则 /^\[\-\_A\-Za\-z0\-9\]\+@\(\[\_A\-Za\-z0\-9\]\+.\)\+\[A\-Za\-z0\-9\]{2,3}$/;

```
/[A-Z]/　　
```

/\[a\-z\]/　　

　　 /\[0\-9\]/

/\(\[a\-z\]\[A\-Z\]\[0\-9\]\)\+/

//检索数组

_s__t__r_=_a__r__r__a__y_\("_h__e__l__l__o_","_h__e__l__l__o_2","_n__i__h__a__o_",′_h__e__l__l__o_3′\);rs = preg\_grep\("/hell/",$str\);

//array\_values\(\):把数组的键值重新排序，从0开始

//preg\_match:返回检索字符串中符合个数，只有０跟１，因为他只检索字符串中第一个满足条件的正则

//preg\_match\_all:返回检索字符串中符合个数，他是重头一直检索到字符串的结束位置

_r__s_=_p__r__e__g__m_​_a__t__c__h__a_​_l__l_\("/_a__a_/","_s__d__f__a__s__d__a__a__f__a__a__a__s__s__a__a__d__a__s__d__a__s__d__a__a__d__s__d__s__d__a__a_",arr\);

//preg\_replace:正则替换，可以用数组做为正则和替换值

$search = array \("'\<script\[^\>\]_?\>._?\</script\>'si", // 去掉 javascript

"'\<\[/\!\]_?\[^\<\>\]_?\>'si", // 去掉 HTML 标记

"'\(\[\\r\\n\]\)\[\\s\]\+'", // 去掉空白字符

"'&\(quot|\#34\);'i", // 替换 HTML 实体

"'&\(amp|\#38\);'i",

"'&\(lt|\#60\);'i",

"'&\(gt|\#62\);'i",

"'&\(nbsp|\#160\);'i",

"'&\(iexcl|\#161\);'i",

"'&\(cent|\#162\);'i",

"'&\(pound|\#163\);'i",

"'&\(copy|\#169\);'i",

"'&\#\(\\d\+\);'e"\); // 作为 PHP 代码运行

$replace = array \("",

"",

"\\1",

""",

"&",

"\<",

"\>",

" ",

chr\(161\),

chr\(162\),

chr\(163\),

chr\(169\),

"chr\(\\1\)"\);

_t__e__x__t_=_p__r__e__g__r_​_e__p__l__a__c__e_\(search, $replace, document\); //将字符串按照正则为分界符，转换成数组 rs = preg\_split\('/a/',"1a2a3a4a"\);

/u 表示按unicode\(utf\-8\)匹配（主要针对多字节比如汉字）

/U表示非贪婪模式

/i 表示不区分大小写（如果表达式里面有 a， 那么 A 也是匹配对象）

/s 表示将字符串视为单行来匹配

%5E%3A%E5%BF%85%E9%A1%BB%20%E4%BB%A5%20%E4%BB%80%E4%B9%88%20%E5%BC%80%E5%A4%B4%20%20%20%20%20%20%20%20%20%09%09%2F%5Ethe%2F%09%3A%E5%BF%85%E9%A1%BB%E4%BB%A5%20the%20%E5%BC%80%E5%A4%B4%0A%24%3A%E5%BF%85%E9%A1%BB%20%E4%BB%A5%20%E4%BB%80%E4%B9%88%20%E7%BB%93%E5%B0%BE%09%20%09%09%2Fthe%24%2F%09%3A%E5%BF%85%E9%A1%BB%E4%BB%A5%20the%20%E7%BB%93%E5%B0%BE%0A%2B%3A%E5%87%BA%E7%8E%B0%20%E4%B8%80%E6%AC%A1%E6%88%96%E8%80%85%E5%A4%9A%E6%AC%A1%09%09%09%2Fthe%2B%2F%09%3Ae%E8%87%B3%E5%B0%91%E5%87%BA%E7%8E%B0%E4%B8%80%E6%AC%A1%0A\*%3A%E5%87%BA%E7%8E%B0%20%E9%9B%B6%E6%AC%A1%E6%88%96%E8%80%85%E5%A4%9A%E6%AC%A1%09%09%09%2Fthe\*%2F%09%3Ae%E5%8F%AF%E4%BB%A5%E5%87%BA%E7%8E%B0%E9%9B%B6%E6%AC%A1%0A%3F%3A%E5%87%BA%E7%8E%B0%20%E4%B8%80%E6%AC%A1%E6%88%96%E8%80%85%E9%9B%B6%E6%AC%A1%09%09%09%2Fthe%3F%2F%09%3Ae%E5%8F%AF%E4%BB%A5%E5%87%BA%E7%8E%B0%E9%9B%B6%E6%AC%A1%E6%88%96%E8%80%85%E4%B8%80%E6%AC%A1%0A%7Bn%2Cm%7D%3A%E5%87%BA%E7%8E%B0N%E5%88%B0M%E6%AC%A1%09%09%09%2Fthe%7B2%2C6%7D%2F%09%3Ae%E5%8F%AF%E4%BB%A5%E5%87%BA%E7%8E%B02%E5%88%B06%E6%AC%A1%0A%7Bn%7D%3A%E5%87%BA%E7%8E%B0N%E6%AC%A1%EF%BC%8C%E9%9D%9E%E8%B4%9F%E6%95%B4%E6%95%B0%09%09%09%2Fthe%7B2%7D%2F%09%3Ae%E8%87%B3%E5%B0%91%E5%87%BA%E7%8E%B02%E6%AC%A1%0A%5C%3A%E8%BD%AC%E6%84%8F%E5%AD%97%E7%AC%A6%09%09%09%09%2Fthe%5C\*%2F%0A%0A%5Cs%EF%BC%9A%E5%8D%95%E4%B8%AA%E7%A9%BA%E6%A0%BC%E7%AC%A6%EF%BC%8C%E5%8C%85%E6%8B%ACtab%E9%94%AE%E5%92%8C%E6%8D%A2%E8%A1%8C%E7%AC%A6%09%2F%5Cs%2B%2F%3A%E4%B8%80%E4%B8%AA%E6%88%96%E8%80%85%E5%A4%9A%E4%B8%AA%E7%A9%BA%E6%A0%BC%0A%5CS%EF%BC%9A%E5%8D%95%E4%B8%AA%E7%A9%BA%E6%A0%BC%E7%AC%A6%E4%B9%8B%E5%A4%96%E7%9A%84%E6%89%80%E6%9C%89%E5%AD%97%E7%AC%A6%09%09%0A%5Cd%EF%BC%9A%E4%BB%8E0%E5%88%B09%E7%9A%84%E6%95%B0%E5%AD%97%EF%BC%9B%09%09%09%2F%5Cd\*%2F%3A%E9%9B%B6%E4%B8%AA%E6%88%96%E8%80%85%E5%A4%9A%E4%B8%AA%200%EF%BC%8D9%E6%95%B0%E5%AD%97d%0A%5Cw%EF%BC%9A%E5%AD%97%E6%AF%8D%EF%BC%8C%E6%95%B0%E5%AD%97%E6%88%96%E4%B8%8B%E5%88%92%E7%BA%BF%E5%AD%97%E7%AC%A6%0A%5CW%EF%BC%9A%E6%89%80%E6%9C%89%E4%B8%8E%5Cw%E4%B8%8D%E5%8C%B9%E9%85%8D%E7%9A%84%E5%AD%97%E7%AC%A6%EF%BC%9B%0A%5B%5E%5D%3A%E5%90%A6%E5%AE%9A%E7%AC%A6%09%09%09%09%2F%5B%5EA\-C%5D%2F%20%09%3A%E7%A6%81%E6%AD%A2%E5%87%BA%E7%8E%B0%20A\-C%0A%7C%3A%E6%88%96%20%E8%BF%90%E7%AE%97%09%09%09%09%2Fa%7Cb%2F%E3%80%80%09%09%3Aa%E6%88%96%E8%80%85b%20%20%0A%0Aemail%20%E6%AD%A3%E5%88%99%20%2F%5E%5B\-\_A\-Za\-z0\-9%5D%2B%40\(%5B\_A\-Za\-z0\-9%5D%2B.\)%2B%5BA\-Za\-z0\-9%5D%7B2%2C3%7D%24%2F%3B%0A%09%0A%09%2F%5BA\-Z%5D%2F%E3%80%80%E3%80%80%0A%E3%80%80%E3%80%80%09%2F%5Ba\-z%5D%2F%E3%80%80%E3%80%80%0A%E3%80%80%E3%80%80%09%2F%5B0\-9%5D%2F%20%0A%09%2F\(%5Ba\-z%5D%5BA\-Z%5D%5B0\-9%5D\)%2B%2F%0A%0A%2F%2F%E6%A3%80%E7%B4%A2%E6%95%B0%E7%BB%84%0A%24str%20%3D%20array\(%22hello%22%2C%22hello2%22%2C%22nihao%22%2C'hello3'\)%3B%0A%24rs%20%3D%20preg\_grep\(%22%2Fhell%2F%22%2C%24str\)%3B%0A%0A%2F%2Farray\_values\(\)%3A%E6%8A%8A%E6%95%B0%E7%BB%84%E7%9A%84%E9%94%AE%E5%80%BC%E9%87%8D%E6%96%B0%E6%8E%92%E5%BA%8F%EF%BC%8C%E4%BB%8E0%E5%BC%80%E5%A7%8B%0A%2F%2Fpreg\_match%3A%E8%BF%94%E5%9B%9E%E6%A3%80%E7%B4%A2%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%B8%AD%E7%AC%A6%E5%90%88%E4%B8%AA%E6%95%B0%EF%BC%8C%E5%8F%AA%E6%9C%89%EF%BC%90%E8%B7%9F%EF%BC%91%EF%BC%8C%E5%9B%A0%E4%B8%BA%E4%BB%96%E5%8F%AA%E6%A3%80%E7%B4%A2%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%B8%AD%E7%AC%AC%E4%B8%80%E4%B8%AA%E6%BB%A1%E8%B6%B3%E6%9D%A1%E4%BB%B6%E7%9A%84%E6%AD%A3%E5%88%99%0A%2F%2Fpreg\_match\_all%3A%E8%BF%94%E5%9B%9E%E6%A3%80%E7%B4%A2%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%B8%AD%E7%AC%A6%E5%90%88%E4%B8%AA%E6%95%B0%EF%BC%8C%E4%BB%96%E6%98%AF%E9%87%8D%E5%A4%B4%E4%B8%80%E7%9B%B4%E6%A3%80%E7%B4%A2%E5%88%B0%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E7%BB%93%E6%9D%9F%E4%BD%8D%E7%BD%AE%0A%24rs%20%3D%20preg\_match\_all\(%22%2Faa%2F%22%2C%22sdfasdaafaaassaadasdasdaadsdsdaa%22%2C%24arr\)%3B%0A%2F%2Fpreg\_replace%3A%E6%AD%A3%E5%88%99%E6%9B%BF%E6%8D%A2%EF%BC%8C%E5%8F%AF%E4%BB%A5%E7%94%A8%E6%95%B0%E7%BB%84%E5%81%9A%E4%B8%BA%E6%AD%A3%E5%88%99%E5%92%8C%E6%9B%BF%E6%8D%A2%E5%80%BC%0A%24search%20%3D%20array%20\(%22'%3Cscript%5B%5E%3E%5D\*%3F%3E.\*%3F%3C%2Fscript%3E'si%22%2C%20%20%2F%2F%20%E5%8E%BB%E6%8E%89%20javascript%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22'%3C%5B%5C%2F%5C\!%5D\*%3F%5B%5E%3C%3E%5D\*%3F%3E'si%22%2C%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%E5%8E%BB%E6%8E%89%20HTML%20%E6%A0%87%E8%AE%B0%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22'\(%5B%5Cr%5Cn%5D\)%5B%5Cs%5D%2B'%22%2C%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%E5%8E%BB%E6%8E%89%E7%A9%BA%E7%99%BD%E5%AD%97%E7%AC%A6%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22'%26\(quot%7C%2334\)%3B'i%22%2C%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%E6%9B%BF%E6%8D%A2%20HTML%20%E5%AE%9E%E4%BD%93%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22'%26\(amp%7C%2338\)%3B'i%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22'%26\(lt%7C%2360\)%3B'i%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22'%26\(gt%7C%2362\)%3B'i%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22'%26\(nbsp%7C%23160\)%3B'i%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22'%26\(iexcl%7C%23161\)%3B'i%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22'%26\(cent%7C%23162\)%3B'i%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22'%26\(pound%7C%23163\)%3B'i%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22'%26\(copy%7C%23169\)%3B'i%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22'%26%23\(%5Cd%2B\)%3B'e%22\)%3B%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20%E4%BD%9C%E4%B8%BA%20PHP%20%E4%BB%A3%E7%A0%81%E8%BF%90%E8%A1%8C%0A%0A%24replace%20%3D%20array%20\(%22%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%5C%5C1%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%5C%22%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%26%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%3C%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%3E%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22%20%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20chr\(161\)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20chr\(162\)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20chr\(163\)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20chr\(169\)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%22chr\(%5C%5C1\)%22\)%3B%0A%0A%24text%20%3D%20preg\_replace%20\(%24search%2C%20%24replace%2C%20%24document\)%3B%0A%2F%2F%E5%B0%86%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%8C%89%E7%85%A7%E6%AD%A3%E5%88%99%E4%B8%BA%E5%88%86%E7%95%8C%E7%AC%A6%EF%BC%8C%E8%BD%AC%E6%8D%A2%E6%88%90%E6%95%B0%E7%BB%84%0A%24rs%20%3D%20preg\_split\('%2Fa%2F'%2C%221a2a3a4a%22\)%3B%0A%0A%0A%2Fu%20%E8%A1%A8%E7%A4%BA%E6%8C%89unicode\(utf\-8\)%E5%8C%B9%E9%85%8D%EF%BC%88%E4%B8%BB%E8%A6%81%E9%92%88%E5%AF%B9%E5%A4%9A%E5%AD%97%E8%8A%82%E6%AF%94%E5%A6%82%E6%B1%89%E5%AD%97%EF%BC%89%0A%2FU%E8%A1%A8%E7%A4%BA%E9%9D%9E%E8%B4%AA%E5%A9%AA%E6%A8%A1%E5%BC%8F%0A%2Fi%20%E8%A1%A8%E7%A4%BA%E4%B8%8D%E5%8C%BA%E5%88%86%E5%A4%A7%E5%B0%8F%E5%86%99%EF%BC%88%E5%A6%82%E6%9E%9C%E8%A1%A8%E8%BE%BE%E5%BC%8F%E9%87%8C%E9%9D%A2%E6%9C%89%20a%EF%BC%8C%20%E9%82%A3%E4%B9%88%20A%20%E4%B9%9F%E6%98%AF%E5%8C%B9%E9%85%8D%E5%AF%B9%E8%B1%A1%EF%BC%89%0A%2Fs%20%E8%A1%A8%E7%A4%BA%E5%B0%86%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%A7%86%E4%B8%BA%E5%8D%95%E8%A1%8C%E6%9D%A5%E5%8C%B9%E9%85%8D%0A%0A
