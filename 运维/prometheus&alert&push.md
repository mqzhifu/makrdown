# prometheus&alert&push

## TSDB

> prometheus的核心就是TSDB，所以得先了解下

**TSDB：Time series database，以时间为维度的数据库**

> 其特征主要包含如下：

|关键字   |描述                             |
|---------|---------------------------------|
|timestamp|数据发生的时间                   |
|metric   |该数据的标识                     |
|value    |该数据所具体值，也可能是多个value|
|tag      |附属属性                         |

特点：

1. 结构相对简单，基本就是基于列操作，没有太复杂的像：联表操作、范式、事务等
2. 针对\<列\>的操作比较多，各种统计
3. 以时间为核心点进行计算（索引建立在时间维度上）
4. 需要存储的数据量非常大
5. 写多于读、顺序写、不更新、不删除
6. 分布式

开源软件：

|关键字                   |语言  |时间|
|-------------------------|------|----|
|Influxdb                 |golang|2013|
|OpenTSDB                 |java  |    |
|Druid                    |java  |    |
|Round Robin Database Tool|C     |2015|

横向对比：它即不算NOSQL 也不算RDB

感觉主要是用于统计学的，随着智能设备的崛起，像：智能手环监听心跳、生产车间监听机器状态、服务器状态监听等，TSDB使用场景挺多。

## prometheus

核心是一个时序数据库，围绕着数据库，又包含了：API UI 收集数据 插件（如：报警）等，这样一个系统。

![prometheus.png](image/prometheus.png)

> 这是网上的一张图结构图

**metrics**

一组metric，基于promehtues也叫一个job，基于某一个功能的一组统计数据。如：apache php mysql 这种都是一个metrics

**metric**

一个统计数据，在metrics里。如：

1. 支付成功数
2. 支付失败数
3. 温度数
4. 心跳数
5. 请求记录
    ......

这个值才是真正的值，并最后参与计算统计的。

> metric的值可以是一个简单标量\(数字、字符串\)，也可能是一组数据（code=200,uri=/baidu）

prometheus如何获取到客户端的metrics数据?

> 在若干时间周期向配置文件中的jobs的IP:PORT,请求拉取一次metrics数据集合，并存于到本地TSDB中。

metric数据\(时序\)的逻辑分类\(存储上还是TSDB格式\)，如下：

|关键词   |类型|说明                                                                    |
|---------|----|------------------------------------------------------------------------|
|Counter  |    |计数器，一定是递增的 一般：\_total作为后缀。累加指标                    |
|Gauge    |瞬时|，如温度，可任意加减。其为瞬时的，与时间没有关系的，可以任意变化的数据。|
|Histogram|    |一定时间段内的，彩样取平均值，以分位数存储                              |
|Summary  |    |一定时间段内的，彩样取平均值，以区间存储                                |

> 这里是逻辑分类，而实际上数据在DB中没这层逻辑，都是你发啥我就存啥。

客户端创建好metrics数据，给出HTTP回调地址，然后告知promethues，promethues在配置中设定好回调地址，整个流程也就通了。

如果一台服务器只有一个服务还好，如果有N个呢？那promethues在配置中就有N个jobs\_names，可不可以每台机器只有一个进程，所有服务向该进程推送消息，而promethues只从这台机的这个进程上拉数据即可呢？

push gataway|statsd\_exporter

> 给使用者自定义的收集器，自研的软件项目，肯定是很多自定义特殊的数据，exporter肯定是满足不了，才有了这个东西。

自己的服务可以清楚的知道如何创建/变更metric项，但是如果开源软件呢？实际也有开源的收集器，如下：

|名称               |描述    |
|-------------------|--------|
|node\_exporter     |服务器  |
|blackbox\_exporter |        |
|graphite\_exporter |        |
|consul\_exporter   |consul  |
|haproxy\_exporter  |haproxy |
|memcached\_exporter|memcache|
|mysqld\_exporter   |mysql   |

> exporter:开源软件N多，估计官方也没那精力全都给出，像：redis php kafka 等等吧，但这些可以在github上找到。

![prometheus_(1).png](image/prometheus_(1).png)

上图即是最终的使用形态了，图中也能看出来prometheus 是个粘合体~调度各种资源，其它的只是配合它来做。

而prometheus的运转流程，或者说操作流程就两个文件：prometheus.yml alertmanager.yml

这两个文件中的核心是：jobs rule

## label

给metric数据项加标识\(Metadata label\)，作用：

1. 一个metric加上一个标签，就等于多了一个维度，所以 value\+label 就实现了多维度搜索
2. 拉取的metrics可能来自很多个节点，多节点就得做区分，所以就有了label

> 注：label是由prometheus端添加，而不是client

label也分为两类

1. 使用者自定义
2. prometheus默认定义

配置一个job时，其中的target项就自动被转换成了instance标签

> prometheus给每个target默认添加的标签，如下：

**address**：当前Target实例的访问地址\<host\>:\<port\>

**scheme**：采集目标服务访问地址的HTTP Scheme，HTTP或者HTTPS

**metrics\_path**：采集目标服务访问地址的访问路径

> 注：这些标签属于内部使用，USER是无法使用的，并且这些标签并不进入DB中

## 安装

下载包：

> https://prometheus.io/download/

解压

> tar \-zxvf
> 
> 
> mv /soft

查看版本

./prometheus \-\-version

> vim prometheus.yml
> 
> 
> 加一个监控值：

```
global:
  scrape_interval   15s  #采集3方数据周期,默认1m
  evaluation_interval    #计算rule expr 周期,更新告警状态,默认1m
  #scrape_timeout: <duration> | default = 10s #采集3方数据 超时时间
  #external_labels: #与3方交互时，添加的默认标签
    #env: test
    
- job_name: 'prometheus'	#这个是默认即带，监控prometheus自己
    static_configs:
    - targets: ['localhost:9090']
- job_name: 'php-fpm'           #监控(8182)机器上的php-fpm
    static_configs:
    - targets: ['localhost:8182']
    
- job_name: '235_node'

    static_configs:
    - targets: ['127.0.0.1:9100']#监控服务器自己

- job_name: '235_pushgetway'   #从pushgateway摘取数据

  static_configs:
  - targets: ['127.0.0.1:9091']
  
```

启动：

> ./prometheus \-\-config.file=prometheus.yml \-\-web.enable\-lifecycle

```
--config.file -- 指明prometheus的配置文件路径
--web.enable-lifecycle -- 指明prometheus配置更改后可以进行热加载
--storage.tsdb.path -- 指明监控数据存储路径
--storage.tsdb.retention --指明数据保留时间
```

启动后，用浏览器试一下，查看启动是否成功

> 38.142.177.235:9090

优雅关闭

> kill \-TERM 27350

http ui 也可以操作：

> curl \-XPOST http://localhost:9090/\-/quit
> 
> 
> curl \-XPOST http://localhost:9090/\-/reload

服务端的事情OK，现在准备，在被监控的机器上安装client

## prometheus.yml

1. global:全局配置
    1. 数据收集周期时间
2. alerting:
    1. 使用哪种告警插件
    2. 插件的访问地址
3. rule\_grou\_files:告警规则的配置文件列表
4. scrape\_configs:采集配置
    1. job\_name
    2. static\_configs:targets

主要就是这4大块，其中核心的就是jobs

## 报警机制

先看一下，rule\_group.yml demo

```
groups:
- name: node_up #group name
  rules:
  - alert: node_down #规则名称  
       expr:expr: up{env="operations"} != 1 #触发报警的表达式
       for: 1m #报警状态为 Pending 后等待 1m 变成 Firing 状态
       labels: #标签
         severity: warning 
       annotations: #描述
         description: "Environment: {{ $labels.env }} Instance: {{ $labels.instance }} is Down ! ! !"
         value: '{{ $value }}'
         summary:  "The host node was down 20 minutes ago"
       
```

接着看一下，基础的流转：

```
PHN2ZyBpZD0iZHk5ajZ0YXJ1NzciIHdpZHRoPSIxMDAlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHN0eWxlPSJtYXgtd2lkdGg6IDEwOTEuNzY1NjI1cHg7IiB2aWV3Qm94PSIwIDAgMTA5MS43NjU2MjUgMjQyLjk4NDM3NSI+PHN0eWxlPgoKCiNkeTlqNnRhcnU3NyAubGFiZWwgewogIGZvbnQtZmFtaWx5OiAndHJlYnVjaGV0IG1zJywgdmVyZGFuYSwgYXJpYWw7CiAgY29sb3I6ICMzMzM7IH0KCiNkeTlqNnRhcnU3NyAubm9kZSByZWN0LAojZHk5ajZ0YXJ1NzcgLm5vZGUgY2lyY2xlLAojZHk5ajZ0YXJ1NzcgLm5vZGUgZWxsaXBzZSwKI2R5OWo2dGFydTc3IC5ub2RlIHBvbHlnb24gewogIGZpbGw6ICNFQ0VDRkY7CiAgc3Ryb2tlOiAjOTM3MERCOwogIHN0cm9rZS13aWR0aDogMXB4OyB9CgojZHk5ajZ0YXJ1NzcgLm5vZGUuY2xpY2thYmxlIHsKICBjdXJzb3I6IHBvaW50ZXI7IH0KCiNkeTlqNnRhcnU3NyAuYXJyb3doZWFkUGF0aCB7CiAgZmlsbDogIzMzMzMzMzsgfQoKI2R5OWo2dGFydTc3IC5lZGdlUGF0aCAucGF0aCB7CiAgc3Ryb2tlOiAjMzMzMzMzOwogIHN0cm9rZS13aWR0aDogMS41cHg7IH0KCiNkeTlqNnRhcnU3NyAuZWRnZUxhYmVsIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZThlOGU4OyB9CgojZHk5ajZ0YXJ1NzcgLmNsdXN0ZXIgcmVjdCB7CiAgZmlsbDogI2ZmZmZkZSAhaW1wb3J0YW50OwogIHN0cm9rZTogI2FhYWEzMyAhaW1wb3J0YW50OwogIHN0cm9rZS13aWR0aDogMXB4ICFpbXBvcnRhbnQ7IH0KCiNkeTlqNnRhcnU3NyAuY2x1c3RlciB0ZXh0IHsKICBmaWxsOiAjMzMzOyB9CgojZHk5ajZ0YXJ1NzcgZGl2Lm1lcm1haWRUb29sdGlwIHsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgdGV4dC1hbGlnbjogY2VudGVyOwogIG1heC13aWR0aDogMjAwcHg7CiAgcGFkZGluZzogMnB4OwogIGZvbnQtZmFtaWx5OiAndHJlYnVjaGV0IG1zJywgdmVyZGFuYSwgYXJpYWw7CiAgZm9udC1zaXplOiAxMnB4OwogIGJhY2tncm91bmQ6ICNmZmZmZGU7CiAgYm9yZGVyOiAxcHggc29saWQgI2FhYWEzMzsKICBib3JkZXItcmFkaXVzOiAycHg7CiAgcG9pbnRlci1ldmVudHM6IG5vbmU7CiAgei1pbmRleDogMTAwOyB9CgojZHk5ajZ0YXJ1NzcgLmFjdG9yIHsKICBzdHJva2U6ICNDQ0NDRkY7CiAgZmlsbDogI0VDRUNGRjsgfQoKI2R5OWo2dGFydTc3IHRleHQuYWN0b3IgewogIGZpbGw6IGJsYWNrOwogIHN0cm9rZTogbm9uZTsgfQoKI2R5OWo2dGFydTc3IC5hY3Rvci1saW5lIHsKICBzdHJva2U6IGdyZXk7IH0KCiNkeTlqNnRhcnU3NyAubWVzc2FnZUxpbmUwIHsKICBzdHJva2Utd2lkdGg6IDEuNTsKICBzdHJva2UtZGFzaGFycmF5OiAnMiAyJzsKICBzdHJva2U6ICMzMzM7IH0KCiNkeTlqNnRhcnU3NyAubWVzc2FnZUxpbmUxIHsKICBzdHJva2Utd2lkdGg6IDEuNTsKICBzdHJva2UtZGFzaGFycmF5OiAnMiAyJzsKICBzdHJva2U6ICMzMzM7IH0KCiNkeTlqNnRhcnU3NyAjYXJyb3doZWFkIHsKICBmaWxsOiAjMzMzOyB9CgojZHk5ajZ0YXJ1NzcgI2Nyb3NzaGVhZCBwYXRoIHsKICBmaWxsOiAjMzMzICFpbXBvcnRhbnQ7CiAgc3Ryb2tlOiAjMzMzICFpbXBvcnRhbnQ7IH0KCiNkeTlqNnRhcnU3NyAubWVzc2FnZVRleHQgewogIGZpbGw6ICMzMzM7CiAgc3Ryb2tlOiBub25lOyB9CgojZHk5ajZ0YXJ1NzcgLmxhYmVsQm94IHsKICBzdHJva2U6ICNDQ0NDRkY7CiAgZmlsbDogI0VDRUNGRjsgfQoKI2R5OWo2dGFydTc3IC5sYWJlbFRleHQgewogIGZpbGw6IGJsYWNrOwogIHN0cm9rZTogbm9uZTsgfQoKI2R5OWo2dGFydTc3IC5sb29wVGV4dCB7CiAgZmlsbDogYmxhY2s7CiAgc3Ryb2tlOiBub25lOyB9CgojZHk5ajZ0YXJ1NzcgLmxvb3BMaW5lIHsKICBzdHJva2Utd2lkdGg6IDI7CiAgc3Ryb2tlLWRhc2hhcnJheTogJzIgMic7CiAgc3Ryb2tlOiAjQ0NDQ0ZGOyB9CgojZHk5ajZ0YXJ1NzcgLm5vdGUgewogIHN0cm9rZTogI2FhYWEzMzsKICBmaWxsOiAjZmZmNWFkOyB9CgojZHk5ajZ0YXJ1NzcgLm5vdGVUZXh0IHsKICBmaWxsOiBibGFjazsKICBzdHJva2U6IG5vbmU7CiAgZm9udC1mYW1pbHk6ICd0cmVidWNoZXQgbXMnLCB2ZXJkYW5hLCBhcmlhbDsKICBmb250LXNpemU6IDE0cHg7IH0KCiNkeTlqNnRhcnU3NyAuYWN0aXZhdGlvbjAgewogIGZpbGw6ICNmNGY0ZjQ7CiAgc3Ryb2tlOiAjNjY2OyB9CgojZHk5ajZ0YXJ1NzcgLmFjdGl2YXRpb24xIHsKICBmaWxsOiAjZjRmNGY0OwogIHN0cm9rZTogIzY2NjsgfQoKI2R5OWo2dGFydTc3IC5hY3RpdmF0aW9uMiB7CiAgZmlsbDogI2Y0ZjRmNDsKICBzdHJva2U6ICM2NjY7IH0KCgojZHk5ajZ0YXJ1NzcgLnNlY3Rpb24gewogIHN0cm9rZTogbm9uZTsKICBvcGFjaXR5OiAwLjI7IH0KCiNkeTlqNnRhcnU3NyAuc2VjdGlvbjAgewogIGZpbGw6IHJnYmEoMTAyLCAxMDIsIDI1NSwgMC40OSk7IH0KCiNkeTlqNnRhcnU3NyAuc2VjdGlvbjIgewogIGZpbGw6ICNmZmY0MDA7IH0KCiNkeTlqNnRhcnU3NyAuc2VjdGlvbjEsCiNkeTlqNnRhcnU3NyAuc2VjdGlvbjMgewogIGZpbGw6IHdoaXRlOwogIG9wYWNpdHk6IDAuMjsgfQoKI2R5OWo2dGFydTc3IC5zZWN0aW9uVGl0bGUwIHsKICBmaWxsOiAjMzMzOyB9CgojZHk5ajZ0YXJ1NzcgLnNlY3Rpb25UaXRsZTEgewogIGZpbGw6ICMzMzM7IH0KCiNkeTlqNnRhcnU3NyAuc2VjdGlvblRpdGxlMiB7CiAgZmlsbDogIzMzMzsgfQoKI2R5OWo2dGFydTc3IC5zZWN0aW9uVGl0bGUzIHsKICBmaWxsOiAjMzMzOyB9CgojZHk5ajZ0YXJ1NzcgLnNlY3Rpb25UaXRsZSB7CiAgdGV4dC1hbmNob3I6IHN0YXJ0OwogIGZvbnQtc2l6ZTogMTFweDsKICB0ZXh0LWhlaWdodDogMTRweDsgfQoKCiNkeTlqNnRhcnU3NyAuZ3JpZCAudGljayB7CiAgc3Ryb2tlOiBsaWdodGdyZXk7CiAgb3BhY2l0eTogMC4zOwogIHNoYXBlLXJlbmRlcmluZzogY3Jpc3BFZGdlczsgfQoKI2R5OWo2dGFydTc3IC5ncmlkIHBhdGggewogIHN0cm9rZS13aWR0aDogMDsgfQoKCiNkeTlqNnRhcnU3NyAudG9kYXkgewogIGZpbGw6IG5vbmU7CiAgc3Ryb2tlOiByZWQ7CiAgc3Ryb2tlLXdpZHRoOiAycHg7IH0KCgoKI2R5OWo2dGFydTc3IC50YXNrIHsKICBzdHJva2Utd2lkdGg6IDI7IH0KCiNkeTlqNnRhcnU3NyAudGFza1RleHQgewogIHRleHQtYW5jaG9yOiBtaWRkbGU7CiAgZm9udC1zaXplOiAxMXB4OyB9CgojZHk5ajZ0YXJ1NzcgLnRhc2tUZXh0T3V0c2lkZVJpZ2h0IHsKICBmaWxsOiBibGFjazsKICB0ZXh0LWFuY2hvcjogc3RhcnQ7CiAgZm9udC1zaXplOiAxMXB4OyB9CgojZHk5ajZ0YXJ1NzcgLnRhc2tUZXh0T3V0c2lkZUxlZnQgewogIGZpbGw6IGJsYWNrOwogIHRleHQtYW5jaG9yOiBlbmQ7CiAgZm9udC1zaXplOiAxMXB4OyB9CgoKI2R5OWo2dGFydTc3IC50YXNrVGV4dDAsCiNkeTlqNnRhcnU3NyAudGFza1RleHQxLAojZHk5ajZ0YXJ1NzcgLnRhc2tUZXh0MiwKI2R5OWo2dGFydTc3IC50YXNrVGV4dDMgewogIGZpbGw6IHdoaXRlOyB9CgojZHk5ajZ0YXJ1NzcgLnRhc2swLAojZHk5ajZ0YXJ1NzcgLnRhc2sxLAojZHk5ajZ0YXJ1NzcgLnRhc2syLAojZHk5ajZ0YXJ1NzcgLnRhc2szIHsKICBmaWxsOiAjOGE5MGRkOwogIHN0cm9rZTogIzUzNGZiYzsgfQoKI2R5OWo2dGFydTc3IC50YXNrVGV4dE91dHNpZGUwLAojZHk5ajZ0YXJ1NzcgLnRhc2tUZXh0T3V0c2lkZTIgewogIGZpbGw6IGJsYWNrOyB9CgojZHk5ajZ0YXJ1NzcgLnRhc2tUZXh0T3V0c2lkZTEsCiNkeTlqNnRhcnU3NyAudGFza1RleHRPdXRzaWRlMyB7CiAgZmlsbDogYmxhY2s7IH0KCgojZHk5ajZ0YXJ1NzcgLmFjdGl2ZTAsCiNkeTlqNnRhcnU3NyAuYWN0aXZlMSwKI2R5OWo2dGFydTc3IC5hY3RpdmUyLAojZHk5ajZ0YXJ1NzcgLmFjdGl2ZTMgewogIGZpbGw6ICNiZmM3ZmY7CiAgc3Ryb2tlOiAjNTM0ZmJjOyB9CgojZHk5ajZ0YXJ1NzcgLmFjdGl2ZVRleHQwLAojZHk5ajZ0YXJ1NzcgLmFjdGl2ZVRleHQxLAojZHk5ajZ0YXJ1NzcgLmFjdGl2ZVRleHQyLAojZHk5ajZ0YXJ1NzcgLmFjdGl2ZVRleHQzIHsKICBmaWxsOiBibGFjayAhaW1wb3J0YW50OyB9CgoKI2R5OWo2dGFydTc3IC5kb25lMCwKI2R5OWo2dGFydTc3IC5kb25lMSwKI2R5OWo2dGFydTc3IC5kb25lMiwKI2R5OWo2dGFydTc3IC5kb25lMyB7CiAgc3Ryb2tlOiBncmV5OwogIGZpbGw6IGxpZ2h0Z3JleTsKICBzdHJva2Utd2lkdGg6IDI7IH0KCiNkeTlqNnRhcnU3NyAuZG9uZVRleHQwLAojZHk5ajZ0YXJ1NzcgLmRvbmVUZXh0MSwKI2R5OWo2dGFydTc3IC5kb25lVGV4dDIsCiNkeTlqNnRhcnU3NyAuZG9uZVRleHQzIHsKICBmaWxsOiBibGFjayAhaW1wb3J0YW50OyB9CgoKI2R5OWo2dGFydTc3IC5jcml0MCwKI2R5OWo2dGFydTc3IC5jcml0MSwKI2R5OWo2dGFydTc3IC5jcml0MiwKI2R5OWo2dGFydTc3IC5jcml0MyB7CiAgc3Ryb2tlOiAjZmY4ODg4OwogIGZpbGw6IHJlZDsKICBzdHJva2Utd2lkdGg6IDI7IH0KCiNkeTlqNnRhcnU3NyAuYWN0aXZlQ3JpdDAsCiNkeTlqNnRhcnU3NyAuYWN0aXZlQ3JpdDEsCiNkeTlqNnRhcnU3NyAuYWN0aXZlQ3JpdDIsCiNkeTlqNnRhcnU3NyAuYWN0aXZlQ3JpdDMgewogIHN0cm9rZTogI2ZmODg4ODsKICBmaWxsOiAjYmZjN2ZmOwogIHN0cm9rZS13aWR0aDogMjsgfQoKI2R5OWo2dGFydTc3IC5kb25lQ3JpdDAsCiNkeTlqNnRhcnU3NyAuZG9uZUNyaXQxLAojZHk5ajZ0YXJ1NzcgLmRvbmVDcml0MiwKI2R5OWo2dGFydTc3IC5kb25lQ3JpdDMgewogIHN0cm9rZTogI2ZmODg4ODsKICBmaWxsOiBsaWdodGdyZXk7CiAgc3Ryb2tlLXdpZHRoOiAyOwogIGN1cnNvcjogcG9pbnRlcjsKICBzaGFwZS1yZW5kZXJpbmc6IGNyaXNwRWRnZXM7IH0KCiNkeTlqNnRhcnU3NyAuZG9uZUNyaXRUZXh0MCwKI2R5OWo2dGFydTc3IC5kb25lQ3JpdFRleHQxLAojZHk5ajZ0YXJ1NzcgLmRvbmVDcml0VGV4dDIsCiNkeTlqNnRhcnU3NyAuZG9uZUNyaXRUZXh0MyB7CiAgZmlsbDogYmxhY2sgIWltcG9ydGFudDsgfQoKI2R5OWo2dGFydTc3IC5hY3RpdmVDcml0VGV4dDAsCiNkeTlqNnRhcnU3NyAuYWN0aXZlQ3JpdFRleHQxLAojZHk5ajZ0YXJ1NzcgLmFjdGl2ZUNyaXRUZXh0MiwKI2R5OWo2dGFydTc3IC5hY3RpdmVDcml0VGV4dDMgewogIGZpbGw6IGJsYWNrICFpbXBvcnRhbnQ7IH0KCiNkeTlqNnRhcnU3NyAudGl0bGVUZXh0IHsKICB0ZXh0LWFuY2hvcjogbWlkZGxlOwogIGZvbnQtc2l6ZTogMThweDsKICBmaWxsOiBibGFjazsgfQoKI2R5OWo2dGFydTc3IGcuY2xhc3NHcm91cCB0ZXh0IHsKICBmaWxsOiAjOTM3MERCOwogIHN0cm9rZTogbm9uZTsKICBmb250LWZhbWlseTogJ3RyZWJ1Y2hldCBtcycsIHZlcmRhbmEsIGFyaWFsOwogIGZvbnQtc2l6ZTogMTBweDsgfQoKI2R5OWo2dGFydTc3IGcuY2xhc3NHcm91cCByZWN0IHsKICBmaWxsOiAjRUNFQ0ZGOwogIHN0cm9rZTogIzkzNzBEQjsgfQoKI2R5OWo2dGFydTc3IGcuY2xhc3NHcm91cCBsaW5lIHsKICBzdHJva2U6ICM5MzcwREI7CiAgc3Ryb2tlLXdpZHRoOiAxOyB9CgojZHk5ajZ0YXJ1NzcgLmNsYXNzTGFiZWwgLmJveCB7CiAgc3Ryb2tlOiBub25lOwogIHN0cm9rZS13aWR0aDogMDsKICBmaWxsOiAjRUNFQ0ZGOwogIG9wYWNpdHk6IDAuNTsgfQoKI2R5OWo2dGFydTc3IC5jbGFzc0xhYmVsIC5sYWJlbCB7CiAgZmlsbDogIzkzNzBEQjsKICBmb250LXNpemU6IDEwcHg7IH0KCiNkeTlqNnRhcnU3NyAucmVsYXRpb24gewogIHN0cm9rZTogIzkzNzBEQjsKICBzdHJva2Utd2lkdGg6IDE7CiAgZmlsbDogbm9uZTsgfQoKI2R5OWo2dGFydTc3ICNjb21wb3NpdGlvblN0YXJ0IHsKICBmaWxsOiAjOTM3MERCOwogIHN0cm9rZTogIzkzNzBEQjsKICBzdHJva2Utd2lkdGg6IDE7IH0KCiNkeTlqNnRhcnU3NyAjY29tcG9zaXRpb25FbmQgewogIGZpbGw6ICM5MzcwREI7CiAgc3Ryb2tlOiAjOTM3MERCOwogIHN0cm9rZS13aWR0aDogMTsgfQoKI2R5OWo2dGFydTc3ICNhZ2dyZWdhdGlvblN0YXJ0IHsKICBmaWxsOiAjRUNFQ0ZGOwogIHN0cm9rZTogIzkzNzBEQjsKICBzdHJva2Utd2lkdGg6IDE7IH0KCiNkeTlqNnRhcnU3NyAjYWdncmVnYXRpb25FbmQgewogIGZpbGw6ICNFQ0VDRkY7CiAgc3Ryb2tlOiAjOTM3MERCOwogIHN0cm9rZS13aWR0aDogMTsgfQoKI2R5OWo2dGFydTc3ICNkZXBlbmRlbmN5U3RhcnQgewogIGZpbGw6ICM5MzcwREI7CiAgc3Ryb2tlOiAjOTM3MERCOwogIHN0cm9rZS13aWR0aDogMTsgfQoKI2R5OWo2dGFydTc3ICNkZXBlbmRlbmN5RW5kIHsKICBmaWxsOiAjOTM3MERCOwogIHN0cm9rZTogIzkzNzBEQjsKICBzdHJva2Utd2lkdGg6IDE7IH0KCiNkeTlqNnRhcnU3NyAjZXh0ZW5zaW9uU3RhcnQgewogIGZpbGw6ICM5MzcwREI7CiAgc3Ryb2tlOiAjOTM3MERCOwogIHN0cm9rZS13aWR0aDogMTsgfQoKI2R5OWo2dGFydTc3ICNleHRlbnNpb25FbmQgewogIGZpbGw6ICM5MzcwREI7CiAgc3Ryb2tlOiAjOTM3MERCOwogIHN0cm9rZS13aWR0aDogMTsgfQoKI2R5OWo2dGFydTc3IC5jb21taXQtaWQsCiNkeTlqNnRhcnU3NyAuY29tbWl0LW1zZywKI2R5OWo2dGFydTc3IC5icmFuY2gtbGFiZWwgewogIGZpbGw6IGxpZ2h0Z3JleTsKICBjb2xvcjogbGlnaHRncmV5OyB9CgoKCiNkeTlqNnRhcnU3NyAubGFiZWx7CiAgY29sb3I6IzE4QjE0RTsKfQojZHk5ajZ0YXJ1NzcgLnRlLW1kLWNvbnRhaW5lci0tZGFyayAubm9kZSByZWN0IHsKICBmaWxsOiByZWQ7Cn0KCiNkeTlqNnRhcnU3NyAubm9kZSByZWN0LAojZHk5ajZ0YXJ1NzcgLm5vZGUgY2lyY2xlLAojZHk5ajZ0YXJ1NzcgLm5vZGUgZWxsaXBzZSwKI2R5OWo2dGFydTc3IC5ub2RlIHBvbHlnb24gewogIGZpbGw6ICNGOUZGRkI7OwogIHN0cm9rZTogIzJEQkQ2MDsKICBzdHJva2Utd2lkdGg6IDEuNXB4Owp9CiNkeTlqNnRhcnU3NyAuYXJyb3doZWFkUGF0aHsKICBmaWxsOiAjMkRCRDYwOwp9CiNkeTlqNnRhcnU3NyAuZWRnZVBhdGggLnBhdGggewogIHN0cm9rZTogIzJEQkQ2MDsKICBzdHJva2Utd2lkdGg6IDFweDsKfQojZHk5ajZ0YXJ1NzcgLmVkZ2VMYWJlbCB7CiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsKfQojZHk5ajZ0YXJ1NzcgLmNsdXN0ZXIgcmVjdCB7CiAgZmlsbDogI0Y5RkZGQiAhaW1wb3J0YW50OwogIHN0cm9rZTogIzJEQkQ2MCAhaW1wb3J0YW50OwogIHN0cm9rZS13aWR0aDogMXB4ICFpbXBvcnRhbnQ7Cn0KCiNkeTlqNnRhcnU3NyAuY2x1c3RlciB0ZXh0IHsKICBmaWxsOiAjRjlGRkZCOwp9CgojZHk5ajZ0YXJ1NzcgZGl2Lm1lcm1haWRUb29sdGlwIHsKICBiYWNrZ3JvdW5kOiAjRjlGRkZCOwogIGJvcmRlcjogMXB4IHNvbGlkICMyREJENjA7Cn0KCgojZHk5ajZ0YXJ1NzcgLmFjdG9yIHsKICBzdHJva2U6ICMyREJENjA7CiAgZmlsbDogI0Y5RkZGQjsKfQoKI2R5OWo2dGFydTc3IHRleHQuYWN0b3IgewogIGZpbGw6ICMyREJENjA7CiAgc3Ryb2tlOiBub25lOwp9CgojZHk5ajZ0YXJ1NzcgLmFjdG9yLWxpbmUgewogIHN0cm9rZTogIzJEQkQ2MDsKfQoKI2R5OWo2dGFydTc3IC5tZXNzYWdlTGluZTAgewogIHN0cm9rZS13aWR0aDogMS41OwogIHN0cm9rZS1kYXNoYXJyYXk6ICcyIDInOwogIG1hcmtlci1lbmQ6ICd1cmwoI2Fycm93aGVhZCknOwogIHN0cm9rZTogIzJEQkQ2MDsKfQoKI2R5OWo2dGFydTc3IC5tZXNzYWdlTGluZTEgewogIHN0cm9rZS13aWR0aDogMS41OwogIHN0cm9rZS1kYXNoYXJyYXk6ICcyIDInOwogIHN0cm9rZTogIzJEQkQ2MDsKfQoKI2R5OWo2dGFydTc3ICNhcnJvd2hlYWQgewogIGZpbGw6ICMyREJENjA7Cn0KCiNkeTlqNnRhcnU3NyAjY3Jvc3NoZWFkIHBhdGggewogIGZpbGw6ICMyREJENjAgIWltcG9ydGFudDsKICBzdHJva2U6ICMyREJENjAgIWltcG9ydGFudDsKfQoKI2R5OWo2dGFydTc3IC5tZXNzYWdlVGV4dCB7CiAgZmlsbDogIzJEQkQ2MDsKICBzdHJva2U6IG5vbmU7Cn0KCiNkeTlqNnRhcnU3NyAubGFiZWxCb3ggewogIHN0cm9rZTogIzJEQkQ2MDsKICBmaWxsOiAjRjlGRkZCOwp9CgojZHk5ajZ0YXJ1NzcgLmxhYmVsVGV4dCB7CiAgZmlsbDogIzJEQkQ2MDsKICBzdHJva2U6ICMyREJENjA7Cn0KCiNkeTlqNnRhcnU3NyAubG9vcFRleHQgewogIGZpbGw6ICMyREJENjA7CiAgc3Ryb2tlOiAjMkRCRDYwOwp9CgojZHk5ajZ0YXJ1NzcgLmxvb3BMaW5lIHsKICBzdHJva2Utd2lkdGg6IDI7CiAgc3Ryb2tlLWRhc2hhcnJheTogJzIgMic7CiAgbWFya2VyLWVuZDogJ3VybCgjYXJyb3doZWFkKSc7CiAgc3Ryb2tlOiAjMkRCRDYwOwp9CgojZHk5ajZ0YXJ1NzcgLm5vdGUgewogIHN0cm9rZTogIzJEQkQ2MDsKICBmaWxsOiAjRjlGRkZCOwp9CgojZHk5ajZ0YXJ1NzcgLm5vdGVUZXh0IHsKICBmaWxsOiAjMkRCRDYwOwogIHN0cm9rZTogIzJEQkQ2MDsKfQoKCiNkeTlqNnRhcnU3NyAuc2VjdGlvbnsKICBvcGFjaXR5OjE7Cn0KI2R5OWo2dGFydTc3IC5zZWN0aW9uMCwjZHk5ajZ0YXJ1NzcgIC5zZWN0aW9uMiB7CiAgZmlsbDogI0VDRjdGMDsKfQoKI2R5OWo2dGFydTc3IC5zZWN0aW9uMSwKI2R5OWo2dGFydTc3IC5zZWN0aW9uMyB7CiAgZmlsbDogI0ZGRjsKfQojZHk5ajZ0YXJ1NzcgLnRhc2tUZXh0MCwKI2R5OWo2dGFydTc3IC50YXNrVGV4dDEsCiNkeTlqNnRhcnU3NyAudGFza1RleHQyLAojZHk5ajZ0YXJ1NzcgLnRhc2tUZXh0MyB7CiAgZmlsbDogI2ZmZjsKfQoKI2R5OWo2dGFydTc3IC50YXNrMCwKI2R5OWo2dGFydTc3IC50YXNrMSwKI2R5OWo2dGFydTc3IC50YXNrMiwKI2R5OWo2dGFydTc3IC50YXNrMyB7CiAgZmlsbDogIzJEQkQ2MDsKICBzdHJva2U6ICMzNTlGNUE7Cn0KPC9zdHlsZT48c3R5bGU+I2R5OWo2dGFydTc3IHsKICAgIGNvbG9yOiByZ2IoMjQ0LCAyNDQsIDI0NCk7CiAgICBmb250OiBub3JtYWwgbm9ybWFsIG5vcm1hbCBub3JtYWwgMTRweC8yMi4zOTk5OTk2MTg1MzAyNzNweCBtb25vc3BhY2U7CiAgfTwvc3R5bGU+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEyLCAtMTIpIj48ZyBjbGFzcz0ib3V0cHV0Ij48ZyBjbGFzcz0iY2x1c3RlcnMiPjwvZz48ZyBjbGFzcz0iZWRnZVBhdGhzIj48ZyBjbGFzcz0iZWRnZVBhdGgiIHN0eWxlPSJvcGFjaXR5OiAxOyI+PHBhdGggY2xhc3M9InBhdGgiIGQ9Ik03OS42MDkzNzUsNjguNzgxMjVMMTA0LjYwOTM3NSw2OC43ODEyNUwxMjkuNjA5Mzc1LDY4Ljc4MTI1IiBtYXJrZXItZW5kPSJ1cmwoI2Fycm93aGVhZDE2OTQyKSIgc3R5bGU9InN0cm9rZTogIzMzMzsgc3Ryb2tlLXdpZHRoOiAxLjVweDtmaWxsOm5vbmUiPjwvcGF0aD48ZGVmcz48bWFya2VyIGlkPSJhcnJvd2hlYWQxNjk0MiIgdmlld0JveD0iMCAwIDEwIDEwIiByZWZYPSI5IiByZWZZPSI1IiBtYXJrZXJVbml0cz0ic3Ryb2tlV2lkdGgiIG1hcmtlcldpZHRoPSI4IiBtYXJrZXJIZWlnaHQ9IjYiIG9yaWVudD0iYXV0byI+PHBhdGggZD0iTSAwIDAgTCAxMCA1IEwgMCAxMCB6IiBjbGFzcz0iYXJyb3doZWFkUGF0aCIgc3R5bGU9InN0cm9rZS13aWR0aDogMXB4OyBzdHJva2UtZGFzaGFycmF5OiAxcHgsIDBweDsiPjwvcGF0aD48L21hcmtlcj48L2RlZnM+PC9nPjxnIGNsYXNzPSJlZGdlUGF0aCIgc3R5bGU9Im9wYWNpdHk6IDE7Ij48cGF0aCBjbGFzcz0icGF0aCIgZD0iTTE3OC45Mzc1LDY4Ljc4MTI1TDIwMy45Mzc1LDY4Ljc4MTI1TDIyOC45Mzc1LDY4Ljc4MTI1IiBtYXJrZXItZW5kPSJ1cmwoI2Fycm93aGVhZDE2OTQzKSIgc3R5bGU9InN0cm9rZTogIzMzMzsgc3Ryb2tlLXdpZHRoOiAxLjVweDtmaWxsOm5vbmUiPjwvcGF0aD48ZGVmcz48bWFya2VyIGlkPSJhcnJvd2hlYWQxNjk0MyIgdmlld0JveD0iMCAwIDEwIDEwIiByZWZYPSI5IiByZWZZPSI1IiBtYXJrZXJVbml0cz0ic3Ryb2tlV2lkdGgiIG1hcmtlcldpZHRoPSI4IiBtYXJrZXJIZWlnaHQ9IjYiIG9yaWVudD0iYXV0byI+PHBhdGggZD0iTSAwIDAgTCAxMCA1IEwgMCAxMCB6IiBjbGFzcz0iYXJyb3doZWFkUGF0aCIgc3R5bGU9InN0cm9rZS13aWR0aDogMXB4OyBzdHJva2UtZGFzaGFycmF5OiAxcHgsIDBweDsiPjwvcGF0aD48L21hcmtlcj48L2RlZnM+PC9nPjxnIGNsYXNzPSJlZGdlUGF0aCIgc3R5bGU9Im9wYWNpdHk6IDE7Ij48cGF0aCBjbGFzcz0icGF0aCIgZD0iTTI3Ny44NTkzNzUsNjEuODE0NzQwODk1NzIyOUwzNjAuOTg0Mzc1LDM4LjE0MDYyNUw1MDEuNzEwOTM3NSwzOC4xNDA2MjUiIG1hcmtlci1lbmQ9InVybCgjYXJyb3doZWFkMTY5NDQpIiBzdHlsZT0ic3Ryb2tlOiAjMzMzOyBzdHJva2Utd2lkdGg6IDEuNXB4O2ZpbGw6bm9uZSI+PC9wYXRoPjxkZWZzPjxtYXJrZXIgaWQ9ImFycm93aGVhZDE2OTQ0IiB2aWV3Qm94PSIwIDAgMTAgMTAiIHJlZlg9IjkiIHJlZlk9IjUiIG1hcmtlclVuaXRzPSJzdHJva2VXaWR0aCIgbWFya2VyV2lkdGg9IjgiIG1hcmtlckhlaWdodD0iNiIgb3JpZW50PSJhdXRvIj48cGF0aCBkPSJNIDAgMCBMIDEwIDUgTCAwIDEwIHoiIGNsYXNzPSJhcnJvd2hlYWRQYXRoIiBzdHlsZT0ic3Ryb2tlLXdpZHRoOiAxcHg7IHN0cm9rZS1kYXNoYXJyYXk6IDFweCwgMHB4OyI+PC9wYXRoPjwvbWFya2VyPjwvZGVmcz48L2c+PGcgY2xhc3M9ImVkZ2VQYXRoIiBzdHlsZT0ib3BhY2l0eTogMTsiPjxwYXRoIGNsYXNzPSJwYXRoIiBkPSJNNTQ4LjcxMDkzNzUsMzguMTQwNjI1TDY2OS4zOTA2MjUsMzguMTQwNjI1TDc0Ny4wNjI1LDM4LjE0MDYyNSIgbWFya2VyLWVuZD0idXJsKCNhcnJvd2hlYWQxNjk0NSkiIHN0eWxlPSJzdHJva2U6ICMzMzM7IHN0cm9rZS13aWR0aDogMS41cHg7ZmlsbDpub25lIj48L3BhdGg+PGRlZnM+PG1hcmtlciBpZD0iYXJyb3doZWFkMTY5NDUiIHZpZXdCb3g9IjAgMCAxMCAxMCIgcmVmWD0iOSIgcmVmWT0iNSIgbWFya2VyVW5pdHM9InN0cm9rZVdpZHRoIiBtYXJrZXJXaWR0aD0iOCIgbWFya2VySGVpZ2h0PSI2IiBvcmllbnQ9ImF1dG8iPjxwYXRoIGQ9Ik0gMCAwIEwgMTAgNSBMIDAgMTAgeiIgY2xhc3M9ImFycm93aGVhZFBhdGgiIHN0eWxlPSJzdHJva2Utd2lkdGg6IDFweDsgc3Ryb2tlLWRhc2hhcnJheTogMXB4LCAwcHg7Ij48L3BhdGg+PC9tYXJrZXI+PC9kZWZzPjwvZz48ZyBjbGFzcz0iZWRnZVBhdGgiIHN0eWxlPSJvcGFjaXR5OiAxOyI+PHBhdGggY2xhc3M9InBhdGgiIGQ9Ik03NDcuMDYyNSw1Mi4xMjI4OTI5NzIyMDcxMjZMNjY5LjM5MDYyNSw5OS40MjE4NzVMNTI1LjIxMDkzNzUsOTkuNDIxODc1TDM2MC45ODQzNzUsOTkuNDIxODc1TDI3Ny44NTkzNzUsNzUuNzQ3NzU5MTA0Mjc3MTEiIG1hcmtlci1lbmQ9InVybCgjYXJyb3doZWFkMTY5NDYpIiBzdHlsZT0ic3Ryb2tlOiAjMzMzOyBzdHJva2Utd2lkdGg6IDEuNXB4O2ZpbGw6bm9uZSI+PC9wYXRoPjxkZWZzPjxtYXJrZXIgaWQ9ImFycm93aGVhZDE2OTQ2IiB2aWV3Qm94PSIwIDAgMTAgMTAiIHJlZlg9IjkiIHJlZlk9IjUiIG1hcmtlclVuaXRzPSJzdHJva2VXaWR0aCIgbWFya2VyV2lkdGg9IjgiIG1hcmtlckhlaWdodD0iNiIgb3JpZW50PSJhdXRvIj48cGF0aCBkPSJNIDAgMCBMIDEwIDUgTCAwIDEwIHoiIGNsYXNzPSJhcnJvd2hlYWRQYXRoIiBzdHlsZT0ic3Ryb2tlLXdpZHRoOiAxcHg7IHN0cm9rZS1kYXNoYXJyYXk6IDFweCwgMHB4OyI+PC9wYXRoPjwvbWFya2VyPjwvZGVmcz48L2c+PGcgY2xhc3M9ImVkZ2VQYXRoIiBzdHlsZT0ib3BhY2l0eTogMTsiPjxwYXRoIGNsYXNzPSJwYXRoIiBkPSJNMjc0LjYzMDMzODQ3NTI2NzcsODYuOTIxODc1TDM2MC45ODQzNzUsMTYwLjcwMzEyNUw1MDYuNDQ1MzEyNSwxNjAuNzAzMTI1IiBtYXJrZXItZW5kPSJ1cmwoI2Fycm93aGVhZDE2OTQ3KSIgc3R5bGU9InN0cm9rZTogIzMzMzsgc3Ryb2tlLXdpZHRoOiAxLjVweDtmaWxsOm5vbmUiPjwvcGF0aD48ZGVmcz48bWFya2VyIGlkPSJhcnJvd2hlYWQxNjk0NyIgdmlld0JveD0iMCAwIDEwIDEwIiByZWZYPSI5IiByZWZZPSI1IiBtYXJrZXJVbml0cz0ic3Ryb2tlV2lkdGgiIG1hcmtlcldpZHRoPSI4IiBtYXJrZXJIZWlnaHQ9IjYiIG9yaWVudD0iYXV0byI+PHBhdGggZD0iTSAwIDAgTCAxMCA1IEwgMCAxMCB6IiBjbGFzcz0iYXJyb3doZWFkUGF0aCIgc3R5bGU9InN0cm9rZS13aWR0aDogMXB4OyBzdHJva2UtZGFzaGFycmF5OiAxcHgsIDBweDsiPjwvcGF0aD48L21hcmtlcj48L2RlZnM+PC9nPjxnIGNsYXNzPSJlZGdlUGF0aCIgc3R5bGU9Im9wYWNpdHk6IDE7Ij48cGF0aCBjbGFzcz0icGF0aCIgZD0iTTU0My45NzY1NjI1LDE2MC43MDMxMjVMNjY5LjM5MDYyNSwxNjAuNzAzMTI1TDczMi40Njg3NSwxNjAuNzAzMTI1IiBtYXJrZXItZW5kPSJ1cmwoI2Fycm93aGVhZDE2OTQ4KSIgc3R5bGU9InN0cm9rZTogIzMzMzsgc3Ryb2tlLXdpZHRoOiAxLjVweDtmaWxsOm5vbmUiPjwvcGF0aD48ZGVmcz48bWFya2VyIGlkPSJhcnJvd2hlYWQxNjk0OCIgdmlld0JveD0iMCAwIDEwIDEwIiByZWZYPSI5IiByZWZZPSI1IiBtYXJrZXJVbml0cz0ic3Ryb2tlV2lkdGgiIG1hcmtlcldpZHRoPSI4IiBtYXJrZXJIZWlnaHQ9IjYiIG9yaWVudD0iYXV0byI+PHBhdGggZD0iTSAwIDAgTCAxMCA1IEwgMCAxMCB6IiBjbGFzcz0iYXJyb3doZWFkUGF0aCIgc3R5bGU9InN0cm9rZS13aWR0aDogMXB4OyBzdHJva2UtZGFzaGFycmF5OiAxcHgsIDBweDsiPjwvcGF0aD48L21hcmtlcj48L2RlZnM+PC9nPjxnIGNsYXNzPSJlZGdlUGF0aCIgc3R5bGU9Im9wYWNpdHk6IDE7Ij48cGF0aCBjbGFzcz0icGF0aCIgZD0iTTc4MC44OTA3MTE1MDY4MDgzLDE0Mi41NjI1TDgzMi41NzgxMjUsNTYuMjgxMjVMODc5LjgyMDMxMjUsNTYuMjgxMjUiIG1hcmtlci1lbmQ9InVybCgjYXJyb3doZWFkMTY5NDkpIiBzdHlsZT0ic3Ryb2tlOiAjMzMzOyBzdHJva2Utd2lkdGg6IDEuNXB4O2ZpbGw6bm9uZSI+PC9wYXRoPjxkZWZzPjxtYXJrZXIgaWQ9ImFycm93aGVhZDE2OTQ5IiB2aWV3Qm94PSIwIDAgMTAgMTAiIHJlZlg9IjkiIHJlZlk9IjUiIG1hcmtlclVuaXRzPSJzdHJva2VXaWR0aCIgbWFya2VyV2lkdGg9IjgiIG1hcmtlckhlaWdodD0iNiIgb3JpZW50PSJhdXRvIj48cGF0aCBkPSJNIDAgMCBMIDEwIDUgTCAwIDEwIHoiIGNsYXNzPSJhcnJvd2hlYWRQYXRoIiBzdHlsZT0ic3Ryb2tlLXdpZHRoOiAxcHg7IHN0cm9rZS1kYXNoYXJyYXk6IDFweCwgMHB4OyI+PC9wYXRoPjwvbWFya2VyPjwvZGVmcz48L2c+PGcgY2xhc3M9ImVkZ2VQYXRoIiBzdHlsZT0ib3BhY2l0eTogMTsiPjxwYXRoIGNsYXNzPSJwYXRoIiBkPSJNODA3LjU3ODEyNSwxNDkuODEyNDA2MzMxOTU5NTJMODMyLjU3ODEyNSwxNDIuNTYyNUw4NTkuNTIzNDM3NSwxNDIuNTYyNSIgbWFya2VyLWVuZD0idXJsKCNhcnJvd2hlYWQxNjk1MCkiIHN0eWxlPSJzdHJva2U6ICMzMzM7IHN0cm9rZS13aWR0aDogMS41cHg7ZmlsbDpub25lIj48L3BhdGg+PGRlZnM+PG1hcmtlciBpZD0iYXJyb3doZWFkMTY5NTAiIHZpZXdCb3g9IjAgMCAxMCAxMCIgcmVmWD0iOSIgcmVmWT0iNSIgbWFya2VyVW5pdHM9InN0cm9rZVdpZHRoIiBtYXJrZXJXaWR0aD0iOCIgbWFya2VySGVpZ2h0PSI2IiBvcmllbnQ9ImF1dG8iPjxwYXRoIGQ9Ik0gMCAwIEwgMTAgNSBMIDAgMTAgeiIgY2xhc3M9ImFycm93aGVhZFBhdGgiIHN0eWxlPSJzdHJva2Utd2lkdGg6IDFweDsgc3Ryb2tlLWRhc2hhcnJheTogMXB4LCAwcHg7Ij48L3BhdGg+PC9tYXJrZXI+PC9kZWZzPjwvZz48ZyBjbGFzcz0iZWRnZVBhdGgiIHN0eWxlPSJvcGFjaXR5OiAxOyI+PHBhdGggY2xhc3M9InBhdGgiIGQ9Ik03ODYuNjc2OTU1NTQzNDUzMywxNzguODQzNzVMODMyLjU3ODEyNSwyMjguODQzNzVMODU3LjU3ODEyNSwyMjguODQzNzUiIG1hcmtlci1lbmQ9InVybCgjYXJyb3doZWFkMTY5NTEpIiBzdHlsZT0ic3Ryb2tlOiAjMzMzOyBzdHJva2Utd2lkdGg6IDEuNXB4O2ZpbGw6bm9uZSI+PC9wYXRoPjxkZWZzPjxtYXJrZXIgaWQ9ImFycm93aGVhZDE2OTUxIiB2aWV3Qm94PSIwIDAgMTAgMTAiIHJlZlg9IjkiIHJlZlk9IjUiIG1hcmtlclVuaXRzPSJzdHJva2VXaWR0aCIgbWFya2VyV2lkdGg9IjgiIG1hcmtlckhlaWdodD0iNiIgb3JpZW50PSJhdXRvIj48cGF0aCBkPSJNIDAgMCBMIDEwIDUgTCAwIDEwIHoiIGNsYXNzPSJhcnJvd2hlYWRQYXRoIiBzdHlsZT0ic3Ryb2tlLXdpZHRoOiAxcHg7IHN0cm9rZS1kYXNoYXJyYXk6IDFweCwgMHB4OyI+PC9wYXRoPjwvbWFya2VyPjwvZGVmcz48L2c+PGcgY2xhc3M9ImVkZ2VQYXRoIiBzdHlsZT0ib3BhY2l0eTogMTsiPjxwYXRoIGNsYXNzPSJwYXRoIiBkPSJNOTI5LjY3OTY4NzUsNTYuMjgxMjVMOTc2LjkyMTg3NSw1Ni4yODEyNUwxMDM3LjExOTMzMzE0MDI2OTYsMTQ5LjQyMTg3NSIgbWFya2VyLWVuZD0idXJsKCNhcnJvd2hlYWQxNjk1MikiIHN0eWxlPSJzdHJva2U6ICMzMzM7IHN0cm9rZS13aWR0aDogMS41cHg7ZmlsbDpub25lIj48L3BhdGg+PGRlZnM+PG1hcmtlciBpZD0iYXJyb3doZWFkMTY5NTIiIHZpZXdCb3g9IjAgMCAxMCAxMCIgcmVmWD0iOSIgcmVmWT0iNSIgbWFya2VyVW5pdHM9InN0cm9rZVdpZHRoIiBtYXJrZXJXaWR0aD0iOCIgbWFya2VySGVpZ2h0PSI2IiBvcmllbnQ9ImF1dG8iPjxwYXRoIGQ9Ik0gMCAwIEwgMTAgNSBMIDAgMTAgeiIgY2xhc3M9ImFycm93aGVhZFBhdGgiIHN0eWxlPSJzdHJva2Utd2lkdGg6IDFweDsgc3Ryb2tlLWRhc2hhcnJheTogMXB4LCAwcHg7Ij48L3BhdGg+PC9tYXJrZXI+PC9kZWZzPjwvZz48ZyBjbGFzcz0iZWRnZVBhdGgiIHN0eWxlPSJvcGFjaXR5OiAxOyI+PHBhdGggY2xhc3M9InBhdGgiIGQ9Ik05NDkuOTc2NTYyNSwxNDIuNTYyNUw5NzYuOTIxODc1LDE0Mi41NjI1TDEwMDEuOTIxODc1LDE1MS4yNTI0ODQ3OTI1MjY2MiIgbWFya2VyLWVuZD0idXJsKCNhcnJvd2hlYWQxNjk1MykiIHN0eWxlPSJzdHJva2U6ICMzMzM7IHN0cm9rZS13aWR0aDogMS41cHg7ZmlsbDpub25lIj48L3BhdGg+PGRlZnM+PG1hcmtlciBpZD0iYXJyb3doZWFkMTY5NTMiIHZpZXdCb3g9IjAgMCAxMCAxMCIgcmVmWD0iOSIgcmVmWT0iNSIgbWFya2VyVW5pdHM9InN0cm9rZVdpZHRoIiBtYXJrZXJXaWR0aD0iOCIgbWFya2VySGVpZ2h0PSI2IiBvcmllbnQ9ImF1dG8iPjxwYXRoIGQ9Ik0gMCAwIEwgMTAgNSBMIDAgMTAgeiIgY2xhc3M9ImFycm93aGVhZFBhdGgiIHN0eWxlPSJzdHJva2Utd2lkdGg6IDFweDsgc3Ryb2tlLWRhc2hhcnJheTogMXB4LCAwcHg7Ij48L3BhdGg+PC9tYXJrZXI+PC9kZWZzPjwvZz48ZyBjbGFzcz0iZWRnZVBhdGgiIHN0eWxlPSJvcGFjaXR5OiAxOyI+PHBhdGggY2xhc3M9InBhdGgiIGQ9Ik05NTEuOTIxODc1LDIyOC44NDM3NUw5NzYuOTIxODc1LDIyOC44NDM3NUwxMDI3LjU1MzI2MTI1MDYzNzQsMTg1LjcwMzEyNSIgbWFya2VyLWVuZD0idXJsKCNhcnJvd2hlYWQxNjk1NCkiIHN0eWxlPSJzdHJva2U6ICMzMzM7IHN0cm9rZS13aWR0aDogMS41cHg7ZmlsbDpub25lIj48L3BhdGg+PGRlZnM+PG1hcmtlciBpZD0iYXJyb3doZWFkMTY5NTQiIHZpZXdCb3g9IjAgMCAxMCAxMCIgcmVmWD0iOSIgcmVmWT0iNSIgbWFya2VyVW5pdHM9InN0cm9rZVdpZHRoIiBtYXJrZXJXaWR0aD0iOCIgbWFya2VySGVpZ2h0PSI2IiBvcmllbnQ9ImF1dG8iPjxwYXRoIGQ9Ik0gMCAwIEwgMTAgNSBMIDAgMTAgeiIgY2xhc3M9ImFycm93aGVhZFBhdGgiIHN0eWxlPSJzdHJva2Utd2lkdGg6IDFweDsgc3Ryb2tlLWRhc2hhcnJheTogMXB4LCAwcHg7Ij48L3BhdGg+PC9tYXJrZXI+PC9kZWZzPjwvZz48L2c+PGcgY2xhc3M9ImVkZ2VMYWJlbHMiPjxnIGNsYXNzPSJlZGdlTGFiZWwiIHRyYW5zZm9ybT0iIiBzdHlsZT0ib3BhY2l0eTogMTsiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAsMCkiIGNsYXNzPSJsYWJlbCI+PHJlY3Qgcng9IjAiIHJ5PSIwIiB3aWR0aD0iMCIgaGVpZ2h0PSIwIiBzdHlsZT0iZmlsbDojZThlOGU4OyI+PC9yZWN0Pjx0ZXh0Pjx0c3BhbiB4bWw6c3BhY2U9InByZXNlcnZlIiBkeT0iMWVtIiB4PSIxIj48L3RzcGFuPjwvdGV4dD48L2c+PC9nPjxnIGNsYXNzPSJlZGdlTGFiZWwiIHRyYW5zZm9ybT0iIiBzdHlsZT0ib3BhY2l0eTogMTsiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAsMCkiIGNsYXNzPSJsYWJlbCI+PHJlY3Qgcng9IjAiIHJ5PSIwIiB3aWR0aD0iMCIgaGVpZ2h0PSIwIiBzdHlsZT0iZmlsbDojZThlOGU4OyI+PC9yZWN0Pjx0ZXh0Pjx0c3BhbiB4bWw6c3BhY2U9InByZXNlcnZlIiBkeT0iMWVtIiB4PSIxIj48L3RzcGFuPjwvdGV4dD48L2c+PC9nPjxnIGNsYXNzPSJlZGdlTGFiZWwiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDM2MC45ODQzNzUsMzguMTQwNjI1KSIgc3R5bGU9Im9wYWNpdHk6IDE7Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNzcuMTE3MTg3NSwtOC4wMDc4MTI1KSIgY2xhc3M9ImxhYmVsIj48cmVjdCByeD0iMCIgcnk9IjAiIHdpZHRoPSIxMTMuNzAzMTI1IiBoZWlnaHQ9IjE1LjkyMTg3NSIgc3R5bGU9ImZpbGw6I2U4ZThlODsiPjwvcmVjdD48dGV4dD48dHNwYW4geG1sOnNwYWNlPSJwcmVzZXJ2ZSIgZHk9IjFlbSIgeD0iMSI+ZXZhbHVhdGlvbl9pbnRlcnZhbDwvdHNwYW4+PC90ZXh0PjwvZz48L2c+PGcgY2xhc3M9ImVkZ2VMYWJlbCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjY5LjM5MDYyNSwzOC4xNDA2MjUpIiBzdHlsZT0ib3BhY2l0eTogMTsiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMy44NTE1NjI1LC04LjAwNzgxMjUpIiBjbGFzcz0ibGFiZWwiPjxyZWN0IHJ4PSIwIiByeT0iMCIgd2lkdGg9IjI3LjEyNSIgaGVpZ2h0PSIxNS45MjE4NzUiIHN0eWxlPSJmaWxsOiNlOGU4ZTg7Ij48L3JlY3Q+PHRleHQ+PHRzcGFuIHhtbDpzcGFjZT0icHJlc2VydmUiIGR5PSIxZW0iIHg9IjEiPuetm+mAiTwvdHNwYW4+PC90ZXh0PjwvZz48L2c+PGcgY2xhc3M9ImVkZ2VMYWJlbCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTI1LjIxMDkzNzUsOTkuNDIxODc1KSIgc3R5bGU9Im9wYWNpdHk6IDE7Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtODcuMzU5Mzc1LC04LjAwNzgxMjUpIiBjbGFzcz0ibGFiZWwiPjxyZWN0IHJ4PSIwIiByeT0iMCIgd2lkdGg9IjE1OC43MTg3NSIgaGVpZ2h0PSIxNS45MjE4NzUiIHN0eWxlPSJmaWxsOiNlOGU4ZTg7Ij48L3JlY3Q+PHRleHQ+PHRzcGFuIHhtbDpzcGFjZT0icHJlc2VydmUiIGR5PSIxZW0iIHg9IjEiPuinpuWPkeaKpeitpi3kv67mlLnnirbmgIFwZW5kaW5nPC90c3Bhbj48L3RleHQ+PC9nPjwvZz48ZyBjbGFzcz0iZWRnZUxhYmVsIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzNjAuOTg0Mzc1LDE2MC43MDMxMjUpIiBzdHlsZT0ib3BhY2l0eTogMTsiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMy44NTE1NjI1LC04LjAwNzgxMjUpIiBjbGFzcz0ibGFiZWwiPjxyZWN0IHJ4PSIwIiByeT0iMCIgd2lkdGg9IjI3LjEyNSIgaGVpZ2h0PSIxNS45MjE4NzUiIHN0eWxlPSJmaWxsOiNlOGU4ZTg7Ij48L3JlY3Q+PHRleHQ+PHRzcGFuIHhtbDpzcGFjZT0icHJlc2VydmUiIGR5PSIxZW0iIHg9IjEiPuetieW+hTwvdHNwYW4+PC90ZXh0PjwvZz48L2c+PGcgY2xhc3M9ImVkZ2VMYWJlbCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjY5LjM5MDYyNSwxNjAuNzAzMTI1KSIgc3R5bGU9Im9wYWNpdHk6IDE7Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNDMuNzU3ODEyNSwtOC4wMDc4MTI1KSIgY2xhc3M9ImxhYmVsIj48cmVjdCByeD0iMCIgcnk9IjAiIHdpZHRoPSI3NC41MTU2MjUiIGhlaWdodD0iMTUuOTIxODc1IiBzdHlsZT0iZmlsbDojZThlOGU4OyI+PC9yZWN0Pjx0ZXh0Pjx0c3BhbiB4bWw6c3BhY2U9InByZXNlcnZlIiBkeT0iMWVtIiB4PSIxIj7kv67mlLnnirbmgIFmaXJlPC90c3Bhbj48L3RleHQ+PC9nPjwvZz48ZyBjbGFzcz0iZWRnZUxhYmVsIiB0cmFuc2Zvcm09IiIgc3R5bGU9Im9wYWNpdHk6IDE7Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLDApIiBjbGFzcz0ibGFiZWwiPjxyZWN0IHJ4PSIwIiByeT0iMCIgd2lkdGg9IjAiIGhlaWdodD0iMCIgc3R5bGU9ImZpbGw6I2U4ZThlODsiPjwvcmVjdD48dGV4dD48dHNwYW4geG1sOnNwYWNlPSJwcmVzZXJ2ZSIgZHk9IjFlbSIgeD0iMSI+PC90c3Bhbj48L3RleHQ+PC9nPjwvZz48ZyBjbGFzcz0iZWRnZUxhYmVsIiB0cmFuc2Zvcm09IiIgc3R5bGU9Im9wYWNpdHk6IDE7Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLDApIiBjbGFzcz0ibGFiZWwiPjxyZWN0IHJ4PSIwIiByeT0iMCIgd2lkdGg9IjAiIGhlaWdodD0iMCIgc3R5bGU9ImZpbGw6I2U4ZThlODsiPjwvcmVjdD48dGV4dD48dHNwYW4geG1sOnNwYWNlPSJwcmVzZXJ2ZSIgZHk9IjFlbSIgeD0iMSI+PC90c3Bhbj48L3RleHQ+PC9nPjwvZz48ZyBjbGFzcz0iZWRnZUxhYmVsIiB0cmFuc2Zvcm09IiIgc3R5bGU9Im9wYWNpdHk6IDE7Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLDApIiBjbGFzcz0ibGFiZWwiPjxyZWN0IHJ4PSIwIiByeT0iMCIgd2lkdGg9IjAiIGhlaWdodD0iMCIgc3R5bGU9ImZpbGw6I2U4ZThlODsiPjwvcmVjdD48dGV4dD48dHNwYW4geG1sOnNwYWNlPSJwcmVzZXJ2ZSIgZHk9IjFlbSIgeD0iMSI+PC90c3Bhbj48L3RleHQ+PC9nPjwvZz48ZyBjbGFzcz0iZWRnZUxhYmVsIiB0cmFuc2Zvcm09IiIgc3R5bGU9Im9wYWNpdHk6IDE7Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLDApIiBjbGFzcz0ibGFiZWwiPjxyZWN0IHJ4PSIwIiByeT0iMCIgd2lkdGg9IjAiIGhlaWdodD0iMCIgc3R5bGU9ImZpbGw6I2U4ZThlODsiPjwvcmVjdD48dGV4dD48dHNwYW4geG1sOnNwYWNlPSJwcmVzZXJ2ZSIgZHk9IjFlbSIgeD0iMSI+PC90c3Bhbj48L3RleHQ+PC9nPjwvZz48ZyBjbGFzcz0iZWRnZUxhYmVsIiB0cmFuc2Zvcm09IiIgc3R5bGU9Im9wYWNpdHk6IDE7Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLDApIiBjbGFzcz0ibGFiZWwiPjxyZWN0IHJ4PSIwIiByeT0iMCIgd2lkdGg9IjAiIGhlaWdodD0iMCIgc3R5bGU9ImZpbGw6I2U4ZThlODsiPjwvcmVjdD48dGV4dD48dHNwYW4geG1sOnNwYWNlPSJwcmVzZXJ2ZSIgZHk9IjFlbSIgeD0iMSI+PC90c3Bhbj48L3RleHQ+PC9nPjwvZz48ZyBjbGFzcz0iZWRnZUxhYmVsIiB0cmFuc2Zvcm09IiIgc3R5bGU9Im9wYWNpdHk6IDE7Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLDApIiBjbGFzcz0ibGFiZWwiPjxyZWN0IHJ4PSIwIiByeT0iMCIgd2lkdGg9IjAiIGhlaWdodD0iMCIgc3R5bGU9ImZpbGw6I2U4ZThlODsiPjwvcmVjdD48dGV4dD48dHNwYW4geG1sOnNwYWNlPSJwcmVzZXJ2ZSIgZHk9IjFlbSIgeD0iMSI+PC90c3Bhbj48L3RleHQ+PC9nPjwvZz48L2c+PGcgY2xhc3M9Im5vZGVzIj48ZyBjbGFzcz0ibm9kZSIgaWQ9Imdyb3VwcyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDkuODA0Njg3NSw2OC43ODEyNSkiIHN0eWxlPSJvcGFjaXR5OiAxOyI+PHJlY3Qgcng9IjAiIHJ5PSIwIiB4PSItMjkuODA0Njg3NSIgeT0iLTE4LjE0MDYyNSIgd2lkdGg9IjU5LjYwOTM3NSIgaGVpZ2h0PSIzNi4yODEyNSI+PC9yZWN0PjxnIGNsYXNzPSJsYWJlbCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCwwKSI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTE5LjgwNDY4NzUsLTguMTQwNjI1KSI+PHRleHQ+PHRzcGFuIHhtbDpzcGFjZT0icHJlc2VydmUiIGR5PSIxZW0iIHg9IjEiPmdyb3VwczwvdHNwYW4+PC90ZXh0PjwvZz48L2c+PC9nPjxnIGNsYXNzPSJub2RlIiBpZD0icnVsZXMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE1NC4yNzM0Mzc1LDY4Ljc4MTI1KSIgc3R5bGU9Im9wYWNpdHk6IDE7Ij48cmVjdCByeD0iMCIgcnk9IjAiIHg9Ii0yNC42NjQwNjI1IiB5PSItMTguMTQwNjI1IiB3aWR0aD0iNDkuMzI4MTI1IiBoZWlnaHQ9IjM2LjI4MTI1Ij48L3JlY3Q+PGcgY2xhc3M9ImxhYmVsIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLDApIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTQuNjY0MDYyNSwtOC4xNDA2MjUpIj48dGV4dD48dHNwYW4geG1sOnNwYWNlPSJwcmVzZXJ2ZSIgZHk9IjFlbSIgeD0iMSI+cnVsZXM8L3RzcGFuPjwvdGV4dD48L2c+PC9nPjwvZz48ZyBjbGFzcz0ibm9kZSIgaWQ9ImFsZXJ0IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNTMuMzk4NDM3NSw2OC43ODEyNSkiIHN0eWxlPSJvcGFjaXR5OiAxOyI+PHJlY3Qgcng9IjAiIHJ5PSIwIiB4PSItMjQuNDYwOTM3NSIgeT0iLTE4LjE0MDYyNSIgd2lkdGg9IjQ4LjkyMTg3NSIgaGVpZ2h0PSIzNi4yODEyNSI+PC9yZWN0PjxnIGNsYXNzPSJsYWJlbCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCwwKSI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTE0LjQ2MDkzNzUsLTguMTQwNjI1KSI+PHRleHQ+PHRzcGFuIHhtbDpzcGFjZT0icHJlc2VydmUiIGR5PSIxZW0iIHg9IjEiPmFsZXJ0PC90c3Bhbj48L3RleHQ+PC9nPjwvZz48L2c+PGcgY2xhc3M9Im5vZGUiIGlkPSJleHByIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1MjUuMjEwOTM3NSwzOC4xNDA2MjUpIiBzdHlsZT0ib3BhY2l0eTogMTsiPjxyZWN0IHJ4PSIwIiByeT0iMCIgeD0iLTIzLjUiIHk9Ii0xOC4xNDA2MjUiIHdpZHRoPSI0NyIgaGVpZ2h0PSIzNi4yODEyNSI+PC9yZWN0PjxnIGNsYXNzPSJsYWJlbCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCwwKSI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEzLjUsLTguMTQwNjI1KSI+PHRleHQ+PHRzcGFuIHhtbDpzcGFjZT0icHJlc2VydmUiIGR5PSIxZW0iIHg9IjEiPmV4cHI8L3RzcGFuPjwvdGV4dD48L2c+PC9nPjwvZz48ZyBjbGFzcz0ibm9kZSIgaWQ9InRzZGIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDc3MC4wMjM0Mzc1LDM4LjE0MDYyNSkiIHN0eWxlPSJvcGFjaXR5OiAxOyI+PHJlY3Qgcng9IjAiIHJ5PSIwIiB4PSItMjIuOTYwOTM3NSIgeT0iLTE4LjE0MDYyNSIgd2lkdGg9IjQ1LjkyMTg3NSIgaGVpZ2h0PSIzNi4yODEyNSI+PC9yZWN0PjxnIGNsYXNzPSJsYWJlbCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCwwKSI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEyLjk2MDkzNzUsLTguMTQwNjI1KSI+PHRleHQ+PHRzcGFuIHhtbDpzcGFjZT0icHJlc2VydmUiIGR5PSIxZW0iIHg9IjEiPnRzZGI8L3RzcGFuPjwvdGV4dD48L2c+PC9nPjwvZz48ZyBjbGFzcz0ibm9kZSIgaWQ9ImZvciIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTI1LjIxMDkzNzUsMTYwLjcwMzEyNSkiIHN0eWxlPSJvcGFjaXR5OiAxOyI+PHJlY3Qgcng9IjAiIHJ5PSIwIiB4PSItMTguNzY1NjI1IiB5PSItMTguMTQwNjI1IiB3aWR0aD0iMzcuNTMxMjUiIGhlaWdodD0iMzYuMjgxMjUiPjwvcmVjdD48ZyBjbGFzcz0ibGFiZWwiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAsMCkiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC04Ljc2NTYyNSwtOC4xNDA2MjUpIj48dGV4dD48dHNwYW4geG1sOnNwYWNlPSJwcmVzZXJ2ZSIgZHk9IjFlbSIgeD0iMSI+Zm9yPC90c3Bhbj48L3RleHQ+PC9nPjwvZz48L2c+PGcgY2xhc3M9Im5vZGUiIGlkPSLlj5HpgIHpgJrnn6UiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDc3MC4wMjM0Mzc1LDE2MC43MDMxMjUpIiBzdHlsZT0ib3BhY2l0eTogMTsiPjxyZWN0IHJ4PSIwIiByeT0iMCIgeD0iLTM3LjU1NDY4NzUiIHk9Ii0xOC4xNDA2MjUiIHdpZHRoPSI3NS4xMDkzNzUiIGhlaWdodD0iMzYuMjgxMjUiPjwvcmVjdD48ZyBjbGFzcz0ibGFiZWwiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAsMCkiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yNy41NTQ2ODc1LC04LjE0MDYyNSkiPjx0ZXh0Pjx0c3BhbiB4bWw6c3BhY2U9InByZXNlcnZlIiBkeT0iMWVtIiB4PSIxIj7lj5HpgIHpgJrnn6U8L3RzcGFuPjwvdGV4dD48L2c+PC9nPjwvZz48ZyBjbGFzcz0ibm9kZSIgaWQ9ImxhYmVsIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg5MDQuNzUsNTYuMjgxMjUpIiBzdHlsZT0ib3BhY2l0eTogMTsiPjxyZWN0IHJ4PSIwIiByeT0iMCIgeD0iLTI0LjkyOTY4NzUiIHk9Ii0xOC4xNDA2MjUiIHdpZHRoPSI0OS44NTkzNzUiIGhlaWdodD0iMzYuMjgxMjUiPjwvcmVjdD48ZyBjbGFzcz0ibGFiZWwiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAsMCkiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xNC45Mjk2ODc1LC04LjE0MDYyNSkiPjx0ZXh0Pjx0c3BhbiB4bWw6c3BhY2U9InByZXNlcnZlIiBkeT0iMWVtIiB4PSIxIj5sYWJlbDwvdHNwYW4+PC90ZXh0PjwvZz48L2c+PC9nPjxnIGNsYXNzPSJub2RlIiBpZD0iYW5ub3RhdGlvbnMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDkwNC43NSwxNDIuNTYyNSkiIHN0eWxlPSJvcGFjaXR5OiAxOyI+PHJlY3Qgcng9IjAiIHJ5PSIwIiB4PSItNDUuMjI2NTYyNSIgeT0iLTE4LjE0MDYyNSIgd2lkdGg9IjkwLjQ1MzEyNSIgaGVpZ2h0PSIzNi4yODEyNSI+PC9yZWN0PjxnIGNsYXNzPSJsYWJlbCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCwwKSI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTM1LjIyNjU2MjUsLTguMTQwNjI1KSI+PHRleHQ+PHRzcGFuIHhtbDpzcGFjZT0icHJlc2VydmUiIGR5PSIxZW0iIHg9IjEiPmFubm90YXRpb25zPC90c3Bhbj48L3RleHQ+PC9nPjwvZz48L2c+PGcgY2xhc3M9Im5vZGUiIGlkPSJncm91cF9uYW1lIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg5MDQuNzUsMjI4Ljg0Mzc1KSIgc3R5bGU9Im9wYWNpdHk6IDE7Ij48cmVjdCByeD0iMCIgcnk9IjAiIHg9Ii00Ny4xNzE4NzUiIHk9Ii0xOC4xNDA2MjUiIHdpZHRoPSI5NC4zNDM3NSIgaGVpZ2h0PSIzNi4yODEyNSI+PC9yZWN0PjxnIGNsYXNzPSJsYWJlbCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCwwKSI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTM3LjE3MTg3NSwtOC4xNDA2MjUpIj48dGV4dD48dHNwYW4geG1sOnNwYWNlPSJwcmVzZXJ2ZSIgZHk9IjFlbSIgeD0iMSI+Z3JvdXBfbmFtZTwvdHNwYW4+PC90ZXh0PjwvZz48L2c+PC9nPjxnIGNsYXNzPSJub2RlIiBpZD0iYWxlcnRtYW5nZXIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwNDguODQzNzUsMTY3LjU2MjUpIiBzdHlsZT0ib3BhY2l0eTogMTsiPjxyZWN0IHJ4PSIwIiByeT0iMCIgeD0iLTQ2LjkyMTg3NSIgeT0iLTE4LjE0MDYyNSIgd2lkdGg9IjkzLjg0Mzc1IiBoZWlnaHQ9IjM2LjI4MTI1Ij48L3JlY3Q+PGcgY2xhc3M9ImxhYmVsIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLDApIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMzYuOTIxODc1LC04LjE0MDYyNSkiPjx0ZXh0Pjx0c3BhbiB4bWw6c3BhY2U9InByZXNlcnZlIiBkeT0iMWVtIiB4PSIxIj5hbGVydG1hbmdlcjwvdHNwYW4+PC90ZXh0PjwvZz48L2c+PC9nPjwvZz48L2c+PC9nPjwvc3ZnPg==
```

再看一下流程图：

![prometheus_(1).jpg](image/prometheus_(1).jpg)

最后看一下状态流转：

一条rule的\-UI界面 会有3种状态：

1. Inactive 正常状态，未激活警报
2. Pending 已触发报警条件，但在一定时间内后才发送，有点延迟的意思，如： for 1m 子句中定义的持续时间
3. Firing 满足条件，且超过了 for 子句中的的指定持续时间 1m

```
PHN2ZyBpZD0iZGdxYmVrazZrdTciIHdpZHRoPSIxMDAlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHN0eWxlPSJtYXgtd2lkdGg6IDM4Ny43MTg3NXB4OyIgdmlld0JveD0iMCAwIDM4Ny43MTg3NSAxMDMuNTYyNSI+PHN0eWxlPgoKCiNkZ3FiZWtrNmt1NyAubGFiZWwgewogIGZvbnQtZmFtaWx5OiAndHJlYnVjaGV0IG1zJywgdmVyZGFuYSwgYXJpYWw7CiAgY29sb3I6ICMzMzM7IH0KCiNkZ3FiZWtrNmt1NyAubm9kZSByZWN0LAojZGdxYmVrazZrdTcgLm5vZGUgY2lyY2xlLAojZGdxYmVrazZrdTcgLm5vZGUgZWxsaXBzZSwKI2RncWJla2s2a3U3IC5ub2RlIHBvbHlnb24gewogIGZpbGw6ICNFQ0VDRkY7CiAgc3Ryb2tlOiAjOTM3MERCOwogIHN0cm9rZS13aWR0aDogMXB4OyB9CgojZGdxYmVrazZrdTcgLm5vZGUuY2xpY2thYmxlIHsKICBjdXJzb3I6IHBvaW50ZXI7IH0KCiNkZ3FiZWtrNmt1NyAuYXJyb3doZWFkUGF0aCB7CiAgZmlsbDogIzMzMzMzMzsgfQoKI2RncWJla2s2a3U3IC5lZGdlUGF0aCAucGF0aCB7CiAgc3Ryb2tlOiAjMzMzMzMzOwogIHN0cm9rZS13aWR0aDogMS41cHg7IH0KCiNkZ3FiZWtrNmt1NyAuZWRnZUxhYmVsIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZThlOGU4OyB9CgojZGdxYmVrazZrdTcgLmNsdXN0ZXIgcmVjdCB7CiAgZmlsbDogI2ZmZmZkZSAhaW1wb3J0YW50OwogIHN0cm9rZTogI2FhYWEzMyAhaW1wb3J0YW50OwogIHN0cm9rZS13aWR0aDogMXB4ICFpbXBvcnRhbnQ7IH0KCiNkZ3FiZWtrNmt1NyAuY2x1c3RlciB0ZXh0IHsKICBmaWxsOiAjMzMzOyB9CgojZGdxYmVrazZrdTcgZGl2Lm1lcm1haWRUb29sdGlwIHsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgdGV4dC1hbGlnbjogY2VudGVyOwogIG1heC13aWR0aDogMjAwcHg7CiAgcGFkZGluZzogMnB4OwogIGZvbnQtZmFtaWx5OiAndHJlYnVjaGV0IG1zJywgdmVyZGFuYSwgYXJpYWw7CiAgZm9udC1zaXplOiAxMnB4OwogIGJhY2tncm91bmQ6ICNmZmZmZGU7CiAgYm9yZGVyOiAxcHggc29saWQgI2FhYWEzMzsKICBib3JkZXItcmFkaXVzOiAycHg7CiAgcG9pbnRlci1ldmVudHM6IG5vbmU7CiAgei1pbmRleDogMTAwOyB9CgojZGdxYmVrazZrdTcgLmFjdG9yIHsKICBzdHJva2U6ICNDQ0NDRkY7CiAgZmlsbDogI0VDRUNGRjsgfQoKI2RncWJla2s2a3U3IHRleHQuYWN0b3IgewogIGZpbGw6IGJsYWNrOwogIHN0cm9rZTogbm9uZTsgfQoKI2RncWJla2s2a3U3IC5hY3Rvci1saW5lIHsKICBzdHJva2U6IGdyZXk7IH0KCiNkZ3FiZWtrNmt1NyAubWVzc2FnZUxpbmUwIHsKICBzdHJva2Utd2lkdGg6IDEuNTsKICBzdHJva2UtZGFzaGFycmF5OiAnMiAyJzsKICBzdHJva2U6ICMzMzM7IH0KCiNkZ3FiZWtrNmt1NyAubWVzc2FnZUxpbmUxIHsKICBzdHJva2Utd2lkdGg6IDEuNTsKICBzdHJva2UtZGFzaGFycmF5OiAnMiAyJzsKICBzdHJva2U6ICMzMzM7IH0KCiNkZ3FiZWtrNmt1NyAjYXJyb3doZWFkIHsKICBmaWxsOiAjMzMzOyB9CgojZGdxYmVrazZrdTcgI2Nyb3NzaGVhZCBwYXRoIHsKICBmaWxsOiAjMzMzICFpbXBvcnRhbnQ7CiAgc3Ryb2tlOiAjMzMzICFpbXBvcnRhbnQ7IH0KCiNkZ3FiZWtrNmt1NyAubWVzc2FnZVRleHQgewogIGZpbGw6ICMzMzM7CiAgc3Ryb2tlOiBub25lOyB9CgojZGdxYmVrazZrdTcgLmxhYmVsQm94IHsKICBzdHJva2U6ICNDQ0NDRkY7CiAgZmlsbDogI0VDRUNGRjsgfQoKI2RncWJla2s2a3U3IC5sYWJlbFRleHQgewogIGZpbGw6IGJsYWNrOwogIHN0cm9rZTogbm9uZTsgfQoKI2RncWJla2s2a3U3IC5sb29wVGV4dCB7CiAgZmlsbDogYmxhY2s7CiAgc3Ryb2tlOiBub25lOyB9CgojZGdxYmVrazZrdTcgLmxvb3BMaW5lIHsKICBzdHJva2Utd2lkdGg6IDI7CiAgc3Ryb2tlLWRhc2hhcnJheTogJzIgMic7CiAgc3Ryb2tlOiAjQ0NDQ0ZGOyB9CgojZGdxYmVrazZrdTcgLm5vdGUgewogIHN0cm9rZTogI2FhYWEzMzsKICBmaWxsOiAjZmZmNWFkOyB9CgojZGdxYmVrazZrdTcgLm5vdGVUZXh0IHsKICBmaWxsOiBibGFjazsKICBzdHJva2U6IG5vbmU7CiAgZm9udC1mYW1pbHk6ICd0cmVidWNoZXQgbXMnLCB2ZXJkYW5hLCBhcmlhbDsKICBmb250LXNpemU6IDE0cHg7IH0KCiNkZ3FiZWtrNmt1NyAuYWN0aXZhdGlvbjAgewogIGZpbGw6ICNmNGY0ZjQ7CiAgc3Ryb2tlOiAjNjY2OyB9CgojZGdxYmVrazZrdTcgLmFjdGl2YXRpb24xIHsKICBmaWxsOiAjZjRmNGY0OwogIHN0cm9rZTogIzY2NjsgfQoKI2RncWJla2s2a3U3IC5hY3RpdmF0aW9uMiB7CiAgZmlsbDogI2Y0ZjRmNDsKICBzdHJva2U6ICM2NjY7IH0KCgojZGdxYmVrazZrdTcgLnNlY3Rpb24gewogIHN0cm9rZTogbm9uZTsKICBvcGFjaXR5OiAwLjI7IH0KCiNkZ3FiZWtrNmt1NyAuc2VjdGlvbjAgewogIGZpbGw6IHJnYmEoMTAyLCAxMDIsIDI1NSwgMC40OSk7IH0KCiNkZ3FiZWtrNmt1NyAuc2VjdGlvbjIgewogIGZpbGw6ICNmZmY0MDA7IH0KCiNkZ3FiZWtrNmt1NyAuc2VjdGlvbjEsCiNkZ3FiZWtrNmt1NyAuc2VjdGlvbjMgewogIGZpbGw6IHdoaXRlOwogIG9wYWNpdHk6IDAuMjsgfQoKI2RncWJla2s2a3U3IC5zZWN0aW9uVGl0bGUwIHsKICBmaWxsOiAjMzMzOyB9CgojZGdxYmVrazZrdTcgLnNlY3Rpb25UaXRsZTEgewogIGZpbGw6ICMzMzM7IH0KCiNkZ3FiZWtrNmt1NyAuc2VjdGlvblRpdGxlMiB7CiAgZmlsbDogIzMzMzsgfQoKI2RncWJla2s2a3U3IC5zZWN0aW9uVGl0bGUzIHsKICBmaWxsOiAjMzMzOyB9CgojZGdxYmVrazZrdTcgLnNlY3Rpb25UaXRsZSB7CiAgdGV4dC1hbmNob3I6IHN0YXJ0OwogIGZvbnQtc2l6ZTogMTFweDsKICB0ZXh0LWhlaWdodDogMTRweDsgfQoKCiNkZ3FiZWtrNmt1NyAuZ3JpZCAudGljayB7CiAgc3Ryb2tlOiBsaWdodGdyZXk7CiAgb3BhY2l0eTogMC4zOwogIHNoYXBlLXJlbmRlcmluZzogY3Jpc3BFZGdlczsgfQoKI2RncWJla2s2a3U3IC5ncmlkIHBhdGggewogIHN0cm9rZS13aWR0aDogMDsgfQoKCiNkZ3FiZWtrNmt1NyAudG9kYXkgewogIGZpbGw6IG5vbmU7CiAgc3Ryb2tlOiByZWQ7CiAgc3Ryb2tlLXdpZHRoOiAycHg7IH0KCgoKI2RncWJla2s2a3U3IC50YXNrIHsKICBzdHJva2Utd2lkdGg6IDI7IH0KCiNkZ3FiZWtrNmt1NyAudGFza1RleHQgewogIHRleHQtYW5jaG9yOiBtaWRkbGU7CiAgZm9udC1zaXplOiAxMXB4OyB9CgojZGdxYmVrazZrdTcgLnRhc2tUZXh0T3V0c2lkZVJpZ2h0IHsKICBmaWxsOiBibGFjazsKICB0ZXh0LWFuY2hvcjogc3RhcnQ7CiAgZm9udC1zaXplOiAxMXB4OyB9CgojZGdxYmVrazZrdTcgLnRhc2tUZXh0T3V0c2lkZUxlZnQgewogIGZpbGw6IGJsYWNrOwogIHRleHQtYW5jaG9yOiBlbmQ7CiAgZm9udC1zaXplOiAxMXB4OyB9CgoKI2RncWJla2s2a3U3IC50YXNrVGV4dDAsCiNkZ3FiZWtrNmt1NyAudGFza1RleHQxLAojZGdxYmVrazZrdTcgLnRhc2tUZXh0MiwKI2RncWJla2s2a3U3IC50YXNrVGV4dDMgewogIGZpbGw6IHdoaXRlOyB9CgojZGdxYmVrazZrdTcgLnRhc2swLAojZGdxYmVrazZrdTcgLnRhc2sxLAojZGdxYmVrazZrdTcgLnRhc2syLAojZGdxYmVrazZrdTcgLnRhc2szIHsKICBmaWxsOiAjOGE5MGRkOwogIHN0cm9rZTogIzUzNGZiYzsgfQoKI2RncWJla2s2a3U3IC50YXNrVGV4dE91dHNpZGUwLAojZGdxYmVrazZrdTcgLnRhc2tUZXh0T3V0c2lkZTIgewogIGZpbGw6IGJsYWNrOyB9CgojZGdxYmVrazZrdTcgLnRhc2tUZXh0T3V0c2lkZTEsCiNkZ3FiZWtrNmt1NyAudGFza1RleHRPdXRzaWRlMyB7CiAgZmlsbDogYmxhY2s7IH0KCgojZGdxYmVrazZrdTcgLmFjdGl2ZTAsCiNkZ3FiZWtrNmt1NyAuYWN0aXZlMSwKI2RncWJla2s2a3U3IC5hY3RpdmUyLAojZGdxYmVrazZrdTcgLmFjdGl2ZTMgewogIGZpbGw6ICNiZmM3ZmY7CiAgc3Ryb2tlOiAjNTM0ZmJjOyB9CgojZGdxYmVrazZrdTcgLmFjdGl2ZVRleHQwLAojZGdxYmVrazZrdTcgLmFjdGl2ZVRleHQxLAojZGdxYmVrazZrdTcgLmFjdGl2ZVRleHQyLAojZGdxYmVrazZrdTcgLmFjdGl2ZVRleHQzIHsKICBmaWxsOiBibGFjayAhaW1wb3J0YW50OyB9CgoKI2RncWJla2s2a3U3IC5kb25lMCwKI2RncWJla2s2a3U3IC5kb25lMSwKI2RncWJla2s2a3U3IC5kb25lMiwKI2RncWJla2s2a3U3IC5kb25lMyB7CiAgc3Ryb2tlOiBncmV5OwogIGZpbGw6IGxpZ2h0Z3JleTsKICBzdHJva2Utd2lkdGg6IDI7IH0KCiNkZ3FiZWtrNmt1NyAuZG9uZVRleHQwLAojZGdxYmVrazZrdTcgLmRvbmVUZXh0MSwKI2RncWJla2s2a3U3IC5kb25lVGV4dDIsCiNkZ3FiZWtrNmt1NyAuZG9uZVRleHQzIHsKICBmaWxsOiBibGFjayAhaW1wb3J0YW50OyB9CgoKI2RncWJla2s2a3U3IC5jcml0MCwKI2RncWJla2s2a3U3IC5jcml0MSwKI2RncWJla2s2a3U3IC5jcml0MiwKI2RncWJla2s2a3U3IC5jcml0MyB7CiAgc3Ryb2tlOiAjZmY4ODg4OwogIGZpbGw6IHJlZDsKICBzdHJva2Utd2lkdGg6IDI7IH0KCiNkZ3FiZWtrNmt1NyAuYWN0aXZlQ3JpdDAsCiNkZ3FiZWtrNmt1NyAuYWN0aXZlQ3JpdDEsCiNkZ3FiZWtrNmt1NyAuYWN0aXZlQ3JpdDIsCiNkZ3FiZWtrNmt1NyAuYWN0aXZlQ3JpdDMgewogIHN0cm9rZTogI2ZmODg4ODsKICBmaWxsOiAjYmZjN2ZmOwogIHN0cm9rZS13aWR0aDogMjsgfQoKI2RncWJla2s2a3U3IC5kb25lQ3JpdDAsCiNkZ3FiZWtrNmt1NyAuZG9uZUNyaXQxLAojZGdxYmVrazZrdTcgLmRvbmVDcml0MiwKI2RncWJla2s2a3U3IC5kb25lQ3JpdDMgewogIHN0cm9rZTogI2ZmODg4ODsKICBmaWxsOiBsaWdodGdyZXk7CiAgc3Ryb2tlLXdpZHRoOiAyOwogIGN1cnNvcjogcG9pbnRlcjsKICBzaGFwZS1yZW5kZXJpbmc6IGNyaXNwRWRnZXM7IH0KCiNkZ3FiZWtrNmt1NyAuZG9uZUNyaXRUZXh0MCwKI2RncWJla2s2a3U3IC5kb25lQ3JpdFRleHQxLAojZGdxYmVrazZrdTcgLmRvbmVDcml0VGV4dDIsCiNkZ3FiZWtrNmt1NyAuZG9uZUNyaXRUZXh0MyB7CiAgZmlsbDogYmxhY2sgIWltcG9ydGFudDsgfQoKI2RncWJla2s2a3U3IC5hY3RpdmVDcml0VGV4dDAsCiNkZ3FiZWtrNmt1NyAuYWN0aXZlQ3JpdFRleHQxLAojZGdxYmVrazZrdTcgLmFjdGl2ZUNyaXRUZXh0MiwKI2RncWJla2s2a3U3IC5hY3RpdmVDcml0VGV4dDMgewogIGZpbGw6IGJsYWNrICFpbXBvcnRhbnQ7IH0KCiNkZ3FiZWtrNmt1NyAudGl0bGVUZXh0IHsKICB0ZXh0LWFuY2hvcjogbWlkZGxlOwogIGZvbnQtc2l6ZTogMThweDsKICBmaWxsOiBibGFjazsgfQoKI2RncWJla2s2a3U3IGcuY2xhc3NHcm91cCB0ZXh0IHsKICBmaWxsOiAjOTM3MERCOwogIHN0cm9rZTogbm9uZTsKICBmb250LWZhbWlseTogJ3RyZWJ1Y2hldCBtcycsIHZlcmRhbmEsIGFyaWFsOwogIGZvbnQtc2l6ZTogMTBweDsgfQoKI2RncWJla2s2a3U3IGcuY2xhc3NHcm91cCByZWN0IHsKICBmaWxsOiAjRUNFQ0ZGOwogIHN0cm9rZTogIzkzNzBEQjsgfQoKI2RncWJla2s2a3U3IGcuY2xhc3NHcm91cCBsaW5lIHsKICBzdHJva2U6ICM5MzcwREI7CiAgc3Ryb2tlLXdpZHRoOiAxOyB9CgojZGdxYmVrazZrdTcgLmNsYXNzTGFiZWwgLmJveCB7CiAgc3Ryb2tlOiBub25lOwogIHN0cm9rZS13aWR0aDogMDsKICBmaWxsOiAjRUNFQ0ZGOwogIG9wYWNpdHk6IDAuNTsgfQoKI2RncWJla2s2a3U3IC5jbGFzc0xhYmVsIC5sYWJlbCB7CiAgZmlsbDogIzkzNzBEQjsKICBmb250LXNpemU6IDEwcHg7IH0KCiNkZ3FiZWtrNmt1NyAucmVsYXRpb24gewogIHN0cm9rZTogIzkzNzBEQjsKICBzdHJva2Utd2lkdGg6IDE7CiAgZmlsbDogbm9uZTsgfQoKI2RncWJla2s2a3U3ICNjb21wb3NpdGlvblN0YXJ0IHsKICBmaWxsOiAjOTM3MERCOwogIHN0cm9rZTogIzkzNzBEQjsKICBzdHJva2Utd2lkdGg6IDE7IH0KCiNkZ3FiZWtrNmt1NyAjY29tcG9zaXRpb25FbmQgewogIGZpbGw6ICM5MzcwREI7CiAgc3Ryb2tlOiAjOTM3MERCOwogIHN0cm9rZS13aWR0aDogMTsgfQoKI2RncWJla2s2a3U3ICNhZ2dyZWdhdGlvblN0YXJ0IHsKICBmaWxsOiAjRUNFQ0ZGOwogIHN0cm9rZTogIzkzNzBEQjsKICBzdHJva2Utd2lkdGg6IDE7IH0KCiNkZ3FiZWtrNmt1NyAjYWdncmVnYXRpb25FbmQgewogIGZpbGw6ICNFQ0VDRkY7CiAgc3Ryb2tlOiAjOTM3MERCOwogIHN0cm9rZS13aWR0aDogMTsgfQoKI2RncWJla2s2a3U3ICNkZXBlbmRlbmN5U3RhcnQgewogIGZpbGw6ICM5MzcwREI7CiAgc3Ryb2tlOiAjOTM3MERCOwogIHN0cm9rZS13aWR0aDogMTsgfQoKI2RncWJla2s2a3U3ICNkZXBlbmRlbmN5RW5kIHsKICBmaWxsOiAjOTM3MERCOwogIHN0cm9rZTogIzkzNzBEQjsKICBzdHJva2Utd2lkdGg6IDE7IH0KCiNkZ3FiZWtrNmt1NyAjZXh0ZW5zaW9uU3RhcnQgewogIGZpbGw6ICM5MzcwREI7CiAgc3Ryb2tlOiAjOTM3MERCOwogIHN0cm9rZS13aWR0aDogMTsgfQoKI2RncWJla2s2a3U3ICNleHRlbnNpb25FbmQgewogIGZpbGw6ICM5MzcwREI7CiAgc3Ryb2tlOiAjOTM3MERCOwogIHN0cm9rZS13aWR0aDogMTsgfQoKI2RncWJla2s2a3U3IC5jb21taXQtaWQsCiNkZ3FiZWtrNmt1NyAuY29tbWl0LW1zZywKI2RncWJla2s2a3U3IC5icmFuY2gtbGFiZWwgewogIGZpbGw6IGxpZ2h0Z3JleTsKICBjb2xvcjogbGlnaHRncmV5OyB9CgoKCiNkZ3FiZWtrNmt1NyAubGFiZWx7CiAgY29sb3I6IzE4QjE0RTsKfQojZGdxYmVrazZrdTcgLnRlLW1kLWNvbnRhaW5lci0tZGFyayAubm9kZSByZWN0IHsKICBmaWxsOiByZWQ7Cn0KCiNkZ3FiZWtrNmt1NyAubm9kZSByZWN0LAojZGdxYmVrazZrdTcgLm5vZGUgY2lyY2xlLAojZGdxYmVrazZrdTcgLm5vZGUgZWxsaXBzZSwKI2RncWJla2s2a3U3IC5ub2RlIHBvbHlnb24gewogIGZpbGw6ICNGOUZGRkI7OwogIHN0cm9rZTogIzJEQkQ2MDsKICBzdHJva2Utd2lkdGg6IDEuNXB4Owp9CiNkZ3FiZWtrNmt1NyAuYXJyb3doZWFkUGF0aHsKICBmaWxsOiAjMkRCRDYwOwp9CiNkZ3FiZWtrNmt1NyAuZWRnZVBhdGggLnBhdGggewogIHN0cm9rZTogIzJEQkQ2MDsKICBzdHJva2Utd2lkdGg6IDFweDsKfQojZGdxYmVrazZrdTcgLmVkZ2VMYWJlbCB7CiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsKfQojZGdxYmVrazZrdTcgLmNsdXN0ZXIgcmVjdCB7CiAgZmlsbDogI0Y5RkZGQiAhaW1wb3J0YW50OwogIHN0cm9rZTogIzJEQkQ2MCAhaW1wb3J0YW50OwogIHN0cm9rZS13aWR0aDogMXB4ICFpbXBvcnRhbnQ7Cn0KCiNkZ3FiZWtrNmt1NyAuY2x1c3RlciB0ZXh0IHsKICBmaWxsOiAjRjlGRkZCOwp9CgojZGdxYmVrazZrdTcgZGl2Lm1lcm1haWRUb29sdGlwIHsKICBiYWNrZ3JvdW5kOiAjRjlGRkZCOwogIGJvcmRlcjogMXB4IHNvbGlkICMyREJENjA7Cn0KCgojZGdxYmVrazZrdTcgLmFjdG9yIHsKICBzdHJva2U6ICMyREJENjA7CiAgZmlsbDogI0Y5RkZGQjsKfQoKI2RncWJla2s2a3U3IHRleHQuYWN0b3IgewogIGZpbGw6ICMyREJENjA7CiAgc3Ryb2tlOiBub25lOwp9CgojZGdxYmVrazZrdTcgLmFjdG9yLWxpbmUgewogIHN0cm9rZTogIzJEQkQ2MDsKfQoKI2RncWJla2s2a3U3IC5tZXNzYWdlTGluZTAgewogIHN0cm9rZS13aWR0aDogMS41OwogIHN0cm9rZS1kYXNoYXJyYXk6ICcyIDInOwogIG1hcmtlci1lbmQ6ICd1cmwoI2Fycm93aGVhZCknOwogIHN0cm9rZTogIzJEQkQ2MDsKfQoKI2RncWJla2s2a3U3IC5tZXNzYWdlTGluZTEgewogIHN0cm9rZS13aWR0aDogMS41OwogIHN0cm9rZS1kYXNoYXJyYXk6ICcyIDInOwogIHN0cm9rZTogIzJEQkQ2MDsKfQoKI2RncWJla2s2a3U3ICNhcnJvd2hlYWQgewogIGZpbGw6ICMyREJENjA7Cn0KCiNkZ3FiZWtrNmt1NyAjY3Jvc3NoZWFkIHBhdGggewogIGZpbGw6ICMyREJENjAgIWltcG9ydGFudDsKICBzdHJva2U6ICMyREJENjAgIWltcG9ydGFudDsKfQoKI2RncWJla2s2a3U3IC5tZXNzYWdlVGV4dCB7CiAgZmlsbDogIzJEQkQ2MDsKICBzdHJva2U6IG5vbmU7Cn0KCiNkZ3FiZWtrNmt1NyAubGFiZWxCb3ggewogIHN0cm9rZTogIzJEQkQ2MDsKICBmaWxsOiAjRjlGRkZCOwp9CgojZGdxYmVrazZrdTcgLmxhYmVsVGV4dCB7CiAgZmlsbDogIzJEQkQ2MDsKICBzdHJva2U6ICMyREJENjA7Cn0KCiNkZ3FiZWtrNmt1NyAubG9vcFRleHQgewogIGZpbGw6ICMyREJENjA7CiAgc3Ryb2tlOiAjMkRCRDYwOwp9CgojZGdxYmVrazZrdTcgLmxvb3BMaW5lIHsKICBzdHJva2Utd2lkdGg6IDI7CiAgc3Ryb2tlLWRhc2hhcnJheTogJzIgMic7CiAgbWFya2VyLWVuZDogJ3VybCgjYXJyb3doZWFkKSc7CiAgc3Ryb2tlOiAjMkRCRDYwOwp9CgojZGdxYmVrazZrdTcgLm5vdGUgewogIHN0cm9rZTogIzJEQkQ2MDsKICBmaWxsOiAjRjlGRkZCOwp9CgojZGdxYmVrazZrdTcgLm5vdGVUZXh0IHsKICBmaWxsOiAjMkRCRDYwOwogIHN0cm9rZTogIzJEQkQ2MDsKfQoKCiNkZ3FiZWtrNmt1NyAuc2VjdGlvbnsKICBvcGFjaXR5OjE7Cn0KI2RncWJla2s2a3U3IC5zZWN0aW9uMCwjZGdxYmVrazZrdTcgIC5zZWN0aW9uMiB7CiAgZmlsbDogI0VDRjdGMDsKfQoKI2RncWJla2s2a3U3IC5zZWN0aW9uMSwKI2RncWJla2s2a3U3IC5zZWN0aW9uMyB7CiAgZmlsbDogI0ZGRjsKfQojZGdxYmVrazZrdTcgLnRhc2tUZXh0MCwKI2RncWJla2s2a3U3IC50YXNrVGV4dDEsCiNkZ3FiZWtrNmt1NyAudGFza1RleHQyLAojZGdxYmVrazZrdTcgLnRhc2tUZXh0MyB7CiAgZmlsbDogI2ZmZjsKfQoKI2RncWJla2s2a3U3IC50YXNrMCwKI2RncWJla2s2a3U3IC50YXNrMSwKI2RncWJla2s2a3U3IC50YXNrMiwKI2RncWJla2s2a3U3IC50YXNrMyB7CiAgZmlsbDogIzJEQkQ2MDsKICBzdHJva2U6ICMzNTlGNUE7Cn0KPC9zdHlsZT48c3R5bGU+I2RncWJla2s2a3U3IHsKICAgIGNvbG9yOiByZ2IoMjQ0LCAyNDQsIDI0NCk7CiAgICBmb250OiBub3JtYWwgbm9ybWFsIG5vcm1hbCBub3JtYWwgMTRweC8yMi4zOTk5OTk2MTg1MzAyNzNweCBtb25vc3BhY2U7CiAgfTwvc3R5bGU+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEyLCAtMTIpIj48ZyBjbGFzcz0ib3V0cHV0Ij48ZyBjbGFzcz0iY2x1c3RlcnMiPjwvZz48ZyBjbGFzcz0iZWRnZVBhdGhzIj48ZyBjbGFzcz0iZWRnZVBhdGgiIHN0eWxlPSJvcGFjaXR5OiAxOyI+PHBhdGggY2xhc3M9InBhdGgiIGQ9Ik04Ny43ODEyNSw0Mi41NzExMDQ1MjQzODU3OUwxMzkuNDI5Njg3NSwyNC4wNzAzMTI1TDE5MS4wNzgxMjUsMzIuNTY2NzM1MjE5OTAzMTgiIG1hcmtlci1lbmQ9InVybCgjYXJyb3doZWFkMTY5NzUpIiBzdHlsZT0ic3Ryb2tlOiAjMzMzOyBzdHJva2Utd2lkdGg6IDEuNXB4O2ZpbGw6bm9uZSI+PC9wYXRoPjxkZWZzPjxtYXJrZXIgaWQ9ImFycm93aGVhZDE2OTc1IiB2aWV3Qm94PSIwIDAgMTAgMTAiIHJlZlg9IjkiIHJlZlk9IjUiIG1hcmtlclVuaXRzPSJzdHJva2VXaWR0aCIgbWFya2VyV2lkdGg9IjgiIG1hcmtlckhlaWdodD0iNiIgb3JpZW50PSJhdXRvIj48cGF0aCBkPSJNIDAgMCBMIDEwIDUgTCAwIDEwIHoiIGNsYXNzPSJhcnJvd2hlYWRQYXRoIiBzdHlsZT0ic3Ryb2tlLXdpZHRoOiAxcHg7IHN0cm9rZS1kYXNoYXJyYXk6IDFweCwgMHB4OyI+PC9wYXRoPjwvbWFya2VyPjwvZGVmcz48L2c+PGcgY2xhc3M9ImVkZ2VQYXRoIiBzdHlsZT0ib3BhY2l0eTogMTsiPjxwYXRoIGNsYXNzPSJwYXRoIiBkPSJNMjU4Ljg0Mzc1LDM4LjE0MDYyNUwyOTguMzA0Njg3NSwzOC4xNDA2MjVMMzM3Ljc2NTYyNSw1Ni4zMzk4MDE0OTA0NzUwNyIgbWFya2VyLWVuZD0idXJsKCNhcnJvd2hlYWQxNjk3NikiIHN0eWxlPSJzdHJva2U6ICMzMzM7IHN0cm9rZS13aWR0aDogMS41cHg7ZmlsbDpub25lIj48L3BhdGg+PGRlZnM+PG1hcmtlciBpZD0iYXJyb3doZWFkMTY5NzYiIHZpZXdCb3g9IjAgMCAxMCAxMCIgcmVmWD0iOSIgcmVmWT0iNSIgbWFya2VyVW5pdHM9InN0cm9rZVdpZHRoIiBtYXJrZXJXaWR0aD0iOCIgbWFya2VySGVpZ2h0PSI2IiBvcmllbnQ9ImF1dG8iPjxwYXRoIGQ9Ik0gMCAwIEwgMTAgNSBMIDAgMTAgeiIgY2xhc3M9ImFycm93aGVhZFBhdGgiIHN0eWxlPSJzdHJva2Utd2lkdGg6IDFweDsgc3Ryb2tlLWRhc2hhcnJheTogMXB4LCAwcHg7Ij48L3BhdGg+PC9tYXJrZXI+PC9kZWZzPjwvZz48ZyBjbGFzcz0iZWRnZVBhdGgiIHN0eWxlPSJvcGFjaXR5OiAxOyI+PHBhdGggY2xhc3M9InBhdGgiIGQ9Ik0zMzcuNzY1NjI1LDgxLjIyMjY5ODUwOTUyNDkzTDI5OC4zMDQ2ODc1LDk5LjQyMTg3NUwyMjQuOTYwOTM3NSw5OS40MjE4NzVMMTM5LjQyOTY4NzUsOTkuNDIxODc1TDg3Ljc4MTI1LDcyLjQyNTQzNjI1NTU5NDEyIiBtYXJrZXItZW5kPSJ1cmwoI2Fycm93aGVhZDE2OTc3KSIgc3R5bGU9InN0cm9rZTogIzMzMzsgc3Ryb2tlLXdpZHRoOiAxLjVweDtmaWxsOm5vbmUiPjwvcGF0aD48ZGVmcz48bWFya2VyIGlkPSJhcnJvd2hlYWQxNjk3NyIgdmlld0JveD0iMCAwIDEwIDEwIiByZWZYPSI5IiByZWZZPSI1IiBtYXJrZXJVbml0cz0ic3Ryb2tlV2lkdGgiIG1hcmtlcldpZHRoPSI4IiBtYXJrZXJIZWlnaHQ9IjYiIG9yaWVudD0iYXV0byI+PHBhdGggZD0iTSAwIDAgTCAxMCA1IEwgMCAxMCB6IiBjbGFzcz0iYXJyb3doZWFkUGF0aCIgc3R5bGU9InN0cm9rZS13aWR0aDogMXB4OyBzdHJva2UtZGFzaGFycmF5OiAxcHgsIDBweDsiPjwvcGF0aD48L21hcmtlcj48L2RlZnM+PC9nPjxnIGNsYXNzPSJlZGdlUGF0aCIgc3R5bGU9Im9wYWNpdHk6IDE7Ij48cGF0aCBjbGFzcz0icGF0aCIgZD0iTTE5MS4wNzgxMjUsNDQuNzA0ODc4MzE2ODE1ODZMMTM5LjQyOTY4NzUsNTQuNzEwOTM3NUw4Ny43ODEyNSw1NC43MTA5Mzc1IiBtYXJrZXItZW5kPSJ1cmwoI2Fycm93aGVhZDE2OTc4KSIgc3R5bGU9InN0cm9rZTogIzMzMzsgc3Ryb2tlLXdpZHRoOiAxLjVweDtmaWxsOm5vbmUiPjwvcGF0aD48ZGVmcz48bWFya2VyIGlkPSJhcnJvd2hlYWQxNjk3OCIgdmlld0JveD0iMCAwIDEwIDEwIiByZWZYPSI5IiByZWZZPSI1IiBtYXJrZXJVbml0cz0ic3Ryb2tlV2lkdGgiIG1hcmtlcldpZHRoPSI4IiBtYXJrZXJIZWlnaHQ9IjYiIG9yaWVudD0iYXV0byI+PHBhdGggZD0iTSAwIDAgTCAxMCA1IEwgMCAxMCB6IiBjbGFzcz0iYXJyb3doZWFkUGF0aCIgc3R5bGU9InN0cm9rZS13aWR0aDogMXB4OyBzdHJva2UtZGFzaGFycmF5OiAxcHgsIDBweDsiPjwvcGF0aD48L21hcmtlcj48L2RlZnM+PC9nPjwvZz48ZyBjbGFzcz0iZWRnZUxhYmVscyI+PGcgY2xhc3M9ImVkZ2VMYWJlbCIgdHJhbnNmb3JtPSIiIHN0eWxlPSJvcGFjaXR5OiAxOyI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCwwKSIgY2xhc3M9ImxhYmVsIj48cmVjdCByeD0iMCIgcnk9IjAiIHdpZHRoPSIwIiBoZWlnaHQ9IjAiIHN0eWxlPSJmaWxsOiNlOGU4ZTg7Ij48L3JlY3Q+PHRleHQ+PHRzcGFuIHhtbDpzcGFjZT0icHJlc2VydmUiIGR5PSIxZW0iIHg9IjEiPjwvdHNwYW4+PC90ZXh0PjwvZz48L2c+PGcgY2xhc3M9ImVkZ2VMYWJlbCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjk4LjMwNDY4NzUsMzguMTQwNjI1KSIgc3R5bGU9Im9wYWNpdHk6IDE7Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjAuNDA2MjUsLTguMDA3ODEyNSkiIGNsYXNzPSJsYWJlbCI+PHJlY3Qgcng9IjAiIHJ5PSIwIiB3aWR0aD0iMjguOTIxODc1IiBoZWlnaHQ9IjE2LjI4MTI1IiBzdHlsZT0iZmlsbDojZThlOGU4OyI+PC9yZWN0Pjx0ZXh0Pjx0c3BhbiB4bWw6c3BhY2U9InByZXNlcnZlIiBkeT0iMWVtIiB4PSIxIj5hbGVydDwvdHNwYW4+PC90ZXh0PjwvZz48L2c+PGcgY2xhc3M9ImVkZ2VMYWJlbCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjI0Ljk2MDkzNzUsOTkuNDIxODc1KSIgc3R5bGU9Im9wYWNpdHk6IDE7Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMzIuNTYyNSwtOC4wMDc4MTI1KSIgY2xhc3M9ImxhYmVsIj48cmVjdCByeD0iMCIgcnk9IjAiIHdpZHRoPSI1My4yOTY4NzUiIGhlaWdodD0iMTYuMjgxMjUiIHN0eWxlPSJmaWxsOiNlOGU4ZTg7Ij48L3JlY3Q+PHRleHQ+PHRzcGFuIHhtbDpzcGFjZT0icHJlc2VydmUiIGR5PSIxZW0iIHg9IjEiPlJlc29sdmVkPC90c3Bhbj48L3RleHQ+PC9nPjwvZz48ZyBjbGFzcz0iZWRnZUxhYmVsIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMzkuNDI5Njg3NSw1NC43MTA5Mzc1KSIgc3R5bGU9Im9wYWNpdHk6IDE7Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMzIuNTYyNSwtOC4wMDc4MTI1KSIgY2xhc3M9ImxhYmVsIj48cmVjdCByeD0iMCIgcnk9IjAiIHdpZHRoPSI1My4yOTY4NzUiIGhlaWdodD0iMTYuMjgxMjUiIHN0eWxlPSJmaWxsOiNlOGU4ZTg7Ij48L3JlY3Q+PHRleHQ+PHRzcGFuIHhtbDpzcGFjZT0icHJlc2VydmUiIGR5PSIxZW0iIHg9IjEiPlJlc29sdmVkPC90c3Bhbj48L3RleHQ+PC9nPjwvZz48L2c+PGcgY2xhc3M9Im5vZGVzIj48ZyBjbGFzcz0ibm9kZSIgaWQ9IkluYWN0aXZlIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1My44OTA2MjUsNTQuNzEwOTM3NSkiIHN0eWxlPSJvcGFjaXR5OiAxOyI+PHJlY3Qgcng9IjAiIHJ5PSIwIiB4PSItMzMuODkwNjI1IiB5PSItMTguMTQwNjI1IiB3aWR0aD0iNjcuNzgxMjUiIGhlaWdodD0iMzYuMjgxMjUiPjwvcmVjdD48ZyBjbGFzcz0ibGFiZWwiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAsMCkiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yMy44OTA2MjUsLTguMTQwNjI1KSI+PHRleHQ+PHRzcGFuIHhtbDpzcGFjZT0icHJlc2VydmUiIGR5PSIxZW0iIHg9IjEiPkluYWN0aXZlPC90c3Bhbj48L3RleHQ+PC9nPjwvZz48L2c+PGcgY2xhc3M9Im5vZGUiIGlkPSJQZW5kaW5nIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMjQuOTYwOTM3NSwzOC4xNDA2MjUpIiBzdHlsZT0ib3BhY2l0eTogMTsiPjxyZWN0IHJ4PSIwIiByeT0iMCIgeD0iLTMzLjg4MjgxMjUiIHk9Ii0xOC4xNDA2MjUiIHdpZHRoPSI2Ny43NjU2MjUiIGhlaWdodD0iMzYuMjgxMjUiPjwvcmVjdD48ZyBjbGFzcz0ibGFiZWwiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAsMCkiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yMy44ODI4MTI1LC04LjE0MDYyNSkiPjx0ZXh0Pjx0c3BhbiB4bWw6c3BhY2U9InByZXNlcnZlIiBkeT0iMWVtIiB4PSIxIj5QZW5kaW5nPC90c3Bhbj48L3RleHQ+PC9nPjwvZz48L2c+PGcgY2xhc3M9Im5vZGUiIGlkPSJGaXJpbmciIHRyYW5zZm9ybT0idHJhbnNsYXRlKDM2NC43NDIxODc1LDY4Ljc4MTI1KSIgc3R5bGU9Im9wYWNpdHk6IDE7Ij48cmVjdCByeD0iMCIgcnk9IjAiIHg9Ii0yNi45NzY1NjI1IiB5PSItMTguMTQwNjI1IiB3aWR0aD0iNTMuOTUzMTI1IiBoZWlnaHQ9IjM2LjI4MTI1Ij48L3JlY3Q+PGcgY2xhc3M9ImxhYmVsIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLDApIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTYuOTc2NTYyNSwtOC4xNDA2MjUpIj48dGV4dD48dHNwYW4geG1sOnNwYWNlPSJwcmVzZXJ2ZSIgZHk9IjFlbSIgeD0iMSI+RmlyaW5nPC90c3Bhbj48L3RleHQ+PC9nPjwvZz48L2c+PC9nPjwvZz48L2c+PC9zdmc+
```

核心关键点

1. expr : 也就是 触发报警表达式，这个也是最难。。。我看了看DEMO，好复杂....

> expr: up{job="share\_linux\_os\_node"} == 0

1. for : 持续时长，上面触发后，等待多久才真的发送报警
2. evaluation\_interval : 计算expr周期

分析：

evaluation\_interval:这个值不要太小，也别太大，不然频繁触发计算exp，会很生成多条告警大量发送的情况

for:这个值不要太小，可以略大一点，因为，网络波动很正常，值太小一样会有很多告警发出来

最终发送一告警的时间为：evaluation\_interval \+ for

查看报警配置信息

> http://59.110.167.206:9090/alerts

## PromQL

> 类似sql query 的一门小语言吧。
> 
> 
> 报警阀值配置的时候，需要写公式

**聚合函数**

|关键字       |描述                 |
|-------------|---------------------|
|sum          |累加                 |
|min          |最小                 |
|max          |最大                 |
|avg          |平均                 |
|topk         |前N条                |
|count        |统计条数             |
|count\_values|对 value 进行计数    |
|stddev       |标准差               |
|stdvar       |标准差异             |
|bottomk      |样本值最小的 k 个元素|
|quantile     |分布统计             |

> 后4个基本上不咋用，是统计学的东西

内置函数

floor round ceil

rate: 配和 \[1m\] 参数一起使用，所有记录的value , 1分钟/60 = 每秒平均值

> ps:这个值好像是配合counter类型数据，对增量进行求每秒平均值

表达式

\+，\-，\*，/，%，^ ==，\!=，\>，\<，\>=，\<= and，or，unless

> unless：非， 等于 \!

**查询结果分类**

1. 瞬时数据 \(Instant vector\): 包含一组时序，每个时序只有一个点，例如：http\_requests\_total
2. 区间数据 \(Range vector\): 包含一组时序，每个时序有多个点，例如：http\_requests\_total\[5m\]
3. 纯量数据 \(Scalar\): 纯量只有一个数字，没有时序，例如：count\(http\_requests\_total\)

> metricaName{field=xxx,label~=xxx}\[5m\]

metricaName:一个metric名称，可以类比MSYQL一个表名

field:当传输的值为一组，且包含若干字段时，字段名，可以类比MSYQL一个字段名

label:标签名

5m:过去5分钟的数据

一个简单的DEMO：

> http\_Request\_total{code=200 , method='POST',jobs="node\_206"}\[5m\]

查看metric=http\_Request\_total,字段 code=200 method=post, 标签 jobs=node\_206,最近5分钟的数据

再结合 内置 函数与 聚合函数，及表达式，即是一条完整的query

floor\(avg\(http\_requests\_total{code="200"}\)\)

## node\_exporter

> https://github.com/prometheus/node\_exporter/releases/download/v1.0.1/node\_exporter\-1.0.1.linux\-amd64.tar.gz

解压，启动

> ./node\_exporter \-\-web.listen\-address="0.0.0.0:9100" \> /data/logs/exporter/node\_exporter.log &

查看启动是否成功

> lsof \-i:9100
> 
> 
> 注：记得打开阿里云端口限制

都OK了后，prometheus ui http 端 ，查看

> http://39.107.127.244:9090/targets
> 
> 
> 搜索：up，即可看见状态值 了

vim prometheus.yml

加一个监控值：

```
  - job_name: 'node'   ### 新增加job
    static_configs:
    - targets: ['127.0.0.1:9100']
```

到搜索框里输入：up ，execute 就看见图形了

## push getway

应用场景：

1. 当一台机器上跑着多个服务，如直接在prometheus中配置job略麻烦，于是在本机启动一个进程，接收多个服务的metric数据，最后在promethus中只配置这个进程，只摘取该进程的配置信息即可。

缺点：

1. 多服务同时推送一个进程，数据量大，会把该服务搞挂，造成单点故障。

> 当前机器上所有服务也被标记成挂了

1. pushgateway保存所有数据，而用户的自有服务即使重启，之前的metric数据依然存在于push\_gateway中。

> 重启push getway，之前的metric数据会消失。也可以通过接口手动删除

1. 因为ushgateway聚合了一台机器上所有的用户服务，并且有旧数据，那么当某个服务挂了，pushgataway依然还会把该服务的旧数据推送到prometheus中，且prometheus依然认为该服务是正常的。

下载安装包/解压

启动：

> ./pushgateway \-\-web.listen\-address="0.0.0.0:9091" \-\-web.telemetry\-path="/metrics" \-\-persistence.interval=1m

\-\-persistence.file="persistence\-data"

查看下效果

> http://8.142.177.235:9091

自己的一些信息

> http://8.142.177.235:9091/metrics

## 监控nginx:

nginx 添加配置文件：

```
    location ~ ^/(status|ping)$ {
            fastcgi_pass 127.0.0.1:9000;
            fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
            include fastcgi_params;
    }
```

php修改配置文件：

pm.status\_path = /status

重启，

http://114.55.2.201/Nginxstatus

http://114.55.2.201/status

监控 php\-fpm

https://github.com/bakins/php\-fpm\-exporter/releases

被监控的机器安装php\-fpm\-exporter

//\-\-addr:监听本机端口，供远方的prometheus 调用

//endpoint :要监控的php\-fpm

/soft/php\-fpm\-exporter \-\-addr 0.0.0.0:8000 \-\-endpoint http://127.0.0.1/status

- job\_name: 'php\-fpm'
    static\_configs:
    - targets: \['114.55.2.201:8182'\]

=======================================================

## 报警/预警策略

监控实体分类

|类型          |监控指标                            |备注                 |
|--------------|------------------------------------|---------------------|
|服务器        |CPU/内存/网络/硬盘负载高、服务器宕机|centos               |
|自研服务      |进程意外退出、负载高、运行时异常    |golang php java      |
|开源软件\-自建|进程意外退出、负载高、运行时异常    |nginx apache rabbitmq|
|开源软件\-3方 |进程意外退出、负载高、运行时异常    |lbs mysql redis      |

触发类型

|类型|监控指标                                   |获取方式        |方式|
|----|-------------------------------------------|----------------|----|
|被动|进程意外退出、负载高、运行时异常           |从日志DB中分析  |pull|
|主动|程序中执行中 发生了错误，程序员能直接捕获到|通过HTTP直接推送|push|

分析

> 主动：需要提供一个HTTP SERVER API接口
> 
> 
> 被动：需要有TSDB主动去收集数据并存储，再加上分析，最终推送给报警器

核心

1. 日志DB，可存储监控实体的日常数据
2. 分析日志，有报警策略
3. web service接收报警
4. 报警推送通知，微信 邮件 SMS webhook
5. UI

> 日志DB及日志分析，prometheus可处理，剩下就是有个service：报警接收器，alertmanager即可。

## alertmanager

安装报警插件

> https://github.com/prometheus/alertmanager/releases/download/v0.21.0/alertmanager\-0.21.0.linux\-amd64.tar.gz

prometheus \<\- Rules \-\> Alertmanager \-\>Group \-\> Routing \-\>receiver

```
PHN2ZyBpZD0iZDUyYWd5MWJkM2EiIHdpZHRoPSIxMDAlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHN0eWxlPSJtYXgtd2lkdGg6IDEwNzEuMTcxODc1cHg7IiB2aWV3Qm94PSIwIDAgMTA3MS4xNzE4NzUgMzExLjEyNSI+PHN0eWxlPgoKCiNkNTJhZ3kxYmQzYSAubGFiZWwgewogIGZvbnQtZmFtaWx5OiAndHJlYnVjaGV0IG1zJywgdmVyZGFuYSwgYXJpYWw7CiAgY29sb3I6ICMzMzM7IH0KCiNkNTJhZ3kxYmQzYSAubm9kZSByZWN0LAojZDUyYWd5MWJkM2EgLm5vZGUgY2lyY2xlLAojZDUyYWd5MWJkM2EgLm5vZGUgZWxsaXBzZSwKI2Q1MmFneTFiZDNhIC5ub2RlIHBvbHlnb24gewogIGZpbGw6ICNFQ0VDRkY7CiAgc3Ryb2tlOiAjOTM3MERCOwogIHN0cm9rZS13aWR0aDogMXB4OyB9CgojZDUyYWd5MWJkM2EgLm5vZGUuY2xpY2thYmxlIHsKICBjdXJzb3I6IHBvaW50ZXI7IH0KCiNkNTJhZ3kxYmQzYSAuYXJyb3doZWFkUGF0aCB7CiAgZmlsbDogIzMzMzMzMzsgfQoKI2Q1MmFneTFiZDNhIC5lZGdlUGF0aCAucGF0aCB7CiAgc3Ryb2tlOiAjMzMzMzMzOwogIHN0cm9rZS13aWR0aDogMS41cHg7IH0KCiNkNTJhZ3kxYmQzYSAuZWRnZUxhYmVsIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZThlOGU4OyB9CgojZDUyYWd5MWJkM2EgLmNsdXN0ZXIgcmVjdCB7CiAgZmlsbDogI2ZmZmZkZSAhaW1wb3J0YW50OwogIHN0cm9rZTogI2FhYWEzMyAhaW1wb3J0YW50OwogIHN0cm9rZS13aWR0aDogMXB4ICFpbXBvcnRhbnQ7IH0KCiNkNTJhZ3kxYmQzYSAuY2x1c3RlciB0ZXh0IHsKICBmaWxsOiAjMzMzOyB9CgojZDUyYWd5MWJkM2EgZGl2Lm1lcm1haWRUb29sdGlwIHsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgdGV4dC1hbGlnbjogY2VudGVyOwogIG1heC13aWR0aDogMjAwcHg7CiAgcGFkZGluZzogMnB4OwogIGZvbnQtZmFtaWx5OiAndHJlYnVjaGV0IG1zJywgdmVyZGFuYSwgYXJpYWw7CiAgZm9udC1zaXplOiAxMnB4OwogIGJhY2tncm91bmQ6ICNmZmZmZGU7CiAgYm9yZGVyOiAxcHggc29saWQgI2FhYWEzMzsKICBib3JkZXItcmFkaXVzOiAycHg7CiAgcG9pbnRlci1ldmVudHM6IG5vbmU7CiAgei1pbmRleDogMTAwOyB9CgojZDUyYWd5MWJkM2EgLmFjdG9yIHsKICBzdHJva2U6ICNDQ0NDRkY7CiAgZmlsbDogI0VDRUNGRjsgfQoKI2Q1MmFneTFiZDNhIHRleHQuYWN0b3IgewogIGZpbGw6IGJsYWNrOwogIHN0cm9rZTogbm9uZTsgfQoKI2Q1MmFneTFiZDNhIC5hY3Rvci1saW5lIHsKICBzdHJva2U6IGdyZXk7IH0KCiNkNTJhZ3kxYmQzYSAubWVzc2FnZUxpbmUwIHsKICBzdHJva2Utd2lkdGg6IDEuNTsKICBzdHJva2UtZGFzaGFycmF5OiAnMiAyJzsKICBzdHJva2U6ICMzMzM7IH0KCiNkNTJhZ3kxYmQzYSAubWVzc2FnZUxpbmUxIHsKICBzdHJva2Utd2lkdGg6IDEuNTsKICBzdHJva2UtZGFzaGFycmF5OiAnMiAyJzsKICBzdHJva2U6ICMzMzM7IH0KCiNkNTJhZ3kxYmQzYSAjYXJyb3doZWFkIHsKICBmaWxsOiAjMzMzOyB9CgojZDUyYWd5MWJkM2EgI2Nyb3NzaGVhZCBwYXRoIHsKICBmaWxsOiAjMzMzICFpbXBvcnRhbnQ7CiAgc3Ryb2tlOiAjMzMzICFpbXBvcnRhbnQ7IH0KCiNkNTJhZ3kxYmQzYSAubWVzc2FnZVRleHQgewogIGZpbGw6ICMzMzM7CiAgc3Ryb2tlOiBub25lOyB9CgojZDUyYWd5MWJkM2EgLmxhYmVsQm94IHsKICBzdHJva2U6ICNDQ0NDRkY7CiAgZmlsbDogI0VDRUNGRjsgfQoKI2Q1MmFneTFiZDNhIC5sYWJlbFRleHQgewogIGZpbGw6IGJsYWNrOwogIHN0cm9rZTogbm9uZTsgfQoKI2Q1MmFneTFiZDNhIC5sb29wVGV4dCB7CiAgZmlsbDogYmxhY2s7CiAgc3Ryb2tlOiBub25lOyB9CgojZDUyYWd5MWJkM2EgLmxvb3BMaW5lIHsKICBzdHJva2Utd2lkdGg6IDI7CiAgc3Ryb2tlLWRhc2hhcnJheTogJzIgMic7CiAgc3Ryb2tlOiAjQ0NDQ0ZGOyB9CgojZDUyYWd5MWJkM2EgLm5vdGUgewogIHN0cm9rZTogI2FhYWEzMzsKICBmaWxsOiAjZmZmNWFkOyB9CgojZDUyYWd5MWJkM2EgLm5vdGVUZXh0IHsKICBmaWxsOiBibGFjazsKICBzdHJva2U6IG5vbmU7CiAgZm9udC1mYW1pbHk6ICd0cmVidWNoZXQgbXMnLCB2ZXJkYW5hLCBhcmlhbDsKICBmb250LXNpemU6IDE0cHg7IH0KCiNkNTJhZ3kxYmQzYSAuYWN0aXZhdGlvbjAgewogIGZpbGw6ICNmNGY0ZjQ7CiAgc3Ryb2tlOiAjNjY2OyB9CgojZDUyYWd5MWJkM2EgLmFjdGl2YXRpb24xIHsKICBmaWxsOiAjZjRmNGY0OwogIHN0cm9rZTogIzY2NjsgfQoKI2Q1MmFneTFiZDNhIC5hY3RpdmF0aW9uMiB7CiAgZmlsbDogI2Y0ZjRmNDsKICBzdHJva2U6ICM2NjY7IH0KCgojZDUyYWd5MWJkM2EgLnNlY3Rpb24gewogIHN0cm9rZTogbm9uZTsKICBvcGFjaXR5OiAwLjI7IH0KCiNkNTJhZ3kxYmQzYSAuc2VjdGlvbjAgewogIGZpbGw6IHJnYmEoMTAyLCAxMDIsIDI1NSwgMC40OSk7IH0KCiNkNTJhZ3kxYmQzYSAuc2VjdGlvbjIgewogIGZpbGw6ICNmZmY0MDA7IH0KCiNkNTJhZ3kxYmQzYSAuc2VjdGlvbjEsCiNkNTJhZ3kxYmQzYSAuc2VjdGlvbjMgewogIGZpbGw6IHdoaXRlOwogIG9wYWNpdHk6IDAuMjsgfQoKI2Q1MmFneTFiZDNhIC5zZWN0aW9uVGl0bGUwIHsKICBmaWxsOiAjMzMzOyB9CgojZDUyYWd5MWJkM2EgLnNlY3Rpb25UaXRsZTEgewogIGZpbGw6ICMzMzM7IH0KCiNkNTJhZ3kxYmQzYSAuc2VjdGlvblRpdGxlMiB7CiAgZmlsbDogIzMzMzsgfQoKI2Q1MmFneTFiZDNhIC5zZWN0aW9uVGl0bGUzIHsKICBmaWxsOiAjMzMzOyB9CgojZDUyYWd5MWJkM2EgLnNlY3Rpb25UaXRsZSB7CiAgdGV4dC1hbmNob3I6IHN0YXJ0OwogIGZvbnQtc2l6ZTogMTFweDsKICB0ZXh0LWhlaWdodDogMTRweDsgfQoKCiNkNTJhZ3kxYmQzYSAuZ3JpZCAudGljayB7CiAgc3Ryb2tlOiBsaWdodGdyZXk7CiAgb3BhY2l0eTogMC4zOwogIHNoYXBlLXJlbmRlcmluZzogY3Jpc3BFZGdlczsgfQoKI2Q1MmFneTFiZDNhIC5ncmlkIHBhdGggewogIHN0cm9rZS13aWR0aDogMDsgfQoKCiNkNTJhZ3kxYmQzYSAudG9kYXkgewogIGZpbGw6IG5vbmU7CiAgc3Ryb2tlOiByZWQ7CiAgc3Ryb2tlLXdpZHRoOiAycHg7IH0KCgoKI2Q1MmFneTFiZDNhIC50YXNrIHsKICBzdHJva2Utd2lkdGg6IDI7IH0KCiNkNTJhZ3kxYmQzYSAudGFza1RleHQgewogIHRleHQtYW5jaG9yOiBtaWRkbGU7CiAgZm9udC1zaXplOiAxMXB4OyB9CgojZDUyYWd5MWJkM2EgLnRhc2tUZXh0T3V0c2lkZVJpZ2h0IHsKICBmaWxsOiBibGFjazsKICB0ZXh0LWFuY2hvcjogc3RhcnQ7CiAgZm9udC1zaXplOiAxMXB4OyB9CgojZDUyYWd5MWJkM2EgLnRhc2tUZXh0T3V0c2lkZUxlZnQgewogIGZpbGw6IGJsYWNrOwogIHRleHQtYW5jaG9yOiBlbmQ7CiAgZm9udC1zaXplOiAxMXB4OyB9CgoKI2Q1MmFneTFiZDNhIC50YXNrVGV4dDAsCiNkNTJhZ3kxYmQzYSAudGFza1RleHQxLAojZDUyYWd5MWJkM2EgLnRhc2tUZXh0MiwKI2Q1MmFneTFiZDNhIC50YXNrVGV4dDMgewogIGZpbGw6IHdoaXRlOyB9CgojZDUyYWd5MWJkM2EgLnRhc2swLAojZDUyYWd5MWJkM2EgLnRhc2sxLAojZDUyYWd5MWJkM2EgLnRhc2syLAojZDUyYWd5MWJkM2EgLnRhc2szIHsKICBmaWxsOiAjOGE5MGRkOwogIHN0cm9rZTogIzUzNGZiYzsgfQoKI2Q1MmFneTFiZDNhIC50YXNrVGV4dE91dHNpZGUwLAojZDUyYWd5MWJkM2EgLnRhc2tUZXh0T3V0c2lkZTIgewogIGZpbGw6IGJsYWNrOyB9CgojZDUyYWd5MWJkM2EgLnRhc2tUZXh0T3V0c2lkZTEsCiNkNTJhZ3kxYmQzYSAudGFza1RleHRPdXRzaWRlMyB7CiAgZmlsbDogYmxhY2s7IH0KCgojZDUyYWd5MWJkM2EgLmFjdGl2ZTAsCiNkNTJhZ3kxYmQzYSAuYWN0aXZlMSwKI2Q1MmFneTFiZDNhIC5hY3RpdmUyLAojZDUyYWd5MWJkM2EgLmFjdGl2ZTMgewogIGZpbGw6ICNiZmM3ZmY7CiAgc3Ryb2tlOiAjNTM0ZmJjOyB9CgojZDUyYWd5MWJkM2EgLmFjdGl2ZVRleHQwLAojZDUyYWd5MWJkM2EgLmFjdGl2ZVRleHQxLAojZDUyYWd5MWJkM2EgLmFjdGl2ZVRleHQyLAojZDUyYWd5MWJkM2EgLmFjdGl2ZVRleHQzIHsKICBmaWxsOiBibGFjayAhaW1wb3J0YW50OyB9CgoKI2Q1MmFneTFiZDNhIC5kb25lMCwKI2Q1MmFneTFiZDNhIC5kb25lMSwKI2Q1MmFneTFiZDNhIC5kb25lMiwKI2Q1MmFneTFiZDNhIC5kb25lMyB7CiAgc3Ryb2tlOiBncmV5OwogIGZpbGw6IGxpZ2h0Z3JleTsKICBzdHJva2Utd2lkdGg6IDI7IH0KCiNkNTJhZ3kxYmQzYSAuZG9uZVRleHQwLAojZDUyYWd5MWJkM2EgLmRvbmVUZXh0MSwKI2Q1MmFneTFiZDNhIC5kb25lVGV4dDIsCiNkNTJhZ3kxYmQzYSAuZG9uZVRleHQzIHsKICBmaWxsOiBibGFjayAhaW1wb3J0YW50OyB9CgoKI2Q1MmFneTFiZDNhIC5jcml0MCwKI2Q1MmFneTFiZDNhIC5jcml0MSwKI2Q1MmFneTFiZDNhIC5jcml0MiwKI2Q1MmFneTFiZDNhIC5jcml0MyB7CiAgc3Ryb2tlOiAjZmY4ODg4OwogIGZpbGw6IHJlZDsKICBzdHJva2Utd2lkdGg6IDI7IH0KCiNkNTJhZ3kxYmQzYSAuYWN0aXZlQ3JpdDAsCiNkNTJhZ3kxYmQzYSAuYWN0aXZlQ3JpdDEsCiNkNTJhZ3kxYmQzYSAuYWN0aXZlQ3JpdDIsCiNkNTJhZ3kxYmQzYSAuYWN0aXZlQ3JpdDMgewogIHN0cm9rZTogI2ZmODg4ODsKICBmaWxsOiAjYmZjN2ZmOwogIHN0cm9rZS13aWR0aDogMjsgfQoKI2Q1MmFneTFiZDNhIC5kb25lQ3JpdDAsCiNkNTJhZ3kxYmQzYSAuZG9uZUNyaXQxLAojZDUyYWd5MWJkM2EgLmRvbmVDcml0MiwKI2Q1MmFneTFiZDNhIC5kb25lQ3JpdDMgewogIHN0cm9rZTogI2ZmODg4ODsKICBmaWxsOiBsaWdodGdyZXk7CiAgc3Ryb2tlLXdpZHRoOiAyOwogIGN1cnNvcjogcG9pbnRlcjsKICBzaGFwZS1yZW5kZXJpbmc6IGNyaXNwRWRnZXM7IH0KCiNkNTJhZ3kxYmQzYSAuZG9uZUNyaXRUZXh0MCwKI2Q1MmFneTFiZDNhIC5kb25lQ3JpdFRleHQxLAojZDUyYWd5MWJkM2EgLmRvbmVDcml0VGV4dDIsCiNkNTJhZ3kxYmQzYSAuZG9uZUNyaXRUZXh0MyB7CiAgZmlsbDogYmxhY2sgIWltcG9ydGFudDsgfQoKI2Q1MmFneTFiZDNhIC5hY3RpdmVDcml0VGV4dDAsCiNkNTJhZ3kxYmQzYSAuYWN0aXZlQ3JpdFRleHQxLAojZDUyYWd5MWJkM2EgLmFjdGl2ZUNyaXRUZXh0MiwKI2Q1MmFneTFiZDNhIC5hY3RpdmVDcml0VGV4dDMgewogIGZpbGw6IGJsYWNrICFpbXBvcnRhbnQ7IH0KCiNkNTJhZ3kxYmQzYSAudGl0bGVUZXh0IHsKICB0ZXh0LWFuY2hvcjogbWlkZGxlOwogIGZvbnQtc2l6ZTogMThweDsKICBmaWxsOiBibGFjazsgfQoKI2Q1MmFneTFiZDNhIGcuY2xhc3NHcm91cCB0ZXh0IHsKICBmaWxsOiAjOTM3MERCOwogIHN0cm9rZTogbm9uZTsKICBmb250LWZhbWlseTogJ3RyZWJ1Y2hldCBtcycsIHZlcmRhbmEsIGFyaWFsOwogIGZvbnQtc2l6ZTogMTBweDsgfQoKI2Q1MmFneTFiZDNhIGcuY2xhc3NHcm91cCByZWN0IHsKICBmaWxsOiAjRUNFQ0ZGOwogIHN0cm9rZTogIzkzNzBEQjsgfQoKI2Q1MmFneTFiZDNhIGcuY2xhc3NHcm91cCBsaW5lIHsKICBzdHJva2U6ICM5MzcwREI7CiAgc3Ryb2tlLXdpZHRoOiAxOyB9CgojZDUyYWd5MWJkM2EgLmNsYXNzTGFiZWwgLmJveCB7CiAgc3Ryb2tlOiBub25lOwogIHN0cm9rZS13aWR0aDogMDsKICBmaWxsOiAjRUNFQ0ZGOwogIG9wYWNpdHk6IDAuNTsgfQoKI2Q1MmFneTFiZDNhIC5jbGFzc0xhYmVsIC5sYWJlbCB7CiAgZmlsbDogIzkzNzBEQjsKICBmb250LXNpemU6IDEwcHg7IH0KCiNkNTJhZ3kxYmQzYSAucmVsYXRpb24gewogIHN0cm9rZTogIzkzNzBEQjsKICBzdHJva2Utd2lkdGg6IDE7CiAgZmlsbDogbm9uZTsgfQoKI2Q1MmFneTFiZDNhICNjb21wb3NpdGlvblN0YXJ0IHsKICBmaWxsOiAjOTM3MERCOwogIHN0cm9rZTogIzkzNzBEQjsKICBzdHJva2Utd2lkdGg6IDE7IH0KCiNkNTJhZ3kxYmQzYSAjY29tcG9zaXRpb25FbmQgewogIGZpbGw6ICM5MzcwREI7CiAgc3Ryb2tlOiAjOTM3MERCOwogIHN0cm9rZS13aWR0aDogMTsgfQoKI2Q1MmFneTFiZDNhICNhZ2dyZWdhdGlvblN0YXJ0IHsKICBmaWxsOiAjRUNFQ0ZGOwogIHN0cm9rZTogIzkzNzBEQjsKICBzdHJva2Utd2lkdGg6IDE7IH0KCiNkNTJhZ3kxYmQzYSAjYWdncmVnYXRpb25FbmQgewogIGZpbGw6ICNFQ0VDRkY7CiAgc3Ryb2tlOiAjOTM3MERCOwogIHN0cm9rZS13aWR0aDogMTsgfQoKI2Q1MmFneTFiZDNhICNkZXBlbmRlbmN5U3RhcnQgewogIGZpbGw6ICM5MzcwREI7CiAgc3Ryb2tlOiAjOTM3MERCOwogIHN0cm9rZS13aWR0aDogMTsgfQoKI2Q1MmFneTFiZDNhICNkZXBlbmRlbmN5RW5kIHsKICBmaWxsOiAjOTM3MERCOwogIHN0cm9rZTogIzkzNzBEQjsKICBzdHJva2Utd2lkdGg6IDE7IH0KCiNkNTJhZ3kxYmQzYSAjZXh0ZW5zaW9uU3RhcnQgewogIGZpbGw6ICM5MzcwREI7CiAgc3Ryb2tlOiAjOTM3MERCOwogIHN0cm9rZS13aWR0aDogMTsgfQoKI2Q1MmFneTFiZDNhICNleHRlbnNpb25FbmQgewogIGZpbGw6ICM5MzcwREI7CiAgc3Ryb2tlOiAjOTM3MERCOwogIHN0cm9rZS13aWR0aDogMTsgfQoKI2Q1MmFneTFiZDNhIC5jb21taXQtaWQsCiNkNTJhZ3kxYmQzYSAuY29tbWl0LW1zZywKI2Q1MmFneTFiZDNhIC5icmFuY2gtbGFiZWwgewogIGZpbGw6IGxpZ2h0Z3JleTsKICBjb2xvcjogbGlnaHRncmV5OyB9CgoKCiNkNTJhZ3kxYmQzYSAubGFiZWx7CiAgY29sb3I6IzE4QjE0RTsKfQojZDUyYWd5MWJkM2EgLnRlLW1kLWNvbnRhaW5lci0tZGFyayAubm9kZSByZWN0IHsKICBmaWxsOiByZWQ7Cn0KCiNkNTJhZ3kxYmQzYSAubm9kZSByZWN0LAojZDUyYWd5MWJkM2EgLm5vZGUgY2lyY2xlLAojZDUyYWd5MWJkM2EgLm5vZGUgZWxsaXBzZSwKI2Q1MmFneTFiZDNhIC5ub2RlIHBvbHlnb24gewogIGZpbGw6ICNGOUZGRkI7OwogIHN0cm9rZTogIzJEQkQ2MDsKICBzdHJva2Utd2lkdGg6IDEuNXB4Owp9CiNkNTJhZ3kxYmQzYSAuYXJyb3doZWFkUGF0aHsKICBmaWxsOiAjMkRCRDYwOwp9CiNkNTJhZ3kxYmQzYSAuZWRnZVBhdGggLnBhdGggewogIHN0cm9rZTogIzJEQkQ2MDsKICBzdHJva2Utd2lkdGg6IDFweDsKfQojZDUyYWd5MWJkM2EgLmVkZ2VMYWJlbCB7CiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsKfQojZDUyYWd5MWJkM2EgLmNsdXN0ZXIgcmVjdCB7CiAgZmlsbDogI0Y5RkZGQiAhaW1wb3J0YW50OwogIHN0cm9rZTogIzJEQkQ2MCAhaW1wb3J0YW50OwogIHN0cm9rZS13aWR0aDogMXB4ICFpbXBvcnRhbnQ7Cn0KCiNkNTJhZ3kxYmQzYSAuY2x1c3RlciB0ZXh0IHsKICBmaWxsOiAjRjlGRkZCOwp9CgojZDUyYWd5MWJkM2EgZGl2Lm1lcm1haWRUb29sdGlwIHsKICBiYWNrZ3JvdW5kOiAjRjlGRkZCOwogIGJvcmRlcjogMXB4IHNvbGlkICMyREJENjA7Cn0KCgojZDUyYWd5MWJkM2EgLmFjdG9yIHsKICBzdHJva2U6ICMyREJENjA7CiAgZmlsbDogI0Y5RkZGQjsKfQoKI2Q1MmFneTFiZDNhIHRleHQuYWN0b3IgewogIGZpbGw6ICMyREJENjA7CiAgc3Ryb2tlOiBub25lOwp9CgojZDUyYWd5MWJkM2EgLmFjdG9yLWxpbmUgewogIHN0cm9rZTogIzJEQkQ2MDsKfQoKI2Q1MmFneTFiZDNhIC5tZXNzYWdlTGluZTAgewogIHN0cm9rZS13aWR0aDogMS41OwogIHN0cm9rZS1kYXNoYXJyYXk6ICcyIDInOwogIG1hcmtlci1lbmQ6ICd1cmwoI2Fycm93aGVhZCknOwogIHN0cm9rZTogIzJEQkQ2MDsKfQoKI2Q1MmFneTFiZDNhIC5tZXNzYWdlTGluZTEgewogIHN0cm9rZS13aWR0aDogMS41OwogIHN0cm9rZS1kYXNoYXJyYXk6ICcyIDInOwogIHN0cm9rZTogIzJEQkQ2MDsKfQoKI2Q1MmFneTFiZDNhICNhcnJvd2hlYWQgewogIGZpbGw6ICMyREJENjA7Cn0KCiNkNTJhZ3kxYmQzYSAjY3Jvc3NoZWFkIHBhdGggewogIGZpbGw6ICMyREJENjAgIWltcG9ydGFudDsKICBzdHJva2U6ICMyREJENjAgIWltcG9ydGFudDsKfQoKI2Q1MmFneTFiZDNhIC5tZXNzYWdlVGV4dCB7CiAgZmlsbDogIzJEQkQ2MDsKICBzdHJva2U6IG5vbmU7Cn0KCiNkNTJhZ3kxYmQzYSAubGFiZWxCb3ggewogIHN0cm9rZTogIzJEQkQ2MDsKICBmaWxsOiAjRjlGRkZCOwp9CgojZDUyYWd5MWJkM2EgLmxhYmVsVGV4dCB7CiAgZmlsbDogIzJEQkQ2MDsKICBzdHJva2U6ICMyREJENjA7Cn0KCiNkNTJhZ3kxYmQzYSAubG9vcFRleHQgewogIGZpbGw6ICMyREJENjA7CiAgc3Ryb2tlOiAjMkRCRDYwOwp9CgojZDUyYWd5MWJkM2EgLmxvb3BMaW5lIHsKICBzdHJva2Utd2lkdGg6IDI7CiAgc3Ryb2tlLWRhc2hhcnJheTogJzIgMic7CiAgbWFya2VyLWVuZDogJ3VybCgjYXJyb3doZWFkKSc7CiAgc3Ryb2tlOiAjMkRCRDYwOwp9CgojZDUyYWd5MWJkM2EgLm5vdGUgewogIHN0cm9rZTogIzJEQkQ2MDsKICBmaWxsOiAjRjlGRkZCOwp9CgojZDUyYWd5MWJkM2EgLm5vdGVUZXh0IHsKICBmaWxsOiAjMkRCRDYwOwogIHN0cm9rZTogIzJEQkQ2MDsKfQoKCiNkNTJhZ3kxYmQzYSAuc2VjdGlvbnsKICBvcGFjaXR5OjE7Cn0KI2Q1MmFneTFiZDNhIC5zZWN0aW9uMCwjZDUyYWd5MWJkM2EgIC5zZWN0aW9uMiB7CiAgZmlsbDogI0VDRjdGMDsKfQoKI2Q1MmFneTFiZDNhIC5zZWN0aW9uMSwKI2Q1MmFneTFiZDNhIC5zZWN0aW9uMyB7CiAgZmlsbDogI0ZGRjsKfQojZDUyYWd5MWJkM2EgLnRhc2tUZXh0MCwKI2Q1MmFneTFiZDNhIC50YXNrVGV4dDEsCiNkNTJhZ3kxYmQzYSAudGFza1RleHQyLAojZDUyYWd5MWJkM2EgLnRhc2tUZXh0MyB7CiAgZmlsbDogI2ZmZjsKfQoKI2Q1MmFneTFiZDNhIC50YXNrMCwKI2Q1MmFneTFiZDNhIC50YXNrMSwKI2Q1MmFneTFiZDNhIC50YXNrMiwKI2Q1MmFneTFiZDNhIC50YXNrMyB7CiAgZmlsbDogIzJEQkQ2MDsKICBzdHJva2U6ICMzNTlGNUE7Cn0KPC9zdHlsZT48c3R5bGU+I2Q1MmFneTFiZDNhIHsKICAgIGNvbG9yOiByZ2IoMjQ0LCAyNDQsIDI0NCk7CiAgICBmb250OiBub3JtYWwgbm9ybWFsIG5vcm1hbCBub3JtYWwgMTRweC8yMi4zOTk5OTk2MTg1MzAyNzNweCBtb25vc3BhY2U7CiAgfTwvc3R5bGU+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEyLCAtMTIpIj48ZyBjbGFzcz0ib3V0cHV0Ij48ZyBjbGFzcz0iY2x1c3RlcnMiPjwvZz48ZyBjbGFzcz0iZWRnZVBhdGhzIj48ZyBjbGFzcz0iZWRnZVBhdGgiIHN0eWxlPSJvcGFjaXR5OiAxOyI+PHBhdGggY2xhc3M9InBhdGgiIGQ9Ik0xMzMuMDQ0NTE3OTUwOTIzNiwxMDYuMjgxMjVMMjAwLjYwMTU2MjUsODEuMjgxMjVMMjgxLjEwMTU2MjUsODEuMjgxMjUiIG1hcmtlci1lbmQ9InVybCgjYXJyb3doZWFkMTcwMjApIiBzdHlsZT0ic3Ryb2tlOiAjMzMzOyBzdHJva2Utd2lkdGg6IDEuNXB4O2ZpbGw6bm9uZSI+PC9wYXRoPjxkZWZzPjxtYXJrZXIgaWQ9ImFycm93aGVhZDE3MDIwIiB2aWV3Qm94PSIwIDAgMTAgMTAiIHJlZlg9IjkiIHJlZlk9IjUiIG1hcmtlclVuaXRzPSJzdHJva2VXaWR0aCIgbWFya2VyV2lkdGg9IjgiIG1hcmtlckhlaWdodD0iNiIgb3JpZW50PSJhdXRvIj48cGF0aCBkPSJNIDAgMCBMIDEwIDUgTCAwIDEwIHoiIGNsYXNzPSJhcnJvd2hlYWRQYXRoIiBzdHlsZT0ic3Ryb2tlLXdpZHRoOiAxcHg7IHN0cm9rZS1kYXNoYXJyYXk6IDFweCwgMHB4OyI+PC9wYXRoPjwvbWFya2VyPjwvZGVmcz48L2c+PGcgY2xhc3M9ImVkZ2VQYXRoIiBzdHlsZT0ib3BhY2l0eTogMTsiPjxwYXRoIGNsYXNzPSJwYXRoIiBkPSJNMTMzLjA0NDUxNzk1MDkyMzYsMTQyLjU2MjVMMjAwLjYwMTU2MjUsMTY3LjU2MjVMMjUzLjE1NjI1LDE2Ny41NjI1IiBtYXJrZXItZW5kPSJ1cmwoI2Fycm93aGVhZDE3MDIxKSIgc3R5bGU9InN0cm9rZTogIzMzMzsgc3Ryb2tlLXdpZHRoOiAxLjVweDtmaWxsOm5vbmUiPjwvcGF0aD48ZGVmcz48bWFya2VyIGlkPSJhcnJvd2hlYWQxNzAyMSIgdmlld0JveD0iMCAwIDEwIDEwIiByZWZYPSI5IiByZWZZPSI1IiBtYXJrZXJVbml0cz0ic3Ryb2tlV2lkdGgiIG1hcmtlcldpZHRoPSI4IiBtYXJrZXJIZWlnaHQ9IjYiIG9yaWVudD0iYXV0byI+PHBhdGggZD0iTSAwIDAgTCAxMCA1IEwgMCAxMCB6IiBjbGFzcz0iYXJyb3doZWFkUGF0aCIgc3R5bGU9InN0cm9rZS13aWR0aDogMXB4OyBzdHJva2UtZGFzaGFycmF5OiAxcHgsIDBweDsiPjwvcGF0aD48L21hcmtlcj48L2RlZnM+PC9nPjxnIGNsYXNzPSJlZGdlUGF0aCIgc3R5bGU9Im9wYWNpdHk6IDE7Ij48cGF0aCBjbGFzcz0icGF0aCIgZD0iTTM1NC45Njg3NSwxNjcuNTYyNUwzOTMuODIwMzEyNSwxNjcuNTYyNUw0MzIuNjcxODc1LDE2Ny41NjI1IiBtYXJrZXItZW5kPSJ1cmwoI2Fycm93aGVhZDE3MDIyKSIgc3R5bGU9InN0cm9rZTogIzMzMzsgc3Ryb2tlLXdpZHRoOiAxLjVweDtmaWxsOm5vbmUiPjwvcGF0aD48ZGVmcz48bWFya2VyIGlkPSJhcnJvd2hlYWQxNzAyMiIgdmlld0JveD0iMCAwIDEwIDEwIiByZWZYPSI5IiByZWZZPSI1IiBtYXJrZXJVbml0cz0ic3Ryb2tlV2lkdGgiIG1hcmtlcldpZHRoPSI4IiBtYXJrZXJIZWlnaHQ9IjYiIG9yaWVudD0iYXV0byI+PHBhdGggZD0iTSAwIDAgTCAxMCA1IEwgMCAxMCB6IiBjbGFzcz0iYXJyb3doZWFkUGF0aCIgc3R5bGU9InN0cm9rZS13aWR0aDogMXB4OyBzdHJva2UtZGFzaGFycmF5OiAxcHgsIDBweDsiPjwvcGF0aD48L21hcmtlcj48L2RlZnM+PC9nPjxnIGNsYXNzPSJlZGdlUGF0aCIgc3R5bGU9Im9wYWNpdHk6IDE7Ij48cGF0aCBjbGFzcz0icGF0aCIgZD0iTTQ4NS4yNjU2MjUsMTY3LjU2MjVMNTM3LjgyMDMxMjUsMTY3LjU2MjVMNTkwLjM3NSwxNjcuNTYyNSIgbWFya2VyLWVuZD0idXJsKCNhcnJvd2hlYWQxNzAyMykiIHN0eWxlPSJzdHJva2U6ICMzMzM7IHN0cm9rZS13aWR0aDogMS41cHg7ZmlsbDpub25lIj48L3BhdGg+PGRlZnM+PG1hcmtlciBpZD0iYXJyb3doZWFkMTcwMjMiIHZpZXdCb3g9IjAgMCAxMCAxMCIgcmVmWD0iOSIgcmVmWT0iNSIgbWFya2VyVW5pdHM9InN0cm9rZVdpZHRoIiBtYXJrZXJXaWR0aD0iOCIgbWFya2VySGVpZ2h0PSI2IiBvcmllbnQ9ImF1dG8iPjxwYXRoIGQ9Ik0gMCAwIEwgMTAgNSBMIDAgMTAgeiIgY2xhc3M9ImFycm93aGVhZFBhdGgiIHN0eWxlPSJzdHJva2Utd2lkdGg6IDFweDsgc3Ryb2tlLWRhc2hhcnJheTogMXB4LCAwcHg7Ij48L3BhdGg+PC9tYXJrZXI+PC9kZWZzPjwvZz48ZyBjbGFzcz0iZWRnZVBhdGgiIHN0eWxlPSJvcGFjaXR5OiAxOyI+PHBhdGggY2xhc3M9InBhdGgiIGQ9Ik02NDcuMDQ2ODc1LDE2Ny41NjI1TDY4NS44OTg0Mzc1LDE2Ny41NjI1TDcyNC43NSwxNjcuNTYyNSIgbWFya2VyLWVuZD0idXJsKCNhcnJvd2hlYWQxNzAyNCkiIHN0eWxlPSJzdHJva2U6ICMzMzM7IHN0cm9rZS13aWR0aDogMS41cHg7ZmlsbDpub25lIj48L3BhdGg+PGRlZnM+PG1hcmtlciBpZD0iYXJyb3doZWFkMTcwMjQiIHZpZXdCb3g9IjAgMCAxMCAxMCIgcmVmWD0iOSIgcmVmWT0iNSIgbWFya2VyVW5pdHM9InN0cm9rZVdpZHRoIiBtYXJrZXJXaWR0aD0iOCIgbWFya2VySGVpZ2h0PSI2IiBvcmllbnQ9ImF1dG8iPjxwYXRoIGQ9Ik0gMCAwIEwgMTAgNSBMIDAgMTAgeiIgY2xhc3M9ImFycm93aGVhZFBhdGgiIHN0eWxlPSJzdHJva2Utd2lkdGg6IDFweDsgc3Ryb2tlLWRhc2hhcnJheTogMXB4LCAwcHg7Ij48L3BhdGg+PC9tYXJrZXI+PC9kZWZzPjwvZz48ZyBjbGFzcz0iZWRnZVBhdGgiIHN0eWxlPSJvcGFjaXR5OiAxOyI+PHBhdGggY2xhc3M9InBhdGgiIGQ9Ik03OTAuNDg0Mzc1LDE2Ny41NjI1TDgzNi4xODc1LDE2Ny41NjI1TDg4MS44OTA2MjUsMTY3LjU2MjUiIG1hcmtlci1lbmQ9InVybCgjYXJyb3doZWFkMTcwMjUpIiBzdHlsZT0ic3Ryb2tlOiAjMzMzOyBzdHJva2Utd2lkdGg6IDEuNXB4O2ZpbGw6bm9uZSI+PC9wYXRoPjxkZWZzPjxtYXJrZXIgaWQ9ImFycm93aGVhZDE3MDI1IiB2aWV3Qm94PSIwIDAgMTAgMTAiIHJlZlg9IjkiIHJlZlk9IjUiIG1hcmtlclVuaXRzPSJzdHJva2VXaWR0aCIgbWFya2VyV2lkdGg9IjgiIG1hcmtlckhlaWdodD0iNiIgb3JpZW50PSJhdXRvIj48cGF0aCBkPSJNIDAgMCBMIDEwIDUgTCAwIDEwIHoiIGNsYXNzPSJhcnJvd2hlYWRQYXRoIiBzdHlsZT0ic3Ryb2tlLXdpZHRoOiAxcHg7IHN0cm9rZS1kYXNoYXJyYXk6IDFweCwgMHB4OyI+PC9wYXRoPjwvbWFya2VyPjwvZGVmcz48L2c+PGcgY2xhc3M9ImVkZ2VQYXRoIiBzdHlsZT0ib3BhY2l0eTogMTsiPjxwYXRoIGNsYXNzPSJwYXRoIiBkPSJNOTI1LjAwNjY3MjE3NDkzNjYsMTQ5LjQyMTg3NUw5NzYuMzc1LDM4LjE0MDYyNUwxMDExLjU3MDMxMjUsMzguMTQwNjI1IiBtYXJrZXItZW5kPSJ1cmwoI2Fycm93aGVhZDE3MDI2KSIgc3R5bGU9InN0cm9rZTogIzMzMzsgc3Ryb2tlLXdpZHRoOiAxLjVweDtmaWxsOm5vbmUiPjwvcGF0aD48ZGVmcz48bWFya2VyIGlkPSJhcnJvd2hlYWQxNzAyNiIgdmlld0JveD0iMCAwIDEwIDEwIiByZWZYPSI5IiByZWZZPSI1IiBtYXJrZXJVbml0cz0ic3Ryb2tlV2lkdGgiIG1hcmtlcldpZHRoPSI4IiBtYXJrZXJIZWlnaHQ9IjYiIG9yaWVudD0iYXV0byI+PHBhdGggZD0iTSAwIDAgTCAxMCA1IEwgMCAxMCB6IiBjbGFzcz0iYXJyb3doZWFkUGF0aCIgc3R5bGU9InN0cm9rZS13aWR0aDogMXB4OyBzdHJva2UtZGFzaGFycmF5OiAxcHgsIDBweDsiPjwvcGF0aD48L21hcmtlcj48L2RlZnM+PC9nPjxnIGNsYXNzPSJlZGdlUGF0aCIgc3R5bGU9Im9wYWNpdHk6IDE7Ij48cGF0aCBjbGFzcz0icGF0aCIgZD0iTTk0MS43NTQzOTE1MjQ4MDk5LDE0OS40MjE4NzVMOTc2LjM3NSwxMjQuNDIxODc1TDEwMDEuMzc1LDEyNC40MjE4NzUiIG1hcmtlci1lbmQ9InVybCgjYXJyb3doZWFkMTcwMjcpIiBzdHlsZT0ic3Ryb2tlOiAjMzMzOyBzdHJva2Utd2lkdGg6IDEuNXB4O2ZpbGw6bm9uZSI+PC9wYXRoPjxkZWZzPjxtYXJrZXIgaWQ9ImFycm93aGVhZDE3MDI3IiB2aWV3Qm94PSIwIDAgMTAgMTAiIHJlZlg9IjkiIHJlZlk9IjUiIG1hcmtlclVuaXRzPSJzdHJva2VXaWR0aCIgbWFya2VyV2lkdGg9IjgiIG1hcmtlckhlaWdodD0iNiIgb3JpZW50PSJhdXRvIj48cGF0aCBkPSJNIDAgMCBMIDEwIDUgTCAwIDEwIHoiIGNsYXNzPSJhcnJvd2hlYWRQYXRoIiBzdHlsZT0ic3Ryb2tlLXdpZHRoOiAxcHg7IHN0cm9rZS1kYXNoYXJyYXk6IDFweCwgMHB4OyI+PC9wYXRoPjwvbWFya2VyPjwvZGVmcz48L2c+PGcgY2xhc3M9ImVkZ2VQYXRoIiBzdHlsZT0ib3BhY2l0eTogMTsiPjxwYXRoIGNsYXNzPSJwYXRoIiBkPSJNOTQxLjc1NDM5MTUyNDgwOTksMTg1LjcwMzEyNUw5NzYuMzc1LDIxMC43MDMxMjVMMTAxNC40MjE4NzUsMjEwLjcwMzEyNSIgbWFya2VyLWVuZD0idXJsKCNhcnJvd2hlYWQxNzAyOCkiIHN0eWxlPSJzdHJva2U6ICMzMzM7IHN0cm9rZS13aWR0aDogMS41cHg7ZmlsbDpub25lIj48L3BhdGg+PGRlZnM+PG1hcmtlciBpZD0iYXJyb3doZWFkMTcwMjgiIHZpZXdCb3g9IjAgMCAxMCAxMCIgcmVmWD0iOSIgcmVmWT0iNSIgbWFya2VyVW5pdHM9InN0cm9rZVdpZHRoIiBtYXJrZXJXaWR0aD0iOCIgbWFya2VySGVpZ2h0PSI2IiBvcmllbnQ9ImF1dG8iPjxwYXRoIGQ9Ik0gMCAwIEwgMTAgNSBMIDAgMTAgeiIgY2xhc3M9ImFycm93aGVhZFBhdGgiIHN0eWxlPSJzdHJva2Utd2lkdGg6IDFweDsgc3Ryb2tlLWRhc2hhcnJheTogMXB4LCAwcHg7Ij48L3BhdGg+PC9tYXJrZXI+PC9kZWZzPjwvZz48ZyBjbGFzcz0iZWRnZVBhdGgiIHN0eWxlPSJvcGFjaXR5OiAxOyI+PHBhdGggY2xhc3M9InBhdGgiIGQ9Ik05MjUuMDA2NjcyMTc0OTM2NiwxODUuNzAzMTI1TDk3Ni4zNzUsMjk2Ljk4NDM3NUwxMDE0LjQyMTg3NSwyOTYuOTg0Mzc1IiBtYXJrZXItZW5kPSJ1cmwoI2Fycm93aGVhZDE3MDI5KSIgc3R5bGU9InN0cm9rZTogIzMzMzsgc3Ryb2tlLXdpZHRoOiAxLjVweDtmaWxsOm5vbmUiPjwvcGF0aD48ZGVmcz48bWFya2VyIGlkPSJhcnJvd2hlYWQxNzAyOSIgdmlld0JveD0iMCAwIDEwIDEwIiByZWZYPSI5IiByZWZZPSI1IiBtYXJrZXJVbml0cz0ic3Ryb2tlV2lkdGgiIG1hcmtlcldpZHRoPSI4IiBtYXJrZXJIZWlnaHQ9IjYiIG9yaWVudD0iYXV0byI+PHBhdGggZD0iTSAwIDAgTCAxMCA1IEwgMCAxMCB6IiBjbGFzcz0iYXJyb3doZWFkUGF0aCIgc3R5bGU9InN0cm9rZS13aWR0aDogMXB4OyBzdHJva2UtZGFzaGFycmF5OiAxcHgsIDBweDsiPjwvcGF0aD48L21hcmtlcj48L2RlZnM+PC9nPjwvZz48ZyBjbGFzcz0iZWRnZUxhYmVscyI+PGcgY2xhc3M9ImVkZ2VMYWJlbCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjAwLjYwMTU2MjUsODEuMjgxMjUpIiBzdHlsZT0ib3BhY2l0eTogMTsiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yNy41NTQ2ODc1LC04LjAwNzgxMjUpIiBjbGFzcz0ibGFiZWwiPjxyZWN0IHJ4PSIwIiByeT0iMCIgd2lkdGg9IjUyLjc5Njg3NSIgaGVpZ2h0PSIxNS41OTM3NSIgc3R5bGU9ImZpbGw6I2U4ZThlODsiPjwvcmVjdD48dGV4dD48dHNwYW4geG1sOnNwYWNlPSJwcmVzZXJ2ZSIgZHk9IjFlbSIgeD0iMSI+5YiG5p6Q5pWw5o2uPC90c3Bhbj48L3RleHQ+PC9nPjwvZz48ZyBjbGFzcz0iZWRnZUxhYmVsIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMDAuNjAxNTYyNSwxNjcuNTYyNSkiIHN0eWxlPSJvcGFjaXR5OiAxOyI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI3LjU1NDY4NzUsLTguMDA3ODEyNSkiIGNsYXNzPSJsYWJlbCI+PHJlY3Qgcng9IjAiIHJ5PSIwIiB3aWR0aD0iNTIuNzk2ODc1IiBoZWlnaHQ9IjE1LjU5Mzc1IiBzdHlsZT0iZmlsbDojZThlOGU4OyI+PC9yZWN0Pjx0ZXh0Pjx0c3BhbiB4bWw6c3BhY2U9InByZXNlcnZlIiBkeT0iMWVtIiB4PSIxIj7mjqjpgIHmiqXoraY8L3RzcGFuPjwvdGV4dD48L2c+PC9nPjxnIGNsYXNzPSJlZGdlTGFiZWwiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDM5My44MjAzMTI1LDE2Ny41NjI1KSIgc3R5bGU9Im9wYWNpdHk6IDE7Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTMuODUxNTYyNSwtOC4wMDc4MTI1KSIgY2xhc3M9ImxhYmVsIj48cmVjdCByeD0iMCIgcnk9IjAiIHdpZHRoPSIyNi41NDY4NzUiIGhlaWdodD0iMTUuNTkzNzUiIHN0eWxlPSJmaWxsOiNlOGU4ZTg7Ij48L3JlY3Q+PHRleHQ+PHRzcGFuIHhtbDpzcGFjZT0icHJlc2VydmUiIGR5PSIxZW0iIHg9IjEiPuWMuemFjTwvdHNwYW4+PC90ZXh0PjwvZz48L2c+PGcgY2xhc3M9ImVkZ2VMYWJlbCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTM3LjgyMDMxMjUsMTY3LjU2MjUpIiBzdHlsZT0ib3BhY2l0eTogMTsiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yNy41NTQ2ODc1LC04LjAwNzgxMjUpIiBjbGFzcz0ibGFiZWwiPjxyZWN0IHJ4PSIwIiByeT0iMCIgd2lkdGg9IjUyLjc5Njg3NSIgaGVpZ2h0PSIxNS41OTM3NSIgc3R5bGU9ImZpbGw6I2U4ZThlODsiPjwvcmVjdD48dGV4dD48dHNwYW4geG1sOnNwYWNlPSJwcmVzZXJ2ZSIgZHk9IjFlbSIgeD0iMSI+6L+b6KGM5YiG57uEPC90c3Bhbj48L3RleHQ+PC9nPjwvZz48ZyBjbGFzcz0iZWRnZUxhYmVsIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2ODUuODk4NDM3NSwxNjcuNTYyNSkiIHN0eWxlPSJvcGFjaXR5OiAxOyI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEzLjg1MTU2MjUsLTguMDA3ODEyNSkiIGNsYXNzPSJsYWJlbCI+PHJlY3Qgcng9IjAiIHJ5PSIwIiB3aWR0aD0iMjYuNTQ2ODc1IiBoZWlnaHQ9IjE1LjU5Mzc1IiBzdHlsZT0iZmlsbDojZThlOGU4OyI+PC9yZWN0Pjx0ZXh0Pjx0c3BhbiB4bWw6c3BhY2U9InByZXNlcnZlIiBkeT0iMWVtIiB4PSIxIj7ot6/nlLE8L3RzcGFuPjwvdGV4dD48L2c+PC9nPjxnIGNsYXNzPSJlZGdlTGFiZWwiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDgzNi4xODc1LDE2Ny41NjI1KSIgc3R5bGU9Im9wYWNpdHk6IDE7Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjAuNzAzMTI1LC04LjAwNzgxMjUpIiBjbGFzcz0ibGFiZWwiPjxyZWN0IHJ4PSIwIiByeT0iMCIgd2lkdGg9IjM5LjY3MTg3NSIgaGVpZ2h0PSIxNS41OTM3NSIgc3R5bGU9ImZpbGw6I2U4ZThlODsiPjwvcmVjdD48dGV4dD48dHNwYW4geG1sOnNwYWNlPSJwcmVzZXJ2ZSIgZHk9IjFlbSIgeD0iMSI+5o6l5pS25ZmoPC90c3Bhbj48L3RleHQ+PC9nPjwvZz48ZyBjbGFzcz0iZWRnZUxhYmVsIiB0cmFuc2Zvcm09IiIgc3R5bGU9Im9wYWNpdHk6IDE7Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLDApIiBjbGFzcz0ibGFiZWwiPjxyZWN0IHJ4PSIwIiByeT0iMCIgd2lkdGg9IjAiIGhlaWdodD0iMCIgc3R5bGU9ImZpbGw6I2U4ZThlODsiPjwvcmVjdD48dGV4dD48dHNwYW4geG1sOnNwYWNlPSJwcmVzZXJ2ZSIgZHk9IjFlbSIgeD0iMSI+PC90c3Bhbj48L3RleHQ+PC9nPjwvZz48ZyBjbGFzcz0iZWRnZUxhYmVsIiB0cmFuc2Zvcm09IiIgc3R5bGU9Im9wYWNpdHk6IDE7Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLDApIiBjbGFzcz0ibGFiZWwiPjxyZWN0IHJ4PSIwIiByeT0iMCIgd2lkdGg9IjAiIGhlaWdodD0iMCIgc3R5bGU9ImZpbGw6I2U4ZThlODsiPjwvcmVjdD48dGV4dD48dHNwYW4geG1sOnNwYWNlPSJwcmVzZXJ2ZSIgZHk9IjFlbSIgeD0iMSI+PC90c3Bhbj48L3RleHQ+PC9nPjwvZz48ZyBjbGFzcz0iZWRnZUxhYmVsIiB0cmFuc2Zvcm09IiIgc3R5bGU9Im9wYWNpdHk6IDE7Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLDApIiBjbGFzcz0ibGFiZWwiPjxyZWN0IHJ4PSIwIiByeT0iMCIgd2lkdGg9IjAiIGhlaWdodD0iMCIgc3R5bGU9ImZpbGw6I2U4ZThlODsiPjwvcmVjdD48dGV4dD48dHNwYW4geG1sOnNwYWNlPSJwcmVzZXJ2ZSIgZHk9IjFlbSIgeD0iMSI+PC90c3Bhbj48L3RleHQ+PC9nPjwvZz48ZyBjbGFzcz0iZWRnZUxhYmVsIiB0cmFuc2Zvcm09IiIgc3R5bGU9Im9wYWNpdHk6IDE7Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLDApIiBjbGFzcz0ibGFiZWwiPjxyZWN0IHJ4PSIwIiByeT0iMCIgd2lkdGg9IjAiIGhlaWdodD0iMCIgc3R5bGU9ImZpbGw6I2U4ZThlODsiPjwvcmVjdD48dGV4dD48dHNwYW4geG1sOnNwYWNlPSJwcmVzZXJ2ZSIgZHk9IjFlbSIgeD0iMSI+PC90c3Bhbj48L3RleHQ+PC9nPjwvZz48L2c+PGcgY2xhc3M9Im5vZGVzIj48ZyBjbGFzcz0ibm9kZSIgaWQ9InByb21ldGhldXMtUnVsZXMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDg0LjAyMzQzNzUsMTI0LjQyMTg3NSkiIHN0eWxlPSJvcGFjaXR5OiAxOyI+PHJlY3Qgcng9IjAiIHJ5PSIwIiB4PSItNjQuMDIzNDM3NSIgeT0iLTE4LjE0MDYyNSIgd2lkdGg9IjEyOC4wNDY4NzUiIGhlaWdodD0iMzYuMjgxMjUiPjwvcmVjdD48ZyBjbGFzcz0ibGFiZWwiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAsMCkiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC01NC4wMjM0Mzc1LC04LjE0MDYyNSkiPjx0ZXh0Pjx0c3BhbiB4bWw6c3BhY2U9InByZXNlcnZlIiBkeT0iMWVtIiB4PSIxIj5wcm9tZXRoZXVzLVJ1bGVzPC90c3Bhbj48L3RleHQ+PC9nPjwvZz48L2c+PGcgY2xhc3M9Im5vZGUiIGlkPSJ0c2RiIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzMDQuMDYyNSw4MS4yODEyNSkiIHN0eWxlPSJvcGFjaXR5OiAxOyI+PHJlY3Qgcng9IjAiIHJ5PSIwIiB4PSItMjIuOTYwOTM3NSIgeT0iLTE4LjE0MDYyNSIgd2lkdGg9IjQ1LjkyMTg3NSIgaGVpZ2h0PSIzNi4yODEyNSI+PC9yZWN0PjxnIGNsYXNzPSJsYWJlbCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCwwKSI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEyLjk2MDkzNzUsLTguMTQwNjI1KSI+PHRleHQ+PHRzcGFuIHhtbDpzcGFjZT0icHJlc2VydmUiIGR5PSIxZW0iIHg9IjEiPnRzZGI8L3RzcGFuPjwvdGV4dD48L2c+PC9nPjwvZz48ZyBjbGFzcz0ibm9kZSIgaWQ9IkFsZXJ0bWFuYWdlciIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzA0LjA2MjUsMTY3LjU2MjUpIiBzdHlsZT0ib3BhY2l0eTogMTsiPjxyZWN0IHJ4PSIwIiByeT0iMCIgeD0iLTUwLjkwNjI1IiB5PSItMTguMTQwNjI1IiB3aWR0aD0iMTAxLjgxMjUiIGhlaWdodD0iMzYuMjgxMjUiPjwvcmVjdD48ZyBjbGFzcz0ibGFiZWwiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAsMCkiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC00MC45MDYyNSwtOC4xNDA2MjUpIj48dGV4dD48dHNwYW4geG1sOnNwYWNlPSJwcmVzZXJ2ZSIgZHk9IjFlbSIgeD0iMSI+QWxlcnRtYW5hZ2VyPC90c3Bhbj48L3RleHQ+PC9nPjwvZz48L2c+PGcgY2xhc3M9Im5vZGUiIGlkPSJyb3V0ZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDU4Ljk2ODc1LDE2Ny41NjI1KSIgc3R5bGU9Im9wYWNpdHk6IDE7Ij48cmVjdCByeD0iMCIgcnk9IjAiIHg9Ii0yNi4yOTY4NzUiIHk9Ii0xOC4xNDA2MjUiIHdpZHRoPSI1Mi41OTM3NSIgaGVpZ2h0PSIzNi4yODEyNSI+PC9yZWN0PjxnIGNsYXNzPSJsYWJlbCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCwwKSI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTE2LjI5Njg3NSwtOC4xNDA2MjUpIj48dGV4dD48dHNwYW4geG1sOnNwYWNlPSJwcmVzZXJ2ZSIgZHk9IjFlbSIgeD0iMSI+cm91dGU8L3RzcGFuPjwvdGV4dD48L2c+PC9nPjwvZz48ZyBjbGFzcz0ibm9kZSIgaWQ9Ikdyb3VwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2MTguNzEwOTM3NSwxNjcuNTYyNSkiIHN0eWxlPSJvcGFjaXR5OiAxOyI+PHJlY3Qgcng9IjAiIHJ5PSIwIiB4PSItMjguMzM1OTM3NSIgeT0iLTE4LjE0MDYyNSIgd2lkdGg9IjU2LjY3MTg3NSIgaGVpZ2h0PSIzNi4yODEyNSI+PC9yZWN0PjxnIGNsYXNzPSJsYWJlbCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCwwKSI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTE4LjMzNTkzNzUsLTguMTQwNjI1KSI+PHRleHQ+PHRzcGFuIHhtbDpzcGFjZT0icHJlc2VydmUiIGR5PSIxZW0iIHg9IjEiPkdyb3VwPC90c3Bhbj48L3RleHQ+PC9nPjwvZz48L2c+PGcgY2xhc3M9Im5vZGUiIGlkPSJSb3V0aW5nIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg3NTcuNjE3MTg3NSwxNjcuNTYyNSkiIHN0eWxlPSJvcGFjaXR5OiAxOyI+PHJlY3Qgcng9IjAiIHJ5PSIwIiB4PSItMzIuODY3MTg3NSIgeT0iLTE4LjE0MDYyNSIgd2lkdGg9IjY1LjczNDM3NSIgaGVpZ2h0PSIzNi4yODEyNSI+PC9yZWN0PjxnIGNsYXNzPSJsYWJlbCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCwwKSI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTIyLjg2NzE4NzUsLTguMTQwNjI1KSI+PHRleHQ+PHRzcGFuIHhtbDpzcGFjZT0icHJlc2VydmUiIGR5PSIxZW0iIHg9IjEiPlJvdXRpbmc8L3RzcGFuPjwvdGV4dD48L2c+PC9nPjwvZz48ZyBjbGFzcz0ibm9kZSIgaWQ9InJlY2VpdmVyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg5MTYuNjMyODEyNSwxNjcuNTYyNSkiIHN0eWxlPSJvcGFjaXR5OiAxOyI+PHJlY3Qgcng9IjAiIHJ5PSIwIiB4PSItMzQuNzQyMTg3NSIgeT0iLTE4LjE0MDYyNSIgd2lkdGg9IjY5LjQ4NDM3NSIgaGVpZ2h0PSIzNi4yODEyNSI+PC9yZWN0PjxnIGNsYXNzPSJsYWJlbCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCwwKSI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI0Ljc0MjE4NzUsLTguMTQwNjI1KSI+PHRleHQ+PHRzcGFuIHhtbDpzcGFjZT0icHJlc2VydmUiIGR5PSIxZW0iIHg9IjEiPnJlY2VpdmVyPC90c3Bhbj48L3RleHQ+PC9nPjwvZz48L2c+PGcgY2xhc3M9Im5vZGUiIGlkPSJFbWFpbCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAzOC4yNzM0Mzc1LDM4LjE0MDYyNSkiIHN0eWxlPSJvcGFjaXR5OiAxOyI+PHJlY3Qgcng9IjAiIHJ5PSIwIiB4PSItMjYuNzAzMTI1IiB5PSItMTguMTQwNjI1IiB3aWR0aD0iNTMuNDA2MjUiIGhlaWdodD0iMzYuMjgxMjUiPjwvcmVjdD48ZyBjbGFzcz0ibGFiZWwiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAsMCkiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xNi43MDMxMjUsLTguMTQwNjI1KSI+PHRleHQ+PHRzcGFuIHhtbDpzcGFjZT0icHJlc2VydmUiIGR5PSIxZW0iIHg9IjEiPkVtYWlsPC90c3Bhbj48L3RleHQ+PC9nPjwvZz48L2c+PGcgY2xhc3M9Im5vZGUiIGlkPSJ3ZWJob29rIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMDM4LjI3MzQzNzUsMTI0LjQyMTg3NSkiIHN0eWxlPSJvcGFjaXR5OiAxOyI+PHJlY3Qgcng9IjAiIHJ5PSIwIiB4PSItMzYuODk4NDM3NSIgeT0iLTE4LjE0MDYyNSIgd2lkdGg9IjczLjc5Njg3NSIgaGVpZ2h0PSIzNi4yODEyNSI+PC9yZWN0PjxnIGNsYXNzPSJsYWJlbCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCwwKSI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI2Ljg5ODQzNzUsLTguMTQwNjI1KSI+PHRleHQ+PHRzcGFuIHhtbDpzcGFjZT0icHJlc2VydmUiIGR5PSIxZW0iIHg9IjEiPndlYmhvb2s8L3RzcGFuPjwvdGV4dD48L2c+PC9nPjwvZz48ZyBjbGFzcz0ibm9kZSIgaWQ9IumSiemSiSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAzOC4yNzM0Mzc1LDIxMC43MDMxMjUpIiBzdHlsZT0ib3BhY2l0eTogMTsiPjxyZWN0IHJ4PSIwIiByeT0iMCIgeD0iLTIzLjg1MTU2MjUiIHk9Ii0xOC4xNDA2MjUiIHdpZHRoPSI0Ny43MDMxMjUiIGhlaWdodD0iMzYuMjgxMjUiPjwvcmVjdD48ZyBjbGFzcz0ibGFiZWwiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAsMCkiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMy44NTE1NjI1LC04LjE0MDYyNSkiPjx0ZXh0Pjx0c3BhbiB4bWw6c3BhY2U9InByZXNlcnZlIiBkeT0iMWVtIiB4PSIxIj7pkonpkok8L3RzcGFuPjwvdGV4dD48L2c+PC9nPjwvZz48ZyBjbGFzcz0ibm9kZSIgaWQ9IuW+ruS/oSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAzOC4yNzM0Mzc1LDI5Ni45ODQzNzUpIiBzdHlsZT0ib3BhY2l0eTogMTsiPjxyZWN0IHJ4PSIwIiByeT0iMCIgeD0iLTIzLjg1MTU2MjUiIHk9Ii0xOC4xNDA2MjUiIHdpZHRoPSI0Ny43MDMxMjUiIGhlaWdodD0iMzYuMjgxMjUiPjwvcmVjdD48ZyBjbGFzcz0ibGFiZWwiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAsMCkiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMy44NTE1NjI1LC04LjE0MDYyNSkiPjx0ZXh0Pjx0c3BhbiB4bWw6c3BhY2U9InByZXNlcnZlIiBkeT0iMWVtIiB4PSIxIj7lvq7kv6E8L3RzcGFuPjwvdGV4dD48L2c+PC9nPjwvZz48L2c+PC9nPjwvZz48L3N2Zz4=
```

|描述    |key           |说明                                                                                                  |
|--------|--------------|------------------------------------------------------------------------------------------------------|
|全局配置|global        |用于定义一些全局的公共参数，如全局的SMTP配置，Slack配置等内容                                         |
|模板    |templates     |用于定义告警通知时的模板，如HTML模板，邮件模板等；                                                    |
|告警路由|route         |根据标签匹配，确定当前告警应该如何处理；                                                              |
|接收人  |receivers     |接收人是一个抽象的概念，它可以是一个邮箱也可以是微信，Slack或者Webhook等，接收人一般配合告警路由使用；|
|抑制规则|inhibit\_rules|合理设置抑制规则可以减少垃圾告警的产生                                                                |

vim alertmanager.yml

```
global:
  resolve_timeout: 5m #该参数定义了当Alertmanager持续多长时间未接收到告警后标记告警状态为resolved（已解决）
  smtp_smarthost: 'smtp.qq.com:25'
  smtp_from: '78878296@qq.com'
  smtp_auth_username: '78878296@qq.com'
  smtp_auth_password: 'zhifu123'

route:
  group_by: ['alertname'] #根据alertname进行分组
  group_wait: 1s #被分组后的警告，等待多久，真实发送警告一个周期内收集若干警告，统一发送一条就够了
  group_interval: 10s   #之前已发送了一次警告后，再等待多久后，再发警告
  repeat_interval: 5s
  receiver: 'web.hook'
receivers:
- name: 'web.hook'
  webhook_configs:
  - url: 'http://127.0.0.1:8088/alert.php'
#inhibit_rules:
#  - source_match:
#      severity: 'critical'
#    target_match:
#      severity: 'warning'
#    equal: ['alertname', 'dev', 'instance']
```

检查一下配置文件

> ./amtool check\-config alertmanager.yml

启动

> ./alertmanager \-\-config.file=alertmanager.yml

验证是否成功，查看UI

> http://59.110.167.206:9093/

vim prometheus.yml

添加如下

```
alerting:
  alertmanagers:  # 配置alertmanager
  - static_configs:
    - targets:
      - 127.0.0.1:9093  #alertmanager服务器ip端口
rule_files:
  - "first_rules.yml"

```

touch first\_rules.yml

```
groups:
- name: nodeup
  rules:
  - alert: nodeup
    expr: up{job="share_linux_os_node"} == 0
    for: 5s
    labels:
      severity: test
      #team: node
    annotations:
      summary: "{{ $labels.instance }} 已停止运行超过 15s！"
```

./promtool check rules rules/node.yml

./amtool check\-config alertmanager.yml

重启prometheus

配置完成 后，prometheus UI 查看 下 alert 的status

> unkown：刚启动，初始化状态
> 
> 
> nactive：这里什么都没有发生
> 
> 
> Pending：已触发阈值，但未满足告警持续时间（即rule中的for字段）
> 
> 
> Firing：已触发阈值且满足告警持续时间。警报发送到Notification \> Pipeline，经过处理，发送给接受者这样目的是多次判断失败才发告警，减少邮件。

再去alertmanager 看看是否收到报警

## 主动上报alertmanager

## 总结

不知道是不是被JAVA系洗脑了，还是说prometheus太好了，它不仅仅是收集数据UI化，还能报警，也就是干了监控的事儿，像之前的 nagios zaabix 基本可以放弃了。

另外，再配合grafana确实用的挺爽。

TSDB%0A\-\-\-\-%0A%3Eprometheus%E7%9A%84%E6%A0%B8%E5%BF%83%E5%B0%B1%E6%98%AFTSDB%EF%BC%8C%E6%89%80%E4%BB%A5%E5%BE%97%E5%85%88%E4%BA%86%E8%A7%A3%E4%B8%8B%0A%0A\*\*TSDB%EF%BC%9ATime%20series%20database%EF%BC%8C%E4%BB%A5%E6%97%B6%E9%97%B4%E4%B8%BA%E7%BB%B4%E5%BA%A6%E7%9A%84%E6%95%B0%E6%8D%AE%E5%BA%93\*\*%0A%3E%E5%85%B6%E7%89%B9%E5%BE%81%E4%B8%BB%E8%A6%81%E5%8C%85%E5%90%AB%E5%A6%82%E4%B8%8B%EF%BC%9A%0A%0A%7C%20%E5%85%B3%E9%94%AE%E5%AD%97%20%7C%E6%8F%8F%E8%BF%B0%20%20%7C%0A%7C%20\-\-\-%20%7C%20\-\-\-%20%7C%0A%7C%20timestamp%20%7C%E6%95%B0%E6%8D%AE%E5%8F%91%E7%94%9F%E7%9A%84%E6%97%B6%E9%97%B4%20%20%7C%0A%7C%20metric%20%20%7C%20%E8%AF%A5%E6%95%B0%E6%8D%AE%E7%9A%84%E6%A0%87%E8%AF%86%20%7C%0A%7C%20value%20%7C%20%E8%AF%A5%E6%95%B0%E6%8D%AE%E6%89%80%E5%85%B7%E4%BD%93%E5%80%BC%EF%BC%8C%E4%B9%9F%E5%8F%AF%E8%83%BD%E6%98%AF%E5%A4%9A%E4%B8%AAvalue%20%7C%0A%7C%20tag%20%7C%20%E9%99%84%E5%B1%9E%E5%B1%9E%E6%80%A7%20%7C%0A%0A%0A%E7%89%B9%E7%82%B9%EF%BC%9A%0A1.%20%E7%BB%93%E6%9E%84%E7%9B%B8%E5%AF%B9%E7%AE%80%E5%8D%95%EF%BC%8C%E5%9F%BA%E6%9C%AC%E5%B0%B1%E6%98%AF%E5%9F%BA%E4%BA%8E%E5%88%97%E6%93%8D%E4%BD%9C%EF%BC%8C%E6%B2%A1%E6%9C%89%E5%A4%AA%E5%A4%8D%E6%9D%82%E7%9A%84%E5%83%8F%EF%BC%9A%E8%81%94%E8%A1%A8%E6%93%8D%E4%BD%9C%E3%80%81%E8%8C%83%E5%BC%8F%E3%80%81%E4%BA%8B%E5%8A%A1%E7%AD%89%0A1.%20%E9%92%88%E5%AF%B9%3C%E5%88%97%3E%E7%9A%84%E6%93%8D%E4%BD%9C%E6%AF%94%E8%BE%83%E5%A4%9A%EF%BC%8C%E5%90%84%E7%A7%8D%E7%BB%9F%E8%AE%A1%0A2.%20%E4%BB%A5%E6%97%B6%E9%97%B4%E4%B8%BA%E6%A0%B8%E5%BF%83%E7%82%B9%E8%BF%9B%E8%A1%8C%E8%AE%A1%E7%AE%97%EF%BC%88%E7%B4%A2%E5%BC%95%E5%BB%BA%E7%AB%8B%E5%9C%A8%E6%97%B6%E9%97%B4%E7%BB%B4%E5%BA%A6%E4%B8%8A%EF%BC%89%0A3.%20%E9%9C%80%E8%A6%81%E5%AD%98%E5%82%A8%E7%9A%84%E6%95%B0%E6%8D%AE%E9%87%8F%E9%9D%9E%E5%B8%B8%E5%A4%A7%0A4.%20%E5%86%99%E5%A4%9A%E4%BA%8E%E8%AF%BB%E3%80%81%E9%A1%BA%E5%BA%8F%E5%86%99%E3%80%81%E4%B8%8D%E6%9B%B4%E6%96%B0%E3%80%81%E4%B8%8D%E5%88%A0%E9%99%A4%0A5.%20%E5%88%86%E5%B8%83%E5%BC%8F%0A%0A%E5%BC%80%E6%BA%90%E8%BD%AF%E4%BB%B6%EF%BC%9A%0A%0A%7C%20%E5%85%B3%E9%94%AE%E5%AD%97%20%7C%E8%AF%AD%E8%A8%80%20%20%7C%E6%97%B6%E9%97%B4%20%20%20%7C%0A%7C%20\-\-\-%20%7C%20\-\-\-%20%7C%20\-\-\-%20%7C%0A%7C%20Influxdb%20%7C%20%20golang%20%20%7C2013%20%20%7C%0A%7C%20OpenTSDB%20%7C%20java%20%7C%20%20%7C%0A%7C%20Druid%20%7C%20%20%20java%20%7C%20%20%7C%0A%7C%20Round%20Robin%20Database%20Tool%20%20%7C%20%20C%7C%202015%20%7C%0A%0A%0A%E6%A8%AA%E5%90%91%E5%AF%B9%E6%AF%94%EF%BC%9A%E5%AE%83%E5%8D%B3%E4%B8%8D%E7%AE%97NOSQL%20%E4%B9%9F%E4%B8%8D%E7%AE%97RDB%0A%0A%E6%84%9F%E8%A7%89%E4%B8%BB%E8%A6%81%E6%98%AF%E7%94%A8%E4%BA%8E%E7%BB%9F%E8%AE%A1%E5%AD%A6%E7%9A%84%EF%BC%8C%E9%9A%8F%E7%9D%80%E6%99%BA%E8%83%BD%E8%AE%BE%E5%A4%87%E7%9A%84%E5%B4%9B%E8%B5%B7%EF%BC%8C%E5%83%8F%EF%BC%9A%E6%99%BA%E8%83%BD%E6%89%8B%E7%8E%AF%E7%9B%91%E5%90%AC%E5%BF%83%E8%B7%B3%E3%80%81%E7%94%9F%E4%BA%A7%E8%BD%A6%E9%97%B4%E7%9B%91%E5%90%AC%E6%9C%BA%E5%99%A8%E7%8A%B6%E6%80%81%E3%80%81%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%8A%B6%E6%80%81%E7%9B%91%E5%90%AC%E7%AD%89%EF%BC%8CTSDB%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF%E6%8C%BA%E5%A4%9A%E3%80%82%0A%0Aprometheus%0A\-\-\-\-\-%0A%E6%A0%B8%E5%BF%83%E6%98%AF%E4%B8%80%E4%B8%AA%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%8C%E5%9B%B4%E7%BB%95%E7%9D%80%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%8C%E5%8F%88%E5%8C%85%E5%90%AB%E4%BA%86%EF%BC%9AAPI%20UI%20%E6%94%B6%E9%9B%86%E6%95%B0%E6%8D%AE%20%E6%8F%92%E4%BB%B6%EF%BC%88%E5%A6%82%EF%BC%9A%E6%8A%A5%E8%AD%A6%EF%BC%89%E7%AD%89%EF%BC%8C%E8%BF%99%E6%A0%B7%E4%B8%80%E4%B8%AA%E7%B3%BB%E7%BB%9F%E3%80%82%0A%0A\!%5B2ada1ece66fcc81d704c2ba46f9dd7d3.png%5D\(evernotecid%3A%2F%2F48EFC692\-6DE3\-4EEF\-8E65\-DB61EC1E8D7A%2Fappyinxiangcom%2F35868219%2FENResource%2Fp47\)%0A%0A%0A%3E%E8%BF%99%E6%98%AF%E7%BD%91%E4%B8%8A%E7%9A%84%E4%B8%80%E5%BC%A0%E5%9B%BE%E7%BB%93%E6%9E%84%E5%9B%BE%0A%0A\*\*metrics\*\*%0A%E4%B8%80%E7%BB%84metric%EF%BC%8C%E5%9F%BA%E4%BA%8Epromehtues%E4%B9%9F%E5%8F%AB%E4%B8%80%E4%B8%AAjob%EF%BC%8C%E5%9F%BA%E4%BA%8E%E6%9F%90%E4%B8%80%E4%B8%AA%E5%8A%9F%E8%83%BD%E7%9A%84%E4%B8%80%E7%BB%84%E7%BB%9F%E8%AE%A1%E6%95%B0%E6%8D%AE%E3%80%82%E5%A6%82%EF%BC%9Aapache%20php%20mysql%20%E8%BF%99%E7%A7%8D%E9%83%BD%E6%98%AF%E4%B8%80%E4%B8%AAmetrics%0A%0A\*\*metric\*\*%0A%E4%B8%80%E4%B8%AA%E7%BB%9F%E8%AE%A1%E6%95%B0%E6%8D%AE%EF%BC%8C%E5%9C%A8metrics%E9%87%8C%E3%80%82%E5%A6%82%EF%BC%9A%0A1.%20%E6%94%AF%E4%BB%98%E6%88%90%E5%8A%9F%E6%95%B0%0A2.%20%E6%94%AF%E4%BB%98%E5%A4%B1%E8%B4%A5%E6%95%B0%0A2.%20%E6%B8%A9%E5%BA%A6%E6%95%B0%0A3.%20%E5%BF%83%E8%B7%B3%E6%95%B0%0A3.%20%E8%AF%B7%E6%B1%82%E8%AE%B0%E5%BD%95%0A......%0A%0A%E8%BF%99%E4%B8%AA%E5%80%BC%E6%89%8D%E6%98%AF%E7%9C%9F%E6%AD%A3%E7%9A%84%E5%80%BC%EF%BC%8C%E5%B9%B6%E6%9C%80%E5%90%8E%E5%8F%82%E4%B8%8E%E8%AE%A1%E7%AE%97%E7%BB%9F%E8%AE%A1%E7%9A%84%E3%80%82%0A%3Emetric%E7%9A%84%E5%80%BC%E5%8F%AF%E4%BB%A5%E6%98%AF%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E6%A0%87%E9%87%8F\(%E6%95%B0%E5%AD%97%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2\)%EF%BC%8C%E4%B9%9F%E5%8F%AF%E8%83%BD%E6%98%AF%E4%B8%80%E7%BB%84%E6%95%B0%E6%8D%AE%EF%BC%88code%3D200%2Curi%3D%2Fbaidu%EF%BC%89%0A%0Aprometheus%E5%A6%82%E4%BD%95%E8%8E%B7%E5%8F%96%E5%88%B0%E5%AE%A2%E6%88%B7%E7%AB%AF%E7%9A%84metrics%E6%95%B0%E6%8D%AE%3F%0A%3E%E5%9C%A8%E8%8B%A5%E5%B9%B2%E6%97%B6%E9%97%B4%E5%91%A8%E6%9C%9F%E5%90%91%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%B8%AD%E7%9A%84jobs%E7%9A%84IP%3APORT%2C%E8%AF%B7%E6%B1%82%E6%8B%89%E5%8F%96%E4%B8%80%E6%AC%A1metrics%E6%95%B0%E6%8D%AE%E9%9B%86%E5%90%88%EF%BC%8C%E5%B9%B6%E5%AD%98%E4%BA%8E%E5%88%B0%E6%9C%AC%E5%9C%B0TSDB%E4%B8%AD%E3%80%82%0A%0Ametric%E6%95%B0%E6%8D%AE\(%E6%97%B6%E5%BA%8F\)%E7%9A%84%E9%80%BB%E8%BE%91%E5%88%86%E7%B1%BB\(%E5%AD%98%E5%82%A8%E4%B8%8A%E8%BF%98%E6%98%AFTSDB%E6%A0%BC%E5%BC%8F\)%EF%BC%8C%E5%A6%82%E4%B8%8B%EF%BC%9A%0A%0A%7C%20%E5%85%B3%E9%94%AE%E8%AF%8D%20%7C%E7%B1%BB%E5%9E%8B%20%20%7C%E8%AF%B4%E6%98%8E%20%20%7C%0A%7C%20\-\-\-%20%7C%20\-\-\-%20%7C%20\-\-\-%20%7C%0A%7C%20Counter%20%7C%20%20%7C%20%E8%AE%A1%E6%95%B0%E5%99%A8%EF%BC%8C%E4%B8%80%E5%AE%9A%E6%98%AF%E9%80%92%E5%A2%9E%E7%9A%84%20%E4%B8%80%E8%88%AC%EF%BC%9A\_total%E4%BD%9C%E4%B8%BA%E5%90%8E%E7%BC%80%E3%80%82%E7%B4%AF%E5%8A%A0%E6%8C%87%E6%A0%87%20%7C%0A%7C%20Gauge%20%7C%20%E7%9E%AC%E6%97%B6%20%7C%20%20%EF%BC%8C%E5%A6%82%E6%B8%A9%E5%BA%A6%EF%BC%8C%E5%8F%AF%E4%BB%BB%E6%84%8F%E5%8A%A0%E5%87%8F%E3%80%82%E5%85%B6%E4%B8%BA%E7%9E%AC%E6%97%B6%E7%9A%84%EF%BC%8C%E4%B8%8E%E6%97%B6%E9%97%B4%E6%B2%A1%E6%9C%89%E5%85%B3%E7%B3%BB%E7%9A%84%EF%BC%8C%E5%8F%AF%E4%BB%A5%E4%BB%BB%E6%84%8F%E5%8F%98%E5%8C%96%E7%9A%84%E6%95%B0%E6%8D%AE%E3%80%82%7C%0A%7C%20Histogram%20%7C%20%20%7C%E4%B8%80%E5%AE%9A%E6%97%B6%E9%97%B4%E6%AE%B5%E5%86%85%E7%9A%84%EF%BC%8C%E5%BD%A9%E6%A0%B7%E5%8F%96%E5%B9%B3%E5%9D%87%E5%80%BC%EF%BC%8C%E4%BB%A5%E5%88%86%E4%BD%8D%E6%95%B0%E5%AD%98%E5%82%A8%20%20%7C%0A%7C%20Summary%20%7C%20%20%7C%20%E4%B8%80%E5%AE%9A%E6%97%B6%E9%97%B4%E6%AE%B5%E5%86%85%E7%9A%84%EF%BC%8C%E5%BD%A9%E6%A0%B7%E5%8F%96%E5%B9%B3%E5%9D%87%E5%80%BC%EF%BC%8C%E4%BB%A5%E5%8C%BA%E9%97%B4%E5%AD%98%E5%82%A8%20%20%7C%0A%0A%3E%E8%BF%99%E9%87%8C%E6%98%AF%E9%80%BB%E8%BE%91%E5%88%86%E7%B1%BB%EF%BC%8C%E8%80%8C%E5%AE%9E%E9%99%85%E4%B8%8A%E6%95%B0%E6%8D%AE%E5%9C%A8DB%E4%B8%AD%E6%B2%A1%E8%BF%99%E5%B1%82%E9%80%BB%E8%BE%91%EF%BC%8C%E9%83%BD%E6%98%AF%E4%BD%A0%E5%8F%91%E5%95%A5%E6%88%91%E5%B0%B1%E5%AD%98%E5%95%A5%E3%80%82%0A%0A%E5%AE%A2%E6%88%B7%E7%AB%AF%E5%88%9B%E5%BB%BA%E5%A5%BDmetrics%E6%95%B0%E6%8D%AE%EF%BC%8C%E7%BB%99%E5%87%BAHTTP%E5%9B%9E%E8%B0%83%E5%9C%B0%E5%9D%80%EF%BC%8C%E7%84%B6%E5%90%8E%E5%91%8A%E7%9F%A5promethues%EF%BC%8Cpromethues%E5%9C%A8%E9%85%8D%E7%BD%AE%E4%B8%AD%E8%AE%BE%E5%AE%9A%E5%A5%BD%E5%9B%9E%E8%B0%83%E5%9C%B0%E5%9D%80%EF%BC%8C%E6%95%B4%E4%B8%AA%E6%B5%81%E7%A8%8B%E4%B9%9F%E5%B0%B1%E9%80%9A%E4%BA%86%E3%80%82%0A%0A%E5%A6%82%E6%9E%9C%E4%B8%80%E5%8F%B0%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%8F%AA%E6%9C%89%E4%B8%80%E4%B8%AA%E6%9C%8D%E5%8A%A1%E8%BF%98%E5%A5%BD%EF%BC%8C%E5%A6%82%E6%9E%9C%E6%9C%89N%E4%B8%AA%E5%91%A2%EF%BC%9F%E9%82%A3promethues%E5%9C%A8%E9%85%8D%E7%BD%AE%E4%B8%AD%E5%B0%B1%E6%9C%89N%E4%B8%AAjobs\_names%EF%BC%8C%E5%8F%AF%E4%B8%8D%E5%8F%AF%E4%BB%A5%E6%AF%8F%E5%8F%B0%E6%9C%BA%E5%99%A8%E5%8F%AA%E6%9C%89%E4%B8%80%E4%B8%AA%E8%BF%9B%E7%A8%8B%EF%BC%8C%E6%89%80%E6%9C%89%E6%9C%8D%E5%8A%A1%E5%90%91%E8%AF%A5%E8%BF%9B%E7%A8%8B%E6%8E%A8%E9%80%81%E6%B6%88%E6%81%AF%EF%BC%8C%E8%80%8Cpromethues%E5%8F%AA%E4%BB%8E%E8%BF%99%E5%8F%B0%E6%9C%BA%E7%9A%84%E8%BF%99%E4%B8%AA%E8%BF%9B%E7%A8%8B%E4%B8%8A%E6%8B%89%E6%95%B0%E6%8D%AE%E5%8D%B3%E5%8F%AF%E5%91%A2%EF%BC%9F%0A%0Apush%20gataway%7Cstatsd\_exporter%0A%3E%E7%BB%99%E4%BD%BF%E7%94%A8%E8%80%85%E8%87%AA%E5%AE%9A%E4%B9%89%E7%9A%84%E6%94%B6%E9%9B%86%E5%99%A8%EF%BC%8C%E8%87%AA%E7%A0%94%E7%9A%84%E8%BD%AF%E4%BB%B6%E9%A1%B9%E7%9B%AE%EF%BC%8C%E8%82%AF%E5%AE%9A%E6%98%AF%E5%BE%88%E5%A4%9A%E8%87%AA%E5%AE%9A%E4%B9%89%E7%89%B9%E6%AE%8A%E7%9A%84%E6%95%B0%E6%8D%AE%EF%BC%8Cexporter%E8%82%AF%E5%AE%9A%E6%98%AF%E6%BB%A1%E8%B6%B3%E4%B8%8D%E4%BA%86%EF%BC%8C%E6%89%8D%E6%9C%89%E4%BA%86%E8%BF%99%E4%B8%AA%E4%B8%9C%E8%A5%BF%E3%80%82%0A%0A%0A%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%8F%AF%E4%BB%A5%E6%B8%85%E6%A5%9A%E7%9A%84%E7%9F%A5%E9%81%93%E5%A6%82%E4%BD%95%E5%88%9B%E5%BB%BA%2F%E5%8F%98%E6%9B%B4metric%E9%A1%B9%EF%BC%8C%E4%BD%86%E6%98%AF%E5%A6%82%E6%9E%9C%E5%BC%80%E6%BA%90%E8%BD%AF%E4%BB%B6%E5%91%A2%EF%BC%9F%E5%AE%9E%E9%99%85%E4%B9%9F%E6%9C%89%E5%BC%80%E6%BA%90%E7%9A%84%E6%94%B6%E9%9B%86%E5%99%A8%EF%BC%8C%E5%A6%82%E4%B8%8B%EF%BC%9A%0A%0A%7C%20%E5%90%8D%E7%A7%B0%20%7C%E6%8F%8F%E8%BF%B0%20%20%7C%20%20%0A%7C%20\-\-\-%20%7C%20\-\-\-%20%7C%0A%7Cnode\_exporter%20%20%7C%20%E6%9C%8D%E5%8A%A1%E5%99%A8%7C%20%0A%7Cblackbox\_exporter%20%20%7C%20%7C%20%0A%7Cgraphite\_exporter%20%20%7C%20%7C%20%0A%7Cconsul\_exporter%20%20%7Cconsul%20%7C%20%0A%7Chaproxy\_exporter%20%20%7C%20haproxy%7C%20%0A%7Cmemcached\_exporter%20%20%7C%20memcache%7C%20%0A%7Cmysqld\_exporter%20%20%7Cmysql%7C%20%0A%0A%0A%3Eexporter%3A%E5%BC%80%E6%BA%90%E8%BD%AF%E4%BB%B6N%E5%A4%9A%EF%BC%8C%E4%BC%B0%E8%AE%A1%E5%AE%98%E6%96%B9%E4%B9%9F%E6%B2%A1%E9%82%A3%E7%B2%BE%E5%8A%9B%E5%85%A8%E9%83%BD%E7%BB%99%E5%87%BA%EF%BC%8C%E5%83%8F%EF%BC%9Aredis%20php%20kafka%20%E7%AD%89%E7%AD%89%E5%90%A7%EF%BC%8C%E4%BD%86%E8%BF%99%E4%BA%9B%E5%8F%AF%E4%BB%A5%E5%9C%A8github%E4%B8%8A%E6%89%BE%E5%88%B0%E3%80%82%0A%0A%0A\!%5B69a56d5d724606b86b210aec125442a0.png%5D\(evernotecid%3A%2F%2F48EFC692\-6DE3\-4EEF\-8E65\-DB61EC1E8D7A%2Fappyinxiangcom%2F35868219%2FENResource%2Fp49\)%0A%0A%E4%B8%8A%E5%9B%BE%E5%8D%B3%E6%98%AF%E6%9C%80%E7%BB%88%E7%9A%84%E4%BD%BF%E7%94%A8%E5%BD%A2%E6%80%81%E4%BA%86%EF%BC%8C%E5%9B%BE%E4%B8%AD%E4%B9%9F%E8%83%BD%E7%9C%8B%E5%87%BA%E6%9D%A5prometheus%20%E6%98%AF%E4%B8%AA%E7%B2%98%E5%90%88%E4%BD%93~%E8%B0%83%E5%BA%A6%E5%90%84%E7%A7%8D%E8%B5%84%E6%BA%90%EF%BC%8C%E5%85%B6%E5%AE%83%E7%9A%84%E5%8F%AA%E6%98%AF%E9%85%8D%E5%90%88%E5%AE%83%E6%9D%A5%E5%81%9A%E3%80%82%0A%E8%80%8Cprometheus%E7%9A%84%E8%BF%90%E8%BD%AC%E6%B5%81%E7%A8%8B%EF%BC%8C%E6%88%96%E8%80%85%E8%AF%B4%E6%93%8D%E4%BD%9C%E6%B5%81%E7%A8%8B%E5%B0%B1%E4%B8%A4%E4%B8%AA%E6%96%87%E4%BB%B6%EF%BC%9Aprometheus.yml%20alertmanager.yml%0A%E8%BF%99%E4%B8%A4%E4%B8%AA%E6%96%87%E4%BB%B6%E4%B8%AD%E7%9A%84%E6%A0%B8%E5%BF%83%E6%98%AF%EF%BC%9Ajobs%20rule%20%0A%0A%0Alabel%0A\-\-\-\-%0A%E7%BB%99metric%E6%95%B0%E6%8D%AE%E9%A1%B9%E5%8A%A0%E6%A0%87%E8%AF%86\(Metadata%20label\)%EF%BC%8C%E4%BD%9C%E7%94%A8%EF%BC%9A%0A1.%20%E4%B8%80%E4%B8%AAmetric%E5%8A%A0%E4%B8%8A%E4%B8%80%E4%B8%AA%E6%A0%87%E7%AD%BE%EF%BC%8C%E5%B0%B1%E7%AD%89%E4%BA%8E%E5%A4%9A%E4%BA%86%E4%B8%80%E4%B8%AA%E7%BB%B4%E5%BA%A6%EF%BC%8C%E6%89%80%E4%BB%A5%20value%2Blabel%20%E5%B0%B1%E5%AE%9E%E7%8E%B0%E4%BA%86%E5%A4%9A%E7%BB%B4%E5%BA%A6%E6%90%9C%E7%B4%A2%0A2.%20%E6%8B%89%E5%8F%96%E7%9A%84metrics%E5%8F%AF%E8%83%BD%E6%9D%A5%E8%87%AA%E5%BE%88%E5%A4%9A%E4%B8%AA%E8%8A%82%E7%82%B9%EF%BC%8C%E5%A4%9A%E8%8A%82%E7%82%B9%E5%B0%B1%E5%BE%97%E5%81%9A%E5%8C%BA%E5%88%86%EF%BC%8C%E6%89%80%E4%BB%A5%E5%B0%B1%E6%9C%89%E4%BA%86label%0A%3E%E6%B3%A8%EF%BC%9Alabel%E6%98%AF%E7%94%B1prometheus%E7%AB%AF%E6%B7%BB%E5%8A%A0%EF%BC%8C%E8%80%8C%E4%B8%8D%E6%98%AFclient%0A%0Alabel%E4%B9%9F%E5%88%86%E4%B8%BA%E4%B8%A4%E7%B1%BB%0A1.%20%E4%BD%BF%E7%94%A8%E8%80%85%E8%87%AA%E5%AE%9A%E4%B9%89%0A2.%20prometheus%E9%BB%98%E8%AE%A4%E5%AE%9A%E4%B9%89%0A%0A%E9%85%8D%E7%BD%AE%E4%B8%80%E4%B8%AAjob%E6%97%B6%EF%BC%8C%E5%85%B6%E4%B8%AD%E7%9A%84target%E9%A1%B9%E5%B0%B1%E8%87%AA%E5%8A%A8%E8%A2%AB%E8%BD%AC%E6%8D%A2%E6%88%90%E4%BA%86instance%E6%A0%87%E7%AD%BE%0A%0A%3Eprometheus%E7%BB%99%E6%AF%8F%E4%B8%AAtarget%E9%BB%98%E8%AE%A4%E6%B7%BB%E5%8A%A0%E7%9A%84%E6%A0%87%E7%AD%BE%EF%BC%8C%E5%A6%82%E4%B8%8B%EF%BC%9A%0A%0A\_\_address\_\_%EF%BC%9A%E5%BD%93%E5%89%8DTarget%E5%AE%9E%E4%BE%8B%E7%9A%84%E8%AE%BF%E9%97%AE%E5%9C%B0%E5%9D%80%3Chost%3E%3A%3Cport%3E%0A\_\_scheme\_\_%EF%BC%9A%E9%87%87%E9%9B%86%E7%9B%AE%E6%A0%87%E6%9C%8D%E5%8A%A1%E8%AE%BF%E9%97%AE%E5%9C%B0%E5%9D%80%E7%9A%84HTTP%20Scheme%EF%BC%8CHTTP%E6%88%96%E8%80%85HTTPS%0A\_\_metrics\_path\_\_%EF%BC%9A%E9%87%87%E9%9B%86%E7%9B%AE%E6%A0%87%E6%9C%8D%E5%8A%A1%E8%AE%BF%E9%97%AE%E5%9C%B0%E5%9D%80%E7%9A%84%E8%AE%BF%E9%97%AE%E8%B7%AF%E5%BE%84%0A%0A%3E%E6%B3%A8%EF%BC%9A%E8%BF%99%E4%BA%9B%E6%A0%87%E7%AD%BE%E5%B1%9E%E4%BA%8E%E5%86%85%E9%83%A8%E4%BD%BF%E7%94%A8%EF%BC%8CUSER%E6%98%AF%E6%97%A0%E6%B3%95%E4%BD%BF%E7%94%A8%E7%9A%84%EF%BC%8C%E5%B9%B6%E4%B8%94%E8%BF%99%E4%BA%9B%E6%A0%87%E7%AD%BE%E5%B9%B6%E4%B8%8D%E8%BF%9B%E5%85%A5DB%E4%B8%AD%0A%0A%0A%E5%AE%89%E8%A3%85%0A\-\-\-\-%0A%E4%B8%8B%E8%BD%BD%E5%8C%85%EF%BC%9A%0A%3Ehttps%3A%2F%2Fprometheus.io%2Fdownload%2F%20%20%0A%20%0A%E8%A7%A3%E5%8E%8B%0A%3Etar%20\-zxvf%20%20%0Amv%20%2Fsoft%0A%0A%E6%9F%A5%E7%9C%8B%E7%89%88%E6%9C%AC%0A.%2Fprometheus%20\-\-version%0A%0A%3Evim%20prometheus.yml%20%20%0A%E5%8A%A0%E4%B8%80%E4%B8%AA%E7%9B%91%E6%8E%A7%E5%80%BC%EF%BC%9A%0A%0A%60%60%60%0Aglobal%3A%0A%20%20scrape\_interval%20%20%2015s%20%20%23%E9%87%87%E9%9B%863%E6%96%B9%E6%95%B0%E6%8D%AE%E5%91%A8%E6%9C%9F%2C%E9%BB%98%E8%AE%A41m%0A%20%20evaluation\_interval%20%20%20%20%23%E8%AE%A1%E7%AE%97rule%20expr%20%E5%91%A8%E6%9C%9F%2C%E6%9B%B4%E6%96%B0%E5%91%8A%E8%AD%A6%E7%8A%B6%E6%80%81%2C%E9%BB%98%E8%AE%A41m%0A%20%20%23scrape\_timeout%3A%20%3Cduration%3E%20%7C%20default%20%3D%2010s%20%23%E9%87%87%E9%9B%863%E6%96%B9%E6%95%B0%E6%8D%AE%20%E8%B6%85%E6%97%B6%E6%97%B6%E9%97%B4%0A%20%20%23external\_labels%3A%20%23%E4%B8%8E3%E6%96%B9%E4%BA%A4%E4%BA%92%E6%97%B6%EF%BC%8C%E6%B7%BB%E5%8A%A0%E7%9A%84%E9%BB%98%E8%AE%A4%E6%A0%87%E7%AD%BE%0A%20%20%20%20%23env%3A%20test%0A%20%20%20%20%0A\-%20job\_name%3A%20'prometheus'%09%23%E8%BF%99%E4%B8%AA%E6%98%AF%E9%BB%98%E8%AE%A4%E5%8D%B3%E5%B8%A6%EF%BC%8C%E7%9B%91%E6%8E%A7prometheus%E8%87%AA%E5%B7%B1%0A%20%20%20%20static\_configs%3A%0A%20%20%20%20\-%20targets%3A%20%5B'localhost%3A9090'%5D%0A\-%20job\_name%3A%20'php\-fpm'%20%20%20%20%20%20%20%20%20%20%20%23%E7%9B%91%E6%8E%A7\(8182\)%E6%9C%BA%E5%99%A8%E4%B8%8A%E7%9A%84php\-fpm%0A%20%20%20%20static\_configs%3A%0A%20%20%20%20\-%20targets%3A%20%5B'localhost%3A8182'%5D%0A%20%20%20%20%0A\-%20job\_name%3A%20'235\_node'%0A%0A%20%20%20%20static\_configs%3A%0A%20%20%20%20\-%20targets%3A%20%5B'127.0.0.1%3A9100'%5D%23%E7%9B%91%E6%8E%A7%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%87%AA%E5%B7%B1%0A%0A\-%20job\_name%3A%20'235\_pushgetway'%20%20%20%23%E4%BB%8Epushgateway%E6%91%98%E5%8F%96%E6%95%B0%E6%8D%AE%0A%0A%20%20static\_configs%3A%0A%20%20\-%20targets%3A%20%5B'127.0.0.1%3A9091'%5D%0A%20%20%0A%60%60%60%0A%0A%0A%E5%90%AF%E5%8A%A8%EF%BC%9A%20%20%0A%3E.%2Fprometheus%20\-\-config.file%3Dprometheus.yml%20\-\-web.enable\-lifecycle%20%20%0A%0A%60%60%60%0A\-\-config.file%20\-\-%20%E6%8C%87%E6%98%8Eprometheus%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E8%B7%AF%E5%BE%84%0A\-\-web.enable\-lifecycle%20\-\-%20%E6%8C%87%E6%98%8Eprometheus%E9%85%8D%E7%BD%AE%E6%9B%B4%E6%94%B9%E5%90%8E%E5%8F%AF%E4%BB%A5%E8%BF%9B%E8%A1%8C%E7%83%AD%E5%8A%A0%E8%BD%BD%0A\-\-storage.tsdb.path%20\-\-%20%E6%8C%87%E6%98%8E%E7%9B%91%E6%8E%A7%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8%E8%B7%AF%E5%BE%84%0A\-\-storage.tsdb.retention%20\-\-%E6%8C%87%E6%98%8E%E6%95%B0%E6%8D%AE%E4%BF%9D%E7%95%99%E6%97%B6%E9%97%B4%0A%60%60%60%0A%0A%0A%E5%90%AF%E5%8A%A8%E5%90%8E%EF%BC%8C%E7%94%A8%E6%B5%8F%E8%A7%88%E5%99%A8%E8%AF%95%E4%B8%80%E4%B8%8B%EF%BC%8C%E6%9F%A5%E7%9C%8B%E5%90%AF%E5%8A%A8%E6%98%AF%E5%90%A6%E6%88%90%E5%8A%9F%20%20%0A%3E38.142.177.235%3A9090%20%20%0A%0A%0A%E4%BC%98%E9%9B%85%E5%85%B3%E9%97%AD%0A%3Ekill%20\-TERM%2027350%0A%0Ahttp%20ui%20%E4%B9%9F%E5%8F%AF%E4%BB%A5%E6%93%8D%E4%BD%9C%EF%BC%9A%0A%0A%3Ecurl%20\-XPOST%20http%3A%2F%2Flocalhost%3A9090%2F\-%2Fquit%20%20%0A%3Ecurl%20\-XPOST%20http%3A%2F%2Flocalhost%3A9090%2F\-%2Freload%20%20%0A%0A%E6%9C%8D%E5%8A%A1%E7%AB%AF%E7%9A%84%E4%BA%8B%E6%83%85OK%EF%BC%8C%E7%8E%B0%E5%9C%A8%E5%87%86%E5%A4%87%EF%BC%8C%E5%9C%A8%E8%A2%AB%E7%9B%91%E6%8E%A7%E7%9A%84%E6%9C%BA%E5%99%A8%E4%B8%8A%E5%AE%89%E8%A3%85client%0A%0Aprometheus.yml%0A\-\-\-\-\-\-%0A1.%20global%3A%E5%85%A8%E5%B1%80%E9%85%8D%E7%BD%AE%0A%20%20%20%201.%20%E6%95%B0%E6%8D%AE%E6%94%B6%E9%9B%86%E5%91%A8%E6%9C%9F%E6%97%B6%E9%97%B4%20%0A2.%20alerting%3A%0A%20%20%20%201.%20%E4%BD%BF%E7%94%A8%E5%93%AA%E7%A7%8D%E5%91%8A%E8%AD%A6%E6%8F%92%E4%BB%B6%0A%20%20%20%202.%20%E6%8F%92%E4%BB%B6%E7%9A%84%E8%AE%BF%E9%97%AE%E5%9C%B0%E5%9D%80%0A3.%20rule\_grou\_files%3A%E5%91%8A%E8%AD%A6%E8%A7%84%E5%88%99%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E5%88%97%E8%A1%A8%0A4.%20scrape\_configs%3A%E9%87%87%E9%9B%86%E9%85%8D%E7%BD%AE%0A%20%20%20%201.%20job\_name%0A%20%20%20%202.%20static\_configs%3Atargets%0A%0A%E4%B8%BB%E8%A6%81%E5%B0%B1%E6%98%AF%E8%BF%994%E5%A4%A7%E5%9D%97%EF%BC%8C%E5%85%B6%E4%B8%AD%E6%A0%B8%E5%BF%83%E7%9A%84%E5%B0%B1%E6%98%AFjobs%0A%0A%0A%E6%8A%A5%E8%AD%A6%E6%9C%BA%E5%88%B6%0A\-\-\-\-\-%0A%E5%85%88%E7%9C%8B%E4%B8%80%E4%B8%8B%EF%BC%8Crule\_group.yml%20demo%0A%60%60%60%0Agroups%3A%0A\-%20name%3A%20node\_up%20%23group%20name%0A%20%20rules%3A%0A%20%20\-%20alert%3A%20node\_down%20%23%E8%A7%84%E5%88%99%E5%90%8D%E7%A7%B0%20%20%0A%20%20%20%20%20%20%20expr%3Aexpr%3A%20up%7Benv%3D%22operations%22%7D%20\!%3D%201%20%23%E8%A7%A6%E5%8F%91%E6%8A%A5%E8%AD%A6%E7%9A%84%E8%A1%A8%E8%BE%BE%E5%BC%8F%0A%20%20%20%20%20%20%20for%3A%201m%20%23%E6%8A%A5%E8%AD%A6%E7%8A%B6%E6%80%81%E4%B8%BA%20Pending%20%E5%90%8E%E7%AD%89%E5%BE%85%201m%20%E5%8F%98%E6%88%90%20Firing%20%E7%8A%B6%E6%80%81%0A%20%20%20%20%20%20%20labels%3A%20%23%E6%A0%87%E7%AD%BE%0A%20%20%20%20%20%20%20%20%20severity%3A%20warning%20%0A%20%20%20%20%20%20%20annotations%3A%20%23%E6%8F%8F%E8%BF%B0%0A%20%20%20%20%20%20%20%20%20description%3A%20%22Environment%3A%20%7B%7B%20%24labels.env%20%7D%7D%20Instance%3A%20%7B%7B%20%24labels.instance%20%7D%7D%20is%20Down%20\!%20\!%20\!%22%0A%20%20%20%20%20%20%20%20%20value%3A%20'%7B%7B%20%24value%20%7D%7D'%0A%20%20%20%20%20%20%20%20%20summary%3A%20%20%22The%20host%20node%20was%20down%2020%20minutes%20ago%22%0A%20%20%20%20%20%20%20%0A%60%60%60%0A%0A%E6%8E%A5%E7%9D%80%E7%9C%8B%E4%B8%80%E4%B8%8B%EF%BC%8C%E5%9F%BA%E7%A1%80%E7%9A%84%E6%B5%81%E8%BD%AC%EF%BC%9A%0A%0A%60%60%60mermaid%0Agraph%20LR%0Agroups%20\-\-%3Erules%0Arules%20\-\-%3E%20alert%0Aalert%20\-\-%3E%20%7Cevaluation\_interval%7C%20expr%0Aexpr%20\-\-%3E%20%7C%E7%AD%9B%E9%80%89%7Ctsdb%0Atsdb%20\-\-%3E%20%7C%E8%A7%A6%E5%8F%91%E6%8A%A5%E8%AD%A6\-%E4%BF%AE%E6%94%B9%E7%8A%B6%E6%80%81pending%7Calert%0Aalert%20\-\-%3E%20%7C%E7%AD%89%E5%BE%85%7Cfor%0Afor%20\-\-%3E%20%7C%E4%BF%AE%E6%94%B9%E7%8A%B6%E6%80%81fire%7C%E5%8F%91%E9%80%81%E9%80%9A%E7%9F%A5%0A%E5%8F%91%E9%80%81%E9%80%9A%E7%9F%A5%20\-\-%3E%20label%20%0A%E5%8F%91%E9%80%81%E9%80%9A%E7%9F%A5%20\-\-%3E%20annotations%0A%E5%8F%91%E9%80%81%E9%80%9A%E7%9F%A5%20\-\-%3E%20group\_name%0Alabel%20\-\-%3E%20alertmanger%0Aannotations%20\-\-%3E%20alertmanger%0Agroup\_name%20\-\-%3E%20alertmanger%0A%60%60%60%0A%E5%86%8D%E7%9C%8B%E4%B8%80%E4%B8%8B%E6%B5%81%E7%A8%8B%E5%9B%BE%EF%BC%9A%0A\!%5B489ad54828514db1e1b8b76261fa73b6.jpeg%5D\(evernotecid%3A%2F%2F48EFC692\-6DE3\-4EEF\-8E65\-DB61EC1E8D7A%2Fappyinxiangcom%2F35868219%2FENResource%2Fp61\)%0A%0A%E6%9C%80%E5%90%8E%E7%9C%8B%E4%B8%80%E4%B8%8B%E7%8A%B6%E6%80%81%E6%B5%81%E8%BD%AC%EF%BC%9A%0A%0A%E4%B8%80%E6%9D%A1rule%E7%9A%84\-UI%E7%95%8C%E9%9D%A2%20%E4%BC%9A%E6%9C%893%E7%A7%8D%E7%8A%B6%E6%80%81%EF%BC%9A%0A1.%20Inactive%20%E6%AD%A3%E5%B8%B8%E7%8A%B6%E6%80%81%EF%BC%8C%E6%9C%AA%E6%BF%80%E6%B4%BB%E8%AD%A6%E6%8A%A5%0A2.%20Pending%20%E5%B7%B2%E8%A7%A6%E5%8F%91%E6%8A%A5%E8%AD%A6%E6%9D%A1%E4%BB%B6%EF%BC%8C%E4%BD%86%E5%9C%A8%E4%B8%80%E5%AE%9A%E6%97%B6%E9%97%B4%E5%86%85%E5%90%8E%E6%89%8D%E5%8F%91%E9%80%81%EF%BC%8C%E6%9C%89%E7%82%B9%E5%BB%B6%E8%BF%9F%E7%9A%84%E6%84%8F%E6%80%9D%EF%BC%8C%E5%A6%82%EF%BC%9A%20for%201m%20%E5%AD%90%E5%8F%A5%E4%B8%AD%E5%AE%9A%E4%B9%89%E7%9A%84%E6%8C%81%E7%BB%AD%E6%97%B6%E9%97%B4%20%0A3.%20Firing%20%E6%BB%A1%E8%B6%B3%E6%9D%A1%E4%BB%B6%EF%BC%8C%E4%B8%94%E8%B6%85%E8%BF%87%E4%BA%86%20for%20%E5%AD%90%E5%8F%A5%E4%B8%AD%E7%9A%84%E7%9A%84%E6%8C%87%E5%AE%9A%E6%8C%81%E7%BB%AD%E6%97%B6%E9%97%B4%201m%0A%0A%60%60%60mermaid%0Agraph%20LR%0AInactive%20\-\-%3EPending%0APending%20\-\-%3E%20%7Calert%7CFiring%0AFiring%20\-\-%3E%20%7CResolved%7C%20Inactive%0APending%20\-\-%3E%20%7CResolved%7C%20Inactive%0A%60%60%60%0A%0A%E6%A0%B8%E5%BF%83%E5%85%B3%E9%94%AE%E7%82%B9%0A%0A1.%20expr%20%3A%20%E4%B9%9F%E5%B0%B1%E6%98%AF%20%E8%A7%A6%E5%8F%91%E6%8A%A5%E8%AD%A6%E8%A1%A8%E8%BE%BE%E5%BC%8F%EF%BC%8C%E8%BF%99%E4%B8%AA%E4%B9%9F%E6%98%AF%E6%9C%80%E9%9A%BE%E3%80%82%E3%80%82%E3%80%82%E6%88%91%E7%9C%8B%E4%BA%86%E7%9C%8BDEMO%EF%BC%8C%E5%A5%BD%E5%A4%8D%E6%9D%82....%0A%3Eexpr%3A%20up%7Bjob%3D%22share\_linux\_os\_node%22%7D%20%3D%3D%200%0A2.%20for%20%3A%20%E6%8C%81%E7%BB%AD%E6%97%B6%E9%95%BF%EF%BC%8C%E4%B8%8A%E9%9D%A2%E8%A7%A6%E5%8F%91%E5%90%8E%EF%BC%8C%E7%AD%89%E5%BE%85%E5%A4%9A%E4%B9%85%E6%89%8D%E7%9C%9F%E7%9A%84%E5%8F%91%E9%80%81%E6%8A%A5%E8%AD%A6%0A3.%20evaluation\_interval%20%3A%20%E8%AE%A1%E7%AE%97expr%E5%91%A8%E6%9C%9F%0A%0A%E5%88%86%E6%9E%90%EF%BC%9A%0Aevaluation\_interval%3A%E8%BF%99%E4%B8%AA%E5%80%BC%E4%B8%8D%E8%A6%81%E5%A4%AA%E5%B0%8F%EF%BC%8C%E4%B9%9F%E5%88%AB%E5%A4%AA%E5%A4%A7%EF%BC%8C%E4%B8%8D%E7%84%B6%E9%A2%91%E7%B9%81%E8%A7%A6%E5%8F%91%E8%AE%A1%E7%AE%97exp%EF%BC%8C%E4%BC%9A%E5%BE%88%E7%94%9F%E6%88%90%E5%A4%9A%E6%9D%A1%E5%91%8A%E8%AD%A6%E5%A4%A7%E9%87%8F%E5%8F%91%E9%80%81%E7%9A%84%E6%83%85%E5%86%B5%0Afor%3A%E8%BF%99%E4%B8%AA%E5%80%BC%E4%B8%8D%E8%A6%81%E5%A4%AA%E5%B0%8F%EF%BC%8C%E5%8F%AF%E4%BB%A5%E7%95%A5%E5%A4%A7%E4%B8%80%E7%82%B9%EF%BC%8C%E5%9B%A0%E4%B8%BA%EF%BC%8C%E7%BD%91%E7%BB%9C%E6%B3%A2%E5%8A%A8%E5%BE%88%E6%AD%A3%E5%B8%B8%EF%BC%8C%E5%80%BC%E5%A4%AA%E5%B0%8F%E4%B8%80%E6%A0%B7%E4%BC%9A%E6%9C%89%E5%BE%88%E5%A4%9A%E5%91%8A%E8%AD%A6%E5%8F%91%E5%87%BA%E6%9D%A5%0A%0A%E6%9C%80%E7%BB%88%E5%8F%91%E9%80%81%E4%B8%80%E5%91%8A%E8%AD%A6%E7%9A%84%E6%97%B6%E9%97%B4%E4%B8%BA%EF%BC%9Aevaluation\_interval%20%2B%20for%20%0A%0A%E6%9F%A5%E7%9C%8B%E6%8A%A5%E8%AD%A6%E9%85%8D%E7%BD%AE%E4%BF%A1%E6%81%AF%0A%3Ehttp%3A%2F%2F59.110.167.206%3A9090%2Falerts%0A%0A%0APromQL%0A\-\-\-\-\-\-%0A%3E%E7%B1%BB%E4%BC%BCsql%20query%20%E7%9A%84%E4%B8%80%E9%97%A8%E5%B0%8F%E8%AF%AD%E8%A8%80%E5%90%A7%E3%80%82%0A%3E%E6%8A%A5%E8%AD%A6%E9%98%80%E5%80%BC%E9%85%8D%E7%BD%AE%E7%9A%84%E6%97%B6%E5%80%99%EF%BC%8C%E9%9C%80%E8%A6%81%E5%86%99%E5%85%AC%E5%BC%8F%0A%0A%0A\*\*%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0\*\*%0A%0A%7C%20%E5%85%B3%E9%94%AE%E5%AD%97%20%7C%20%E6%8F%8F%E8%BF%B0%20%7C%0A%7C%20\-\-\-%20%7C%20\-\-\-%20%7C%0A%7C%20sum%20%7C%20%E7%B4%AF%E5%8A%A0%20%7C%0A%7C%20min%20%7C%20%E6%9C%80%E5%B0%8F%20%7C%0A%7C%20max%20%7C%20%E6%9C%80%E5%A4%A7%20%7C%0A%7C%20avg%20%7C%20%E5%B9%B3%E5%9D%87%20%7C%0A%7C%20topk%20%7C%20%E5%89%8DN%E6%9D%A1%20%20%7C%0A%7C%20count%20%7C%20%E7%BB%9F%E8%AE%A1%E6%9D%A1%E6%95%B0%20%7C%0A%7C%20count\_values%20%7C%20%E5%AF%B9%20value%20%E8%BF%9B%E8%A1%8C%E8%AE%A1%E6%95%B0%20%7C%0A%7C%20stddev%20%7C%E6%A0%87%E5%87%86%E5%B7%AE%20%20%7C%0A%7C%20stdvar%20%7C%20%E6%A0%87%E5%87%86%E5%B7%AE%E5%BC%82%20%7C%0A%7C%20bottomk%20%7C%20%E6%A0%B7%E6%9C%AC%E5%80%BC%E6%9C%80%E5%B0%8F%E7%9A%84%20k%20%E4%B8%AA%E5%85%83%E7%B4%A0%20%7C%0A%7C%20quantile%20%7C%20%E5%88%86%E5%B8%83%E7%BB%9F%E8%AE%A1%20%7C%0A%0A%0A%3E%E5%90%8E4%E4%B8%AA%E5%9F%BA%E6%9C%AC%E4%B8%8A%E4%B8%8D%E5%92%8B%E7%94%A8%EF%BC%8C%E6%98%AF%E7%BB%9F%E8%AE%A1%E5%AD%A6%E7%9A%84%E4%B8%9C%E8%A5%BF%0A%0A%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0%0Afloor%20round%20ceil%20%0Arate%3A%20%E9%85%8D%E5%92%8C%20%5B1m%5D%20%E5%8F%82%E6%95%B0%E4%B8%80%E8%B5%B7%E4%BD%BF%E7%94%A8%EF%BC%8C%E6%89%80%E6%9C%89%E8%AE%B0%E5%BD%95%E7%9A%84value%20%2C%201%E5%88%86%E9%92%9F%2F60%20%3D%20%E6%AF%8F%E7%A7%92%E5%B9%B3%E5%9D%87%E5%80%BC%0A%3Eps%3A%E8%BF%99%E4%B8%AA%E5%80%BC%E5%A5%BD%E5%83%8F%E6%98%AF%E9%85%8D%E5%90%88counter%E7%B1%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%EF%BC%8C%E5%AF%B9%E5%A2%9E%E9%87%8F%E8%BF%9B%E8%A1%8C%E6%B1%82%E6%AF%8F%E7%A7%92%E5%B9%B3%E5%9D%87%E5%80%BC%0A%0A%E8%A1%A8%E8%BE%BE%E5%BC%8F%0A%2B%EF%BC%8C\-%EF%BC%8C\*%EF%BC%8C%2F%EF%BC%8C%25%EF%BC%8C%5E%20%20%20%20%3D%3D%EF%BC%8C\!%3D%EF%BC%8C%3E%EF%BC%8C%3C%EF%BC%8C%3E%3D%EF%BC%8C%3C%3D%20%20%20%20and%EF%BC%8Cor%EF%BC%8Cunless%0A%0A%3Eunless%EF%BC%9A%E9%9D%9E%EF%BC%8C%20%E7%AD%89%E4%BA%8E%20\!%0A%0A%0A\*\*%E6%9F%A5%E8%AF%A2%E7%BB%93%E6%9E%9C%E5%88%86%E7%B1%BB\*\*%0A1.%20%E7%9E%AC%E6%97%B6%E6%95%B0%E6%8D%AE%20\(Instant%20vector\)%3A%20%E5%8C%85%E5%90%AB%E4%B8%80%E7%BB%84%E6%97%B6%E5%BA%8F%EF%BC%8C%E6%AF%8F%E4%B8%AA%E6%97%B6%E5%BA%8F%E5%8F%AA%E6%9C%89%E4%B8%80%E4%B8%AA%E7%82%B9%EF%BC%8C%E4%BE%8B%E5%A6%82%EF%BC%9Ahttp\_requests\_total%0A2.%20%E5%8C%BA%E9%97%B4%E6%95%B0%E6%8D%AE%20\(Range%20vector\)%3A%20%E5%8C%85%E5%90%AB%E4%B8%80%E7%BB%84%E6%97%B6%E5%BA%8F%EF%BC%8C%E6%AF%8F%E4%B8%AA%E6%97%B6%E5%BA%8F%E6%9C%89%E5%A4%9A%E4%B8%AA%E7%82%B9%EF%BC%8C%E4%BE%8B%E5%A6%82%EF%BC%9Ahttp\_requests\_total%5B5m%5D%0A3.%20%E7%BA%AF%E9%87%8F%E6%95%B0%E6%8D%AE%20\(Scalar\)%3A%20%E7%BA%AF%E9%87%8F%E5%8F%AA%E6%9C%89%E4%B8%80%E4%B8%AA%E6%95%B0%E5%AD%97%EF%BC%8C%E6%B2%A1%E6%9C%89%E6%97%B6%E5%BA%8F%EF%BC%8C%E4%BE%8B%E5%A6%82%EF%BC%9Acount\(http\_requests\_total\)%0A%0A%3EmetricaName%7Bfield%3Dxxx%2Clabel~%3Dxxx%7D%5B5m%5D%0A%0AmetricaName%3A%E4%B8%80%E4%B8%AAmetric%E5%90%8D%E7%A7%B0%EF%BC%8C%E5%8F%AF%E4%BB%A5%E7%B1%BB%E6%AF%94MSYQL%E4%B8%80%E4%B8%AA%E8%A1%A8%E5%90%8D%0Afield%3A%E5%BD%93%E4%BC%A0%E8%BE%93%E7%9A%84%E5%80%BC%E4%B8%BA%E4%B8%80%E7%BB%84%EF%BC%8C%E4%B8%94%E5%8C%85%E5%90%AB%E8%8B%A5%E5%B9%B2%E5%AD%97%E6%AE%B5%E6%97%B6%EF%BC%8C%E5%AD%97%E6%AE%B5%E5%90%8D%EF%BC%8C%E5%8F%AF%E4%BB%A5%E7%B1%BB%E6%AF%94MSYQL%E4%B8%80%E4%B8%AA%E5%AD%97%E6%AE%B5%E5%90%8D%0Alabel%3A%E6%A0%87%E7%AD%BE%E5%90%8D%0A5m%3A%E8%BF%87%E5%8E%BB5%E5%88%86%E9%92%9F%E7%9A%84%E6%95%B0%E6%8D%AE%0A%0A%0A%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84DEMO%EF%BC%9A%0A%0A%3Ehttp\_Request\_total%7Bcode%3D200%20%2C%20method%3D'POST'%2Cjobs%3D%22node\_206%22%7D%5B5m%5D%0A%0A%E6%9F%A5%E7%9C%8Bmetric%3Dhttp\_Request\_total%2C%E5%AD%97%E6%AE%B5%20code%3D200%20method%3Dpost%2C%20%E6%A0%87%E7%AD%BE%20jobs%3Dnode\_206%2C%E6%9C%80%E8%BF%915%E5%88%86%E9%92%9F%E7%9A%84%E6%95%B0%E6%8D%AE%0A%0A%0A%E5%86%8D%E7%BB%93%E5%90%88%20%E5%86%85%E7%BD%AE%20%E5%87%BD%E6%95%B0%E4%B8%8E%20%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0%EF%BC%8C%E5%8F%8A%E8%A1%A8%E8%BE%BE%E5%BC%8F%EF%BC%8C%E5%8D%B3%E6%98%AF%E4%B8%80%E6%9D%A1%E5%AE%8C%E6%95%B4%E7%9A%84query%0A%0Afloor\(avg\(http\_requests\_total%7Bcode%3D%22200%22%7D\)\)%0A%0A%0A%0Anode\_exporter%0A\-\-\-\-\-\-\-\-\-%0A%0A%3Ehttps%3A%2F%2Fgithub.com%2Fprometheus%2Fnode\_exporter%2Freleases%2Fdownload%2Fv1.0.1%2Fnode\_exporter\-1.0.1.linux\-amd64.tar.gz%20%20%0A%0A%E8%A7%A3%E5%8E%8B%EF%BC%8C%E5%90%AF%E5%8A%A8%0A%3E.%2Fnode\_exporter%20\-\-web.listen\-address%3D%220.0.0.0%3A9100%22%20%3E%20%2Fdata%2Flogs%2Fexporter%2Fnode\_exporter.log%20%26%0A%0A%E6%9F%A5%E7%9C%8B%E5%90%AF%E5%8A%A8%E6%98%AF%E5%90%A6%E6%88%90%E5%8A%9F%0A%3Elsof%20\-i%3A9100%20%20%0A%3E%E6%B3%A8%EF%BC%9A%E8%AE%B0%E5%BE%97%E6%89%93%E5%BC%80%E9%98%BF%E9%87%8C%E4%BA%91%E7%AB%AF%E5%8F%A3%E9%99%90%E5%88%B6%20%0A%0A%E9%83%BDOK%E4%BA%86%E5%90%8E%EF%BC%8Cprometheus%20ui%20http%20%E7%AB%AF%20%EF%BC%8C%E6%9F%A5%E7%9C%8B%20%0A%3Ehttp%3A%2F%2F39.107.127.244%3A9090%2Ftargets%20%20%0A%3E%E6%90%9C%E7%B4%A2%EF%BC%9Aup%EF%BC%8C%E5%8D%B3%E5%8F%AF%E7%9C%8B%E8%A7%81%E7%8A%B6%E6%80%81%E5%80%BC%20%E4%BA%86%0A%0Avim%20prometheus.yml%20%20%0A%E5%8A%A0%E4%B8%80%E4%B8%AA%E7%9B%91%E6%8E%A7%E5%80%BC%EF%BC%9A%0A%60%60%60%0A%20%20\-%20job\_name%3A%20'node'%20%20%20%23%23%23%20%E6%96%B0%E5%A2%9E%E5%8A%A0job%0A%20%20%20%20static\_configs%3A%0A%20%20%20%20\-%20targets%3A%20%5B'127.0.0.1%3A9100'%5D%0A%60%60%60%0A%0A%E5%88%B0%E6%90%9C%E7%B4%A2%E6%A1%86%E9%87%8C%E8%BE%93%E5%85%A5%EF%BC%9Aup%20%20%20%20%20%20%EF%BC%8Cexecute%20%E5%B0%B1%E7%9C%8B%E8%A7%81%E5%9B%BE%E5%BD%A2%E4%BA%86%0A%0A%0Apush%20getway%0A\-\-\-\-%0A%0A%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF%EF%BC%9A%0A1.%20%E5%BD%93%E4%B8%80%E5%8F%B0%E6%9C%BA%E5%99%A8%E4%B8%8A%E8%B7%91%E7%9D%80%E5%A4%9A%E4%B8%AA%E6%9C%8D%E5%8A%A1%EF%BC%8C%E5%A6%82%E7%9B%B4%E6%8E%A5%E5%9C%A8prometheus%E4%B8%AD%E9%85%8D%E7%BD%AEjob%E7%95%A5%E9%BA%BB%E7%83%A6%EF%BC%8C%E4%BA%8E%E6%98%AF%E5%9C%A8%E6%9C%AC%E6%9C%BA%E5%90%AF%E5%8A%A8%E4%B8%80%E4%B8%AA%E8%BF%9B%E7%A8%8B%EF%BC%8C%E6%8E%A5%E6%94%B6%E5%A4%9A%E4%B8%AA%E6%9C%8D%E5%8A%A1%E7%9A%84metric%E6%95%B0%E6%8D%AE%EF%BC%8C%E6%9C%80%E5%90%8E%E5%9C%A8promethus%E4%B8%AD%E5%8F%AA%E9%85%8D%E7%BD%AE%E8%BF%99%E4%B8%AA%E8%BF%9B%E7%A8%8B%EF%BC%8C%E5%8F%AA%E6%91%98%E5%8F%96%E8%AF%A5%E8%BF%9B%E7%A8%8B%E7%9A%84%E9%85%8D%E7%BD%AE%E4%BF%A1%E6%81%AF%E5%8D%B3%E5%8F%AF%E3%80%82%0A%0A%E7%BC%BA%E7%82%B9%EF%BC%9A%0A1.%20%E5%A4%9A%E6%9C%8D%E5%8A%A1%E5%90%8C%E6%97%B6%E6%8E%A8%E9%80%81%E4%B8%80%E4%B8%AA%E8%BF%9B%E7%A8%8B%EF%BC%8C%E6%95%B0%E6%8D%AE%E9%87%8F%E5%A4%A7%EF%BC%8C%E4%BC%9A%E6%8A%8A%E8%AF%A5%E6%9C%8D%E5%8A%A1%E6%90%9E%E6%8C%82%EF%BC%8C%E9%80%A0%E6%88%90%E5%8D%95%E7%82%B9%E6%95%85%E9%9A%9C%E3%80%82%0A%3E%E5%BD%93%E5%89%8D%E6%9C%BA%E5%99%A8%E4%B8%8A%E6%89%80%E6%9C%89%E6%9C%8D%E5%8A%A1%E4%B9%9F%E8%A2%AB%E6%A0%87%E8%AE%B0%E6%88%90%E6%8C%82%E4%BA%86%0A2.%20pushgateway%E4%BF%9D%E5%AD%98%E6%89%80%E6%9C%89%E6%95%B0%E6%8D%AE%EF%BC%8C%E8%80%8C%E7%94%A8%E6%88%B7%E7%9A%84%E8%87%AA%E6%9C%89%E6%9C%8D%E5%8A%A1%E5%8D%B3%E4%BD%BF%E9%87%8D%E5%90%AF%EF%BC%8C%E4%B9%8B%E5%89%8D%E7%9A%84metric%E6%95%B0%E6%8D%AE%E4%BE%9D%E7%84%B6%E5%AD%98%E5%9C%A8%E4%BA%8Epush\_gateway%E4%B8%AD%E3%80%82%0A%3E%E9%87%8D%E5%90%AFpush%20getway%EF%BC%8C%E4%B9%8B%E5%89%8D%E7%9A%84metric%E6%95%B0%E6%8D%AE%E4%BC%9A%E6%B6%88%E5%A4%B1%E3%80%82%E4%B9%9F%E5%8F%AF%E4%BB%A5%E9%80%9A%E8%BF%87%E6%8E%A5%E5%8F%A3%E6%89%8B%E5%8A%A8%E5%88%A0%E9%99%A4%0A3.%20%E5%9B%A0%E4%B8%BAushgateway%E8%81%9A%E5%90%88%E4%BA%86%E4%B8%80%E5%8F%B0%E6%9C%BA%E5%99%A8%E4%B8%8A%E6%89%80%E6%9C%89%E7%9A%84%E7%94%A8%E6%88%B7%E6%9C%8D%E5%8A%A1%EF%BC%8C%E5%B9%B6%E4%B8%94%E6%9C%89%E6%97%A7%E6%95%B0%E6%8D%AE%EF%BC%8C%E9%82%A3%E4%B9%88%E5%BD%93%E6%9F%90%E4%B8%AA%E6%9C%8D%E5%8A%A1%E6%8C%82%E4%BA%86%EF%BC%8Cpushgataway%E4%BE%9D%E7%84%B6%E8%BF%98%E4%BC%9A%E6%8A%8A%E8%AF%A5%E6%9C%8D%E5%8A%A1%E7%9A%84%E6%97%A7%E6%95%B0%E6%8D%AE%E6%8E%A8%E9%80%81%E5%88%B0prometheus%E4%B8%AD%EF%BC%8C%E4%B8%94prometheus%E4%BE%9D%E7%84%B6%E8%AE%A4%E4%B8%BA%E8%AF%A5%E6%9C%8D%E5%8A%A1%E6%98%AF%E6%AD%A3%E5%B8%B8%E7%9A%84%E3%80%82%0A%0A%E4%B8%8B%E8%BD%BD%E5%AE%89%E8%A3%85%E5%8C%85%2F%E8%A7%A3%E5%8E%8B%0A%E5%90%AF%E5%8A%A8%EF%BC%9A%0A%3E.%2Fpushgateway%20\-\-web.listen\-address%3D%220.0.0.0%3A9091%22%20\-\-web.telemetry\-path%3D%22%2Fmetrics%22%20\-\-persistence.interval%3D1m%20%0A%0A\-\-persistence.file%3D%22persistence\-data%22%0A%0A%E6%9F%A5%E7%9C%8B%E4%B8%8B%E6%95%88%E6%9E%9C%0A%3Ehttp%3A%2F%2F8.142.177.235%3A9091%0A%0A%E8%87%AA%E5%B7%B1%E7%9A%84%E4%B8%80%E4%BA%9B%E4%BF%A1%E6%81%AF%0A%3Ehttp%3A%2F%2F8.142.177.235%3A9091%2Fmetrics%0A%0A%E7%9B%91%E6%8E%A7nginx%3A%0A\-\-\-\-\-%0Anginx%20%E6%B7%BB%E5%8A%A0%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%EF%BC%9A%0A%0A%0A%20%20%20%20%20%20%20%20location%20~%20%5E%2F\(status%7Cping\)%24%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20fastcgi\_pass%20127.0.0.1%3A9000%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20fastcgi\_param%20SCRIPT\_FILENAME%20%24document\_root%24fastcgi\_script\_name%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20include%20fastcgi\_params%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%0Aphp%E4%BF%AE%E6%94%B9%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%EF%BC%9A%0A%0Apm.status\_path%20%3D%20%2Fstatus%0A%0A%20%E9%87%8D%E5%90%AF%EF%BC%8C%0A%0Ahttp%3A%2F%2F114.55.2.201%2FNginxstatus%0Ahttp%3A%2F%2F114.55.2.201%2Fstatus%0A%0A%E7%9B%91%E6%8E%A7%20php\-fpm%0A%0Ahttps%3A%2F%2Fgithub.com%2Fbakins%2Fphp\-fpm\-exporter%2Freleases%0A%E8%A2%AB%E7%9B%91%E6%8E%A7%E7%9A%84%E6%9C%BA%E5%99%A8%E5%AE%89%E8%A3%85php\-fpm\-exporter%0A%0A%2F%2F\-\-addr%3A%E7%9B%91%E5%90%AC%E6%9C%AC%E6%9C%BA%E7%AB%AF%E5%8F%A3%EF%BC%8C%E4%BE%9B%E8%BF%9C%E6%96%B9%E7%9A%84prometheus%20%E8%B0%83%E7%94%A8%20%0A%2F%2Fendpoint%20%3A%E8%A6%81%E7%9B%91%E6%8E%A7%E7%9A%84php\-fpm%0A%0A%2Fsoft%2Fphp\-fpm\-exporter%20\-\-addr%200.0.0.0%3A8000%20\-\-endpoint%20http%3A%2F%2F127.0.0.1%2Fstatus%20%0A%0A%0A%20%20\-%20job\_name%3A%20'php\-fpm'%0A%20%20%20%20static\_configs%3A%0A%20%20%20%20\-%20targets%3A%20%5B'114.55.2.201%3A8182'%5D%0A%0A%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%0A%0A%0A%E6%8A%A5%E8%AD%A6%2F%E9%A2%84%E8%AD%A6%E7%AD%96%E7%95%A5%0A\-\-\-%0A%E7%9B%91%E6%8E%A7%E5%AE%9E%E4%BD%93%E5%88%86%E7%B1%BB%0A%0A%7C%20%E7%B1%BB%E5%9E%8B%20%7C%20%E7%9B%91%E6%8E%A7%E6%8C%87%E6%A0%87%20%20%7C%E5%A4%87%E6%B3%A8%7C%0A%7C%20\-\-\-%20%7C%20\-\-\-%20%7C\-\-%7C%0A%7C%20%E6%9C%8D%E5%8A%A1%E5%99%A8%20%7C%20CPU%2F%E5%86%85%E5%AD%98%2F%E7%BD%91%E7%BB%9C%2F%E7%A1%AC%E7%9B%98%E8%B4%9F%E8%BD%BD%E9%AB%98%E3%80%81%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%AE%95%E6%9C%BA%20%7Ccentos%7C%0A%7C%E8%87%AA%E7%A0%94%E6%9C%8D%E5%8A%A1%7C%E8%BF%9B%E7%A8%8B%E6%84%8F%E5%A4%96%E9%80%80%E5%87%BA%E3%80%81%E8%B4%9F%E8%BD%BD%E9%AB%98%E3%80%81%E8%BF%90%E8%A1%8C%E6%97%B6%E5%BC%82%E5%B8%B8%7Cgolang%20php%20java%7C%0A%7C%E5%BC%80%E6%BA%90%E8%BD%AF%E4%BB%B6\-%E8%87%AA%E5%BB%BA%7C%E8%BF%9B%E7%A8%8B%E6%84%8F%E5%A4%96%E9%80%80%E5%87%BA%E3%80%81%E8%B4%9F%E8%BD%BD%E9%AB%98%E3%80%81%E8%BF%90%E8%A1%8C%E6%97%B6%E5%BC%82%E5%B8%B8%7Cnginx%20apache%20rabbitmq%7C%0A%7C%E5%BC%80%E6%BA%90%E8%BD%AF%E4%BB%B6\-3%E6%96%B9%7C%E8%BF%9B%E7%A8%8B%E6%84%8F%E5%A4%96%E9%80%80%E5%87%BA%E3%80%81%E8%B4%9F%E8%BD%BD%E9%AB%98%E3%80%81%E8%BF%90%E8%A1%8C%E6%97%B6%E5%BC%82%E5%B8%B8%7Clbs%20mysql%20redis%7C%0A%0A%E8%A7%A6%E5%8F%91%E7%B1%BB%E5%9E%8B%0A%7C%20%E7%B1%BB%E5%9E%8B%20%7C%20%E7%9B%91%E6%8E%A7%E6%8C%87%E6%A0%87%20%20%7C%E8%8E%B7%E5%8F%96%E6%96%B9%E5%BC%8F%7C%E6%96%B9%E5%BC%8F%7C%0A%7C%20\-\-\-%20%7C%20\-\-\-%20%7C\-\-%7C\-\-%7C%0A%7C%20%E8%A2%AB%E5%8A%A8%20%7C%E8%BF%9B%E7%A8%8B%E6%84%8F%E5%A4%96%E9%80%80%E5%87%BA%E3%80%81%E8%B4%9F%E8%BD%BD%E9%AB%98%E3%80%81%E8%BF%90%E8%A1%8C%E6%97%B6%E5%BC%82%E5%B8%B8%7C%E4%BB%8E%E6%97%A5%E5%BF%97DB%E4%B8%AD%E5%88%86%E6%9E%90%20%7Cpull%7C%0A%7C%20%E4%B8%BB%E5%8A%A8%20%7C%E7%A8%8B%E5%BA%8F%E4%B8%AD%E6%89%A7%E8%A1%8C%E4%B8%AD%20%E5%8F%91%E7%94%9F%E4%BA%86%E9%94%99%E8%AF%AF%EF%BC%8C%E7%A8%8B%E5%BA%8F%E5%91%98%E8%83%BD%E7%9B%B4%E6%8E%A5%E6%8D%95%E8%8E%B7%E5%88%B0%20%7C%E9%80%9A%E8%BF%87HTTP%E7%9B%B4%E6%8E%A5%E6%8E%A8%E9%80%81%7Cpush%7C%0A%0A%E5%88%86%E6%9E%90%0A%3E%E4%B8%BB%E5%8A%A8%EF%BC%9A%E9%9C%80%E8%A6%81%E6%8F%90%E4%BE%9B%E4%B8%80%E4%B8%AAHTTP%20SERVER%20API%E6%8E%A5%E5%8F%A3%0A%3E%E8%A2%AB%E5%8A%A8%EF%BC%9A%E9%9C%80%E8%A6%81%E6%9C%89TSDB%E4%B8%BB%E5%8A%A8%E5%8E%BB%E6%94%B6%E9%9B%86%E6%95%B0%E6%8D%AE%E5%B9%B6%E5%AD%98%E5%82%A8%EF%BC%8C%E5%86%8D%E5%8A%A0%E4%B8%8A%E5%88%86%E6%9E%90%EF%BC%8C%E6%9C%80%E7%BB%88%E6%8E%A8%E9%80%81%E7%BB%99%E6%8A%A5%E8%AD%A6%E5%99%A8%0A%0A%E6%A0%B8%E5%BF%83%0A1.%20%E6%97%A5%E5%BF%97DB%EF%BC%8C%E5%8F%AF%E5%AD%98%E5%82%A8%E7%9B%91%E6%8E%A7%E5%AE%9E%E4%BD%93%E7%9A%84%E6%97%A5%E5%B8%B8%E6%95%B0%E6%8D%AE%0A2.%20%E5%88%86%E6%9E%90%E6%97%A5%E5%BF%97%EF%BC%8C%E6%9C%89%E6%8A%A5%E8%AD%A6%E7%AD%96%E7%95%A5%0A3.%20web%20service%E6%8E%A5%E6%94%B6%E6%8A%A5%E8%AD%A6%0A4.%20%E6%8A%A5%E8%AD%A6%E6%8E%A8%E9%80%81%E9%80%9A%E7%9F%A5%EF%BC%8C%E5%BE%AE%E4%BF%A1%20%E9%82%AE%E4%BB%B6%20SMS%20webhook%0A5.%20UI%0A%0A%3E%E6%97%A5%E5%BF%97DB%E5%8F%8A%E6%97%A5%E5%BF%97%E5%88%86%E6%9E%90%EF%BC%8Cprometheus%E5%8F%AF%E5%A4%84%E7%90%86%EF%BC%8C%E5%89%A9%E4%B8%8B%E5%B0%B1%E6%98%AF%E6%9C%89%E4%B8%AAservice%EF%BC%9A%E6%8A%A5%E8%AD%A6%E6%8E%A5%E6%94%B6%E5%99%A8%EF%BC%8Calertmanager%E5%8D%B3%E5%8F%AF%E3%80%82%0A%0A%0Aalertmanager%0A\-\-\-\-\-%0A%E5%AE%89%E8%A3%85%E6%8A%A5%E8%AD%A6%E6%8F%92%E4%BB%B6%0A%0A%3Ehttps%3A%2F%2Fgithub.com%2Fprometheus%2Falertmanager%2Freleases%2Fdownload%2Fv0.21.0%2Falertmanager\-0.21.0.linux\-amd64.tar.gz%0A%0A%0Aprometheus%20%3C\-%20Rules%20\-%3E%20Alertmanager%20\-%3EGroup%20\-%3E%20Routing%20\-%3Ereceiver%0A%0A%60%60%60mermaid%0Agraph%20LR%0Aprometheus\-Rules%20\-\-%3E%7C%E5%88%86%E6%9E%90%E6%95%B0%E6%8D%AE%7C%20tsdb%0Aprometheus\-Rules%20%20\-\-%3E%20%7C%E6%8E%A8%E9%80%81%E6%8A%A5%E8%AD%A6%7CAlertmanager%0AAlertmanager%20\-\-%3E%7C%E5%8C%B9%E9%85%8D%7Croute%0Aroute%20\-\-%3E%7C%E8%BF%9B%E8%A1%8C%E5%88%86%E7%BB%84%7C%20Group%0AGroup%20\-\-%3E%7C%E8%B7%AF%E7%94%B1%7CRouting%0ARouting%20\-\-%3E%7C%E6%8E%A5%E6%94%B6%E5%99%A8%7C%20receiver%0Areceiver%20\-\-%3E%20%20Email%0Areceiver%20\-\-%3E%20%20webhook%0Areceiver%20\-\-%3E%20%20%E9%92%89%E9%92%89%0Areceiver%20\-\-%3E%20%20%E5%BE%AE%E4%BF%A1%0A%60%60%60%0A%0A%0A%7C%20%E6%8F%8F%E8%BF%B0%20%7Ckey%20%20%7C%E8%AF%B4%E6%98%8E%7C%0A%7C%20\-\-\-%20%7C%20\-\-\-%20%7C\-\-%7C%0A%7C%20%E5%85%A8%E5%B1%80%E9%85%8D%E7%BD%AE%20%7Cglobal%7C%20%E7%94%A8%E4%BA%8E%E5%AE%9A%E4%B9%89%E4%B8%80%E4%BA%9B%E5%85%A8%E5%B1%80%E7%9A%84%E5%85%AC%E5%85%B1%E5%8F%82%E6%95%B0%EF%BC%8C%E5%A6%82%E5%85%A8%E5%B1%80%E7%9A%84SMTP%E9%85%8D%E7%BD%AE%EF%BC%8CSlack%E9%85%8D%E7%BD%AE%E7%AD%89%E5%86%85%E5%AE%B9%20%7C%0A%7C%20%E6%A8%A1%E6%9D%BF%20%7Ctemplates%7C%20%E7%94%A8%E4%BA%8E%E5%AE%9A%E4%B9%89%E5%91%8A%E8%AD%A6%E9%80%9A%E7%9F%A5%E6%97%B6%E7%9A%84%E6%A8%A1%E6%9D%BF%EF%BC%8C%E5%A6%82HTML%E6%A8%A1%E6%9D%BF%EF%BC%8C%E9%82%AE%E4%BB%B6%E6%A8%A1%E6%9D%BF%E7%AD%89%EF%BC%9B%20%7C%0A%7C%20%E5%91%8A%E8%AD%A6%E8%B7%AF%E7%94%B1%20%7Croute%7C%20%E6%A0%B9%E6%8D%AE%E6%A0%87%E7%AD%BE%E5%8C%B9%E9%85%8D%EF%BC%8C%E7%A1%AE%E5%AE%9A%E5%BD%93%E5%89%8D%E5%91%8A%E8%AD%A6%E5%BA%94%E8%AF%A5%E5%A6%82%E4%BD%95%E5%A4%84%E7%90%86%EF%BC%9B%20%7C%0A%7C%20%E6%8E%A5%E6%94%B6%E4%BA%BA%20%7Creceivers%7C%E6%8E%A5%E6%94%B6%E4%BA%BA%E6%98%AF%E4%B8%80%E4%B8%AA%E6%8A%BD%E8%B1%A1%E7%9A%84%E6%A6%82%E5%BF%B5%EF%BC%8C%E5%AE%83%E5%8F%AF%E4%BB%A5%E6%98%AF%E4%B8%80%E4%B8%AA%E9%82%AE%E7%AE%B1%E4%B9%9F%E5%8F%AF%E4%BB%A5%E6%98%AF%E5%BE%AE%E4%BF%A1%EF%BC%8CSlack%E6%88%96%E8%80%85Webhook%E7%AD%89%EF%BC%8C%E6%8E%A5%E6%94%B6%E4%BA%BA%E4%B8%80%E8%88%AC%E9%85%8D%E5%90%88%E5%91%8A%E8%AD%A6%E8%B7%AF%E7%94%B1%E4%BD%BF%E7%94%A8%EF%BC%9B%7C%0A%7C%E6%8A%91%E5%88%B6%E8%A7%84%E5%88%99%7Cinhibit\_rules%7C%E5%90%88%E7%90%86%E8%AE%BE%E7%BD%AE%E6%8A%91%E5%88%B6%E8%A7%84%E5%88%99%E5%8F%AF%E4%BB%A5%E5%87%8F%E5%B0%91%E5%9E%83%E5%9C%BE%E5%91%8A%E8%AD%A6%E7%9A%84%E4%BA%A7%E7%94%9F%7C%0A%0Avim%20alertmanager.yml%0A%0A%0A%60%60%60%0Aglobal%3A%0A%20%20resolve\_timeout%3A%205m%20%23%E8%AF%A5%E5%8F%82%E6%95%B0%E5%AE%9A%E4%B9%89%E4%BA%86%E5%BD%93Alertmanager%E6%8C%81%E7%BB%AD%E5%A4%9A%E9%95%BF%E6%97%B6%E9%97%B4%E6%9C%AA%E6%8E%A5%E6%94%B6%E5%88%B0%E5%91%8A%E8%AD%A6%E5%90%8E%E6%A0%87%E8%AE%B0%E5%91%8A%E8%AD%A6%E7%8A%B6%E6%80%81%E4%B8%BAresolved%EF%BC%88%E5%B7%B2%E8%A7%A3%E5%86%B3%EF%BC%89%0A%20%20smtp\_smarthost%3A%20'smtp.qq.com%3A25'%0A%20%20smtp\_from%3A%20'78878296%40qq.com'%0A%20%20smtp\_auth\_username%3A%20'78878296%40qq.com'%0A%20%20smtp\_auth\_password%3A%20'zhifu123'%0A%0Aroute%3A%0A%20%20group\_by%3A%20%5B'alertname'%5D%20%23%E6%A0%B9%E6%8D%AEalertname%E8%BF%9B%E8%A1%8C%E5%88%86%E7%BB%84%0A%20%20group\_wait%3A%201s%20%23%E8%A2%AB%E5%88%86%E7%BB%84%E5%90%8E%E7%9A%84%E8%AD%A6%E5%91%8A%EF%BC%8C%E7%AD%89%E5%BE%85%E5%A4%9A%E4%B9%85%EF%BC%8C%E7%9C%9F%E5%AE%9E%E5%8F%91%E9%80%81%E8%AD%A6%E5%91%8A\(%E4%B8%80%E4%B8%AA%E5%91%A8%E6%9C%9F%E5%86%85%E6%94%B6%E9%9B%86%E8%8B%A5%E5%B9%B2%E8%AD%A6%E5%91%8A%EF%BC%8C%E7%BB%9F%E4%B8%80%E5%8F%91%E9%80%81%E4%B8%80%E6%9D%A1%E5%B0%B1%E5%A4%9F%E4%BA%86\)%0A%20%20group\_interval%3A%2010s%20%20%20%23%E4%B9%8B%E5%89%8D%E5%B7%B2%E5%8F%91%E9%80%81%E4%BA%86%E4%B8%80%E6%AC%A1%E8%AD%A6%E5%91%8A%E5%90%8E%EF%BC%8C%E5%86%8D%E7%AD%89%E5%BE%85%E5%A4%9A%E4%B9%85%E5%90%8E%EF%BC%8C%E5%86%8D%E5%8F%91%E8%AD%A6%E5%91%8A%0A%20%20repeat\_interval%3A%205s%0A%20%20receiver%3A%20'web.hook'%0Areceivers%3A%0A\-%20name%3A%20'web.hook'%0A%20%20webhook\_configs%3A%0A%20%20\-%20url%3A%20'http%3A%2F%2F127.0.0.1%3A8088%2Falert.php'%0A%23inhibit\_rules%3A%0A%23%20%20\-%20source\_match%3A%0A%23%20%20%20%20%20%20severity%3A%20'critical'%0A%23%20%20%20%20target\_match%3A%0A%23%20%20%20%20%20%20severity%3A%20'warning'%0A%23%20%20%20%20equal%3A%20%5B'alertname'%2C%20'dev'%2C%20'instance'%5D%0A%60%60%60%0A%0A%0A%E6%A3%80%E6%9F%A5%E4%B8%80%E4%B8%8B%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%0A%3E.%2Famtool%20check\-config%20alertmanager.yml%0A%20%20%0A%E5%90%AF%E5%8A%A8%0A%3E.%2Falertmanager%20\-\-config.file%3Dalertmanager.yml%20%20%0A%0A%E9%AA%8C%E8%AF%81%E6%98%AF%E5%90%A6%E6%88%90%E5%8A%9F%EF%BC%8C%E6%9F%A5%E7%9C%8BUI%0A%3Ehttp%3A%2F%2F59.110.167.206%3A9093%2F%0A%0Avim%20prometheus.yml%0A%0A%E6%B7%BB%E5%8A%A0%E5%A6%82%E4%B8%8B%20%20%0A%0A%60%60%60%0Aalerting%3A%0A%20%20alertmanagers%3A%20%20%23%20%E9%85%8D%E7%BD%AEalertmanager%0A%20%20\-%20static\_configs%3A%0A%20%20%20%20\-%20targets%3A%0A%20%20%20%20%20%20\-%20127.0.0.1%3A9093%20%20%23alertmanager%E6%9C%8D%E5%8A%A1%E5%99%A8ip%E7%AB%AF%E5%8F%A3%0Arule\_files%3A%0A%20%20\-%20%22first\_rules.yml%22%0A%0A%60%60%60%0Atouch%20first\_rules.yml%0A%60%60%60%0Agroups%3A%0A\-%20name%3A%20nodeup%0A%20%20rules%3A%0A%20%20\-%20alert%3A%20nodeup%0A%20%20%20%20expr%3A%20up%7Bjob%3D%22share\_linux\_os\_node%22%7D%20%3D%3D%200%0A%20%20%20%20for%3A%205s%0A%20%20%20%20labels%3A%0A%20%20%20%20%20%20severity%3A%20test%0A%20%20%20%20%20%20%23team%3A%20node%0A%20%20%20%20annotations%3A%0A%20%20%20%20%20%20summary%3A%20%22%7B%7B%20%24labels.instance%20%7D%7D%20%E5%B7%B2%E5%81%9C%E6%AD%A2%E8%BF%90%E8%A1%8C%E8%B6%85%E8%BF%87%2015s%EF%BC%81%22%0A%60%60%60%0A.%2Fpromtool%20check%20rules%20rules%2Fnode.yml%0A%0A.%2Famtool%20check\-config%20alertmanager.yml%0A%0A%0A%E9%87%8D%E5%90%AFprometheus%0A%0A%0A%E9%85%8D%E7%BD%AE%E5%AE%8C%E6%88%90%20%E5%90%8E%EF%BC%8Cprometheus%20UI%20%E6%9F%A5%E7%9C%8B%20%E4%B8%8B%20alert%20%E7%9A%84status%0A%0A%3Eunkown%EF%BC%9A%E5%88%9A%E5%90%AF%E5%8A%A8%EF%BC%8C%E5%88%9D%E5%A7%8B%E5%8C%96%E7%8A%B6%E6%80%81%20%20%0A%3Enactive%EF%BC%9A%E8%BF%99%E9%87%8C%E4%BB%80%E4%B9%88%E9%83%BD%E6%B2%A1%E6%9C%89%E5%8F%91%E7%94%9F%20%20%0A%3EPending%EF%BC%9A%E5%B7%B2%E8%A7%A6%E5%8F%91%E9%98%88%E5%80%BC%EF%BC%8C%E4%BD%86%E6%9C%AA%E6%BB%A1%E8%B6%B3%E5%91%8A%E8%AD%A6%E6%8C%81%E7%BB%AD%E6%97%B6%E9%97%B4%EF%BC%88%E5%8D%B3rule%E4%B8%AD%E7%9A%84for%E5%AD%97%E6%AE%B5%EF%BC%89%20%20%0A%3EFiring%EF%BC%9A%E5%B7%B2%E8%A7%A6%E5%8F%91%E9%98%88%E5%80%BC%E4%B8%94%E6%BB%A1%E8%B6%B3%E5%91%8A%E8%AD%A6%E6%8C%81%E7%BB%AD%E6%97%B6%E9%97%B4%E3%80%82%E8%AD%A6%E6%8A%A5%E5%8F%91%E9%80%81%E5%88%B0Notification%20%3E%20Pipeline%EF%BC%8C%E7%BB%8F%E8%BF%87%E5%A4%84%E7%90%86%EF%BC%8C%E5%8F%91%E9%80%81%E7%BB%99%E6%8E%A5%E5%8F%97%E8%80%85%E8%BF%99%E6%A0%B7%E7%9B%AE%E7%9A%84%E6%98%AF%E5%A4%9A%E6%AC%A1%E5%88%A4%E6%96%AD%E5%A4%B1%E8%B4%A5%E6%89%8D%E5%8F%91%E5%91%8A%E8%AD%A6%EF%BC%8C%E5%87%8F%E5%B0%91%E9%82%AE%E4%BB%B6%E3%80%82%20%20%0A%0A%E5%86%8D%E5%8E%BBalertmanager%20%E7%9C%8B%E7%9C%8B%E6%98%AF%E5%90%A6%E6%94%B6%E5%88%B0%E6%8A%A5%E8%AD%A6%20%20%0A%0A%0A%0A%E4%B8%BB%E5%8A%A8%E4%B8%8A%E6%8A%A5alertmanager%0A\-\-\-%0A%0A%0A%0A%E6%80%BB%E7%BB%93%0A\-\-\-\-\-%0A%E4%B8%8D%E7%9F%A5%E9%81%93%E6%98%AF%E4%B8%8D%E6%98%AF%E8%A2%ABJAVA%E7%B3%BB%E6%B4%97%E8%84%91%E4%BA%86%EF%BC%8C%E8%BF%98%E6%98%AF%E8%AF%B4prometheus%E5%A4%AA%E5%A5%BD%E4%BA%86%EF%BC%8C%E5%AE%83%E4%B8%8D%E4%BB%85%E4%BB%85%E6%98%AF%E6%94%B6%E9%9B%86%E6%95%B0%E6%8D%AEUI%E5%8C%96%EF%BC%8C%E8%BF%98%E8%83%BD%E6%8A%A5%E8%AD%A6%EF%BC%8C%E4%B9%9F%E5%B0%B1%E6%98%AF%E5%B9%B2%E4%BA%86%E7%9B%91%E6%8E%A7%E7%9A%84%E4%BA%8B%E5%84%BF%EF%BC%8C%E5%83%8F%E4%B9%8B%E5%89%8D%E7%9A%84%20nagios%20zaabix%20%E5%9F%BA%E6%9C%AC%E5%8F%AF%E4%BB%A5%E6%94%BE%E5%BC%83%E4%BA%86%E3%80%82%0A%0A%E5%8F%A6%E5%A4%96%EF%BC%8C%E5%86%8D%E9%85%8D%E5%90%88grafana%E7%A1%AE%E5%AE%9E%E7%94%A8%E7%9A%84%E6%8C%BA%E7%88%BD%E3%80%82
