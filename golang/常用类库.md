# 常用类库

## viper

**描述**：解析/读取 配置文件。如：支持的文件类型格式较多，自带解析功能。支持的数据源较多。最终，所有的配置信息解析成map后，统一存储在一个变量中，方便统计管理和程序员调取。

**支持文件格式类型：**

1. json
2. yaml
3. toml
4. hcl
5. env
6. cmd
7. Java properties

> json yaml toml java\-properties这个就不我解释了。

env:从LINUX系统环境变量中取值

cmd:从指令行中读取启动参数，使用 flags 映射

hcl:不知道这鬼东西是啥...

**数据源读取方式**

1. 本地文件
2. 指令行参数
3. 系统环境变量
4. 已打开的IO流
5. 远程直接读取数据流

**watching**

监听配置文件变化，动态加载。这个功能挺方便

**远程调取**

说是可以从consul etcd 拉取，挺方便....

总结下：能读取99%的外部配置数据流，并保存于一个类中，供程序员直接使用。挺方便的

**优点**

1. 整合了的像：系统变量、指令行数据等松散的数据
2. 帮忙解析特殊格式类型的配置文件体。如：yaml toml json
3. 所有数据读取完成后，在一个统一的类中，统一管理使用。
4. 动态监控文件变化
5. 读取远程配置文件

**缺点**

好像不支持多配置文件，如：一个目录下有N个配置文件都要加载。不过，可以通过多实例，每一个实例是一个配置文件来解决

## mapstructure

将一个map结构转换到某一个结构体内，支持在结构里直接使用TAG标识解析。

没太想明白这东西最大的用处是啥... 自己封装一个方法，直接json decode不就得了，而且，如果直接映射到一个结构体，该结构还是一个类，初始化是不是有点草率...

## file\-rotatelogs

github.com/lestrrat\-go/file\-rotatelogs

文件翻滚切割

## zap

user 开源的一个log 库，好强大...

模块化很细，像：文件的IO有专门的类，支持HASH，还有软连....文件翻滚

自定义内容的选项

可输出到屏幕\+文件，多源写入

支持颜色

支持内容类型，如：JSON

居然还支持 规格调试

## grom

## cron

github.com/robfig/cron/v3

## GIN

一个WEB\-SERVICE。

## Casbin

表面看：挺牛逼的一个东西，实际看：没啥区别...

优点：

1. 支持多语言
2. 有论文
3. 支持RBAC ABAC 多种算法
4. 自定义了一种PML语法
5. 自定义了PERM组织关系

缺点：

1. 项目复杂度变高
2. 加大学习、使用、配置等 维护成本

> 总结：有几个人，专门研究权限控制这一领域，还写了论文。

**PML**:一种基于解释器的Web服务访问控制策略语言

**PERM:**

|英文    |中文     |描述                                        |
|--------|---------|--------------------------------------------|
|policy  |策略     |定义policy.cvs文件中的字段顺序              |
|effect  |效果/影响|定义组合了多个 Policy 之后的结果, allow/deny|
|request |请求     |访问请求, 也就是谁想操作什么                |
|matchers|匹配器   |确定policy与request的比对结果               |
|role    |角色     |定义用户角色时使用                          |

> 讽刺的是，它只支持一个p，如果再有个P2不支持...

**大体上的实现流程**

两个配置文件：perm.conf \+ policy.cvs

perm.conf:定义整个权限控制算法规则的配置信息

policy.cvs:是具体某个用户有哪个些权限

PML用来解析两个配置文件

流程图，如下：

1. 管理员 配置 perm.conf \+ policy.cvs
2. 程序员 启动casbin程序，PML加载两个配置文件
3. 用户请求资源，casbin根据两个根本文件进行计算

perm.conf:

```
# Request definition
[request_definition]
r = subject, obj, act

# Policy definition
[policy_definition]
p = subject, obj, act
p2 = subject, act

# Policy effect
[policy_effect]
e = some(where (p.eft == allow))

# Matchers
[matchers]
m = r.subject == p.subject && r.obj == p.obj && r.act == p.act

[role_definition]
g = _, _

```

policy.cvs

```
p, alice, data1, read
p, bob, data2, write
```

perm.conf是基础语法定义，基本上一次定义基本不变，而policy.cvs是对perm.conf的数据补充，而policy.cvs是经常变的，而且要存DB的。

**分析PERM**

request:感觉是对资源的层级定义，可以定义N级，如：

```
order-coupon-add
public-user-login
private-logn-add
```

也可以映射到的URL的请求地址中

```
/order/coupon/add
/public/user/login
/private/logn/add
```

作用：定义资源，并做成层级结构，方便拆分与管理，具体如何定义看使用方，如：

1. 模块/模型/动作
2. 用户/模型/动作

> 基本上3层结构能满足大部分的需求了

**具体流程**

1. 管理员 先定义 资源，即：资源是几层，给每层加上tag\(subject obj act\)

> request= subject obj act

这就是定义了一个三层的资源

> 定义好的层数其实也是请求参数，即：当过来一个请求，你调用casbin方法验证，验证的这个方法的参数个数

1. 然后是，赋值之前的前置工作，得给policy.csv 做下字段说明,好让PML能解析成功

> p = act,obj,subject

这就是说在读取policy.cvs 文件的时候，里面的字段是按照这种顺序存储的

1. 然后，是给这个资源赋值，即：\<谁有这样的权限\>，\(这个保存在policy.csv中\)
    1. p , edit,user,zhangsan
    2. p , del ,user,zhangsan

> 以上：张三 访问user资源，有编辑和删除的功能

> 以上就定义好了：\<资源\>和\<谁有这样的权限\>

1. 定义两者的匹配公式

> \(这里直接用等号判断不就结了，还搞个匹配公式，真是麻烦\)

例子：

> m = r.subject == p.subject && r.obj == p.obj && r.act == p.act

这是最简单的，就是等号判断，既然定义了三层资源结构，那就直接与配置好的\<谁有这样的权限\>一一做判断.

> matching公式最后匹配的结果保存在：p.eft中

至此，最简单的ACL就可以了，下面是复杂的设计

1. 定义多条相同的rule，policy.csv添加如下：
    p , edit,user,zhangsan,allow
    p , edit,user,zhangsan,deny
    定义了2条相同的rule，但是返回是不一样的
    修改下perm.conf
    p = subject, obj, act ,eft
    这样如果r给出：edit,user,zhangsan ,matching将会得出2个结果，allow 和deny
    然后policy\_effect就登场了
2. policy\_effect设置成，当matching匹配出多个结果的时候，再进行一次匹配，得出最终结果
    它其实规定死了，就4个表达式：
    some\(where \(p.eft == allow\)\)
    \!some\(where \(p.eft == deny\)\)
    some\(where \(p.eft == allow\)\) && \!some\(where \(p.eft == deny\)\)
    priority\(p.eft\) || deny
    subjectPriority\(p.eft\)
3. 角色，上面都是基于传统ACL，得加入角色转换成RBAC,修改：perm.conf

```
[role_definition]
g = _, _
[matchers]
m = g(r.sub, p.sub) && r.obj == p.obj && r.act == p.act
```

> g = \_, \_ = 用户,组名

修改policy.cvs:

zhangsan,admin

g\(r.sub, p.sub\): 将zhangsan转换成admin

> 这里有个有趣的：访问的时候即可以使用组名也可以使用用户名

g = \_, \_, \_

> 这个也挺有意思:用户/组/域，也就是它的角色支持3级，如：用户/组/商户

最终的流程是

1. 第一次，需要管理员 注册request资源，配置好policy字段顺序，然后写好match公式，
2. 基本上就不用动了，其它的都是动态修改policy.cvs

**总结**

它实现了：将各个模块完全剥离出来，各自玩各自的，通过配置文件再组合起来。减少耦合，增加扩展性，尤其像：支持用户ID和组ID同时匹配、角色支持3级。

> 感觉，基本上这东西跟apahc nginx 的rewrite 差不多。

结果：

1. 忽略掉学习成本，也就是已经熟悉了该模式，并能给别人讲明白原理
2. 自己能熟悉使用该类库
3. 可以使用，挺方便，主要不用写代码了...扩展性也好

w

viper%0A\-\-\-\-\-%0A\*\*%E6%8F%8F%E8%BF%B0\*\*%EF%BC%9A%E8%A7%A3%E6%9E%90%2F%E8%AF%BB%E5%8F%96%20%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E3%80%82%E5%A6%82%EF%BC%9A%E6%94%AF%E6%8C%81%E7%9A%84%E6%96%87%E4%BB%B6%E7%B1%BB%E5%9E%8B%E6%A0%BC%E5%BC%8F%E8%BE%83%E5%A4%9A%EF%BC%8C%E8%87%AA%E5%B8%A6%E8%A7%A3%E6%9E%90%E5%8A%9F%E8%83%BD%E3%80%82%E6%94%AF%E6%8C%81%E7%9A%84%E6%95%B0%E6%8D%AE%E6%BA%90%E8%BE%83%E5%A4%9A%E3%80%82%E6%9C%80%E7%BB%88%EF%BC%8C%E6%89%80%E6%9C%89%E7%9A%84%E9%85%8D%E7%BD%AE%E4%BF%A1%E6%81%AF%E8%A7%A3%E6%9E%90%E6%88%90map%E5%90%8E%EF%BC%8C%E7%BB%9F%E4%B8%80%E5%AD%98%E5%82%A8%E5%9C%A8%E4%B8%80%E4%B8%AA%E5%8F%98%E9%87%8F%E4%B8%AD%EF%BC%8C%E6%96%B9%E4%BE%BF%E7%BB%9F%E8%AE%A1%E7%AE%A1%E7%90%86%E5%92%8C%E7%A8%8B%E5%BA%8F%E5%91%98%E8%B0%83%E5%8F%96%E3%80%82%0A%0A\*\*%E6%94%AF%E6%8C%81%E6%96%87%E4%BB%B6%E6%A0%BC%E5%BC%8F%E7%B1%BB%E5%9E%8B%EF%BC%9A\*\*%0A1.%20json%0A2.%20yaml%0A3.%20toml%0A4.%20hcl%0A5.%20env%0A6.%20cmd%0A7.%20Java%20properties%0A%0A%3Ejson%20yaml%20toml%20java\-properties%E8%BF%99%E4%B8%AA%E5%B0%B1%E4%B8%8D%E6%88%91%E8%A7%A3%E9%87%8A%E4%BA%86%E3%80%82%0A%0Aenv%3A%E4%BB%8ELINUX%E7%B3%BB%E7%BB%9F%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E4%B8%AD%E5%8F%96%E5%80%BC%0Acmd%3A%E4%BB%8E%E6%8C%87%E4%BB%A4%E8%A1%8C%E4%B8%AD%E8%AF%BB%E5%8F%96%E5%90%AF%E5%8A%A8%E5%8F%82%E6%95%B0%EF%BC%8C%E4%BD%BF%E7%94%A8%20flags%20%E6%98%A0%E5%B0%84%20%0Ahcl%3A%E4%B8%8D%E7%9F%A5%E9%81%93%E8%BF%99%E9%AC%BC%E4%B8%9C%E8%A5%BF%E6%98%AF%E5%95%A5...%0A%0A\*\*%E6%95%B0%E6%8D%AE%E6%BA%90%E8%AF%BB%E5%8F%96%E6%96%B9%E5%BC%8F\*\*%0A1.%20%E6%9C%AC%E5%9C%B0%E6%96%87%E4%BB%B6%0A2.%20%E6%8C%87%E4%BB%A4%E8%A1%8C%E5%8F%82%E6%95%B0%0A3.%20%E7%B3%BB%E7%BB%9F%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%0A4.%20%E5%B7%B2%E6%89%93%E5%BC%80%E7%9A%84IO%E6%B5%81%0A5.%20%E8%BF%9C%E7%A8%8B%E7%9B%B4%E6%8E%A5%E8%AF%BB%E5%8F%96%E6%95%B0%E6%8D%AE%E6%B5%81%0A%0A%0A\*\*watching\*\*%0A%E7%9B%91%E5%90%AC%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E5%8F%98%E5%8C%96%EF%BC%8C%E5%8A%A8%E6%80%81%E5%8A%A0%E8%BD%BD%E3%80%82%E8%BF%99%E4%B8%AA%E5%8A%9F%E8%83%BD%E6%8C%BA%E6%96%B9%E4%BE%BF%0A%0A%0A\*\*%E8%BF%9C%E7%A8%8B%E8%B0%83%E5%8F%96\*\*%0A%E8%AF%B4%E6%98%AF%E5%8F%AF%E4%BB%A5%E4%BB%8Econsul%20etcd%20%E6%8B%89%E5%8F%96%EF%BC%8C%E6%8C%BA%E6%96%B9%E4%BE%BF....%0A%0A%E6%80%BB%E7%BB%93%E4%B8%8B%EF%BC%9A%E8%83%BD%E8%AF%BB%E5%8F%9699%25%E7%9A%84%E5%A4%96%E9%83%A8%E9%85%8D%E7%BD%AE%E6%95%B0%E6%8D%AE%E6%B5%81%EF%BC%8C%E5%B9%B6%E4%BF%9D%E5%AD%98%E4%BA%8E%E4%B8%80%E4%B8%AA%E7%B1%BB%E4%B8%AD%EF%BC%8C%E4%BE%9B%E7%A8%8B%E5%BA%8F%E5%91%98%E7%9B%B4%E6%8E%A5%E4%BD%BF%E7%94%A8%E3%80%82%E6%8C%BA%E6%96%B9%E4%BE%BF%E7%9A%84%0A%0A\*\*%E4%BC%98%E7%82%B9\*\*%0A1.%20%E6%95%B4%E5%90%88%E4%BA%86%E7%9A%84%E5%83%8F%EF%BC%9A%E7%B3%BB%E7%BB%9F%E5%8F%98%E9%87%8F%E3%80%81%E6%8C%87%E4%BB%A4%E8%A1%8C%E6%95%B0%E6%8D%AE%E7%AD%89%E6%9D%BE%E6%95%A3%E7%9A%84%E6%95%B0%E6%8D%AE%0A2.%20%E5%B8%AE%E5%BF%99%E8%A7%A3%E6%9E%90%E7%89%B9%E6%AE%8A%E6%A0%BC%E5%BC%8F%E7%B1%BB%E5%9E%8B%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%BD%93%E3%80%82%E5%A6%82%EF%BC%9Ayaml%20toml%20json%0A3.%20%E6%89%80%E6%9C%89%E6%95%B0%E6%8D%AE%E8%AF%BB%E5%8F%96%E5%AE%8C%E6%88%90%E5%90%8E%EF%BC%8C%E5%9C%A8%E4%B8%80%E4%B8%AA%E7%BB%9F%E4%B8%80%E7%9A%84%E7%B1%BB%E4%B8%AD%EF%BC%8C%E7%BB%9F%E4%B8%80%E7%AE%A1%E7%90%86%E4%BD%BF%E7%94%A8%E3%80%82%0A4.%20%E5%8A%A8%E6%80%81%E7%9B%91%E6%8E%A7%E6%96%87%E4%BB%B6%E5%8F%98%E5%8C%96%0A5.%20%E8%AF%BB%E5%8F%96%E8%BF%9C%E7%A8%8B%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%0A%0A\*\*%E7%BC%BA%E7%82%B9\*\*%0A%E5%A5%BD%E5%83%8F%E4%B8%8D%E6%94%AF%E6%8C%81%E5%A4%9A%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%EF%BC%8C%E5%A6%82%EF%BC%9A%E4%B8%80%E4%B8%AA%E7%9B%AE%E5%BD%95%E4%B8%8B%E6%9C%89N%E4%B8%AA%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E9%83%BD%E8%A6%81%E5%8A%A0%E8%BD%BD%E3%80%82%E4%B8%8D%E8%BF%87%EF%BC%8C%E5%8F%AF%E4%BB%A5%E9%80%9A%E8%BF%87%E5%A4%9A%E5%AE%9E%E4%BE%8B%EF%BC%8C%E6%AF%8F%E4%B8%80%E4%B8%AA%E5%AE%9E%E4%BE%8B%E6%98%AF%E4%B8%80%E4%B8%AA%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E6%9D%A5%E8%A7%A3%E5%86%B3%0A%0Amapstructure%0A\-\-\-\-\-\-%0A%E5%B0%86%E4%B8%80%E4%B8%AAmap%E7%BB%93%E6%9E%84%E8%BD%AC%E6%8D%A2%E5%88%B0%E6%9F%90%E4%B8%80%E4%B8%AA%E7%BB%93%E6%9E%84%E4%BD%93%E5%86%85%EF%BC%8C%E6%94%AF%E6%8C%81%E5%9C%A8%E7%BB%93%E6%9E%84%E9%87%8C%E7%9B%B4%E6%8E%A5%E4%BD%BF%E7%94%A8TAG%E6%A0%87%E8%AF%86%E8%A7%A3%E6%9E%90%E3%80%82%0A%E6%B2%A1%E5%A4%AA%E6%83%B3%E6%98%8E%E7%99%BD%E8%BF%99%E4%B8%9C%E8%A5%BF%E6%9C%80%E5%A4%A7%E7%9A%84%E7%94%A8%E5%A4%84%E6%98%AF%E5%95%A5...%20%E8%87%AA%E5%B7%B1%E5%B0%81%E8%A3%85%E4%B8%80%E4%B8%AA%E6%96%B9%E6%B3%95%EF%BC%8C%E7%9B%B4%E6%8E%A5json%20decode%E4%B8%8D%E5%B0%B1%E5%BE%97%E4%BA%86%EF%BC%8C%E8%80%8C%E4%B8%94%EF%BC%8C%E5%A6%82%E6%9E%9C%E7%9B%B4%E6%8E%A5%E6%98%A0%E5%B0%84%E5%88%B0%E4%B8%80%E4%B8%AA%E7%BB%93%E6%9E%84%E4%BD%93%EF%BC%8C%E8%AF%A5%E7%BB%93%E6%9E%84%E8%BF%98%E6%98%AF%E4%B8%80%E4%B8%AA%E7%B1%BB%EF%BC%8C%E5%88%9D%E5%A7%8B%E5%8C%96%E6%98%AF%E4%B8%8D%E6%98%AF%E6%9C%89%E7%82%B9%E8%8D%89%E7%8E%87...%0A%0Afile\-rotatelogs%0A\-\-\-\-\-\-%0Agithub.com%2Flestrrat\-go%2Ffile\-rotatelogs%0A%E6%96%87%E4%BB%B6%E7%BF%BB%E6%BB%9A%E5%88%87%E5%89%B2%0A%0Azap%0A\-\-\-\-%0Auser%20%E5%BC%80%E6%BA%90%E7%9A%84%E4%B8%80%E4%B8%AAlog%20%E5%BA%93%EF%BC%8C%E5%A5%BD%E5%BC%BA%E5%A4%A7...%0A%0A%E6%A8%A1%E5%9D%97%E5%8C%96%E5%BE%88%E7%BB%86%EF%BC%8C%E5%83%8F%EF%BC%9A%E6%96%87%E4%BB%B6%E7%9A%84IO%E6%9C%89%E4%B8%93%E9%97%A8%E7%9A%84%E7%B1%BB%EF%BC%8C%E6%94%AF%E6%8C%81HASH%EF%BC%8C%E8%BF%98%E6%9C%89%E8%BD%AF%E8%BF%9E....%E6%96%87%E4%BB%B6%E7%BF%BB%E6%BB%9A%0A%E8%87%AA%E5%AE%9A%E4%B9%89%E5%86%85%E5%AE%B9%E7%9A%84%E9%80%89%E9%A1%B9%0A%E5%8F%AF%E8%BE%93%E5%87%BA%E5%88%B0%E5%B1%8F%E5%B9%95%2B%E6%96%87%E4%BB%B6%EF%BC%8C%E5%A4%9A%E6%BA%90%E5%86%99%E5%85%A5%0A%E6%94%AF%E6%8C%81%E9%A2%9C%E8%89%B2%0A%E6%94%AF%E6%8C%81%E5%86%85%E5%AE%B9%E7%B1%BB%E5%9E%8B%EF%BC%8C%E5%A6%82%EF%BC%9AJSON%0A%E5%B1%85%E7%84%B6%E8%BF%98%E6%94%AF%E6%8C%81%20%E8%A7%84%E6%A0%BC%E8%B0%83%E8%AF%95%0A%0A%0Agrom%0A\-\-\-\-\-%0A%0Acron%0A\-\-\-\-\-\-%0Agithub.com%2Frobfig%2Fcron%2Fv3%0A%0A%0AGIN%0A\-\-\-\-\-%0A%E4%B8%80%E4%B8%AAWEB\-SERVICE%E3%80%82%0A%0ACasbin%0A\-\-\-\-\-%0A%E8%A1%A8%E9%9D%A2%E7%9C%8B%EF%BC%9A%E6%8C%BA%E7%89%9B%E9%80%BC%E7%9A%84%E4%B8%80%E4%B8%AA%E4%B8%9C%E8%A5%BF%EF%BC%8C%E5%AE%9E%E9%99%85%E7%9C%8B%EF%BC%9A%E6%B2%A1%E5%95%A5%E5%8C%BA%E5%88%AB...%0A%0A%E4%BC%98%E7%82%B9%EF%BC%9A%0A1.%20%E6%94%AF%E6%8C%81%E5%A4%9A%E8%AF%AD%E8%A8%80%0A2.%20%E6%9C%89%E8%AE%BA%E6%96%87%0A3.%20%E6%94%AF%E6%8C%81RBAC%20ABAC%20%E5%A4%9A%E7%A7%8D%E7%AE%97%E6%B3%95%0A4.%20%E8%87%AA%E5%AE%9A%E4%B9%89%E4%BA%86%E4%B8%80%E7%A7%8DPML%E8%AF%AD%E6%B3%95%0A5.%20%E8%87%AA%E5%AE%9A%E4%B9%89%E4%BA%86PERM%E7%BB%84%E7%BB%87%E5%85%B3%E7%B3%BB%0A%0A%E7%BC%BA%E7%82%B9%EF%BC%9A%0A1.%20%E9%A1%B9%E7%9B%AE%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%8F%98%E9%AB%98%0A2.%20%E5%8A%A0%E5%A4%A7%E5%AD%A6%E4%B9%A0%E3%80%81%E4%BD%BF%E7%94%A8%E3%80%81%E9%85%8D%E7%BD%AE%E7%AD%89%20%E7%BB%B4%E6%8A%A4%E6%88%90%E6%9C%AC%0A%0A%3E%E6%80%BB%E7%BB%93%EF%BC%9A%E6%9C%89%E5%87%A0%E4%B8%AA%E4%BA%BA%EF%BC%8C%E4%B8%93%E9%97%A8%E7%A0%94%E7%A9%B6%E6%9D%83%E9%99%90%E6%8E%A7%E5%88%B6%E8%BF%99%E4%B8%80%E9%A2%86%E5%9F%9F%EF%BC%8C%E8%BF%98%E5%86%99%E4%BA%86%E8%AE%BA%E6%96%87%E3%80%82%0A%0A\*\*PML\*\*%3A%E4%B8%80%E7%A7%8D%E5%9F%BA%E4%BA%8E%E8%A7%A3%E9%87%8A%E5%99%A8%E7%9A%84Web%E6%9C%8D%E5%8A%A1%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6%E7%AD%96%E7%95%A5%E8%AF%AD%E8%A8%80%0A%0A\*\*PERM%3A\*\*%0A%0A%7C%20%E8%8B%B1%E6%96%87%20%7C%20%E4%B8%AD%E6%96%87%20%7C%E6%8F%8F%E8%BF%B0%20%20%7C%0A%7C%20\-\-\-%20%7C%20\-\-\-%20%7C%20\-\-\-%20%7C%0A%7C%20policy%20%7C%20%E7%AD%96%E7%95%A5%20%7C%E5%AE%9A%E4%B9%89policy.cvs%E6%96%87%E4%BB%B6%E4%B8%AD%E7%9A%84%E5%AD%97%E6%AE%B5%E9%A1%BA%E5%BA%8F%20%7C%0A%7C%20effect%20%20%7C%20%E6%95%88%E6%9E%9C%2F%E5%BD%B1%E5%93%8D%20%7C%20%E5%AE%9A%E4%B9%89%E7%BB%84%E5%90%88%E4%BA%86%E5%A4%9A%E4%B8%AA%20Policy%20%E4%B9%8B%E5%90%8E%E7%9A%84%E7%BB%93%E6%9E%9C%2C%20allow%2Fdeny%20%7C%0A%7C%20request%20%7C%20%E8%AF%B7%E6%B1%82%20%7C%20%E8%AE%BF%E9%97%AE%E8%AF%B7%E6%B1%82%2C%20%E4%B9%9F%E5%B0%B1%E6%98%AF%E8%B0%81%E6%83%B3%E6%93%8D%E4%BD%9C%E4%BB%80%E4%B9%88%20%7C%0A%7C%20matchers%20%7C%E5%8C%B9%E9%85%8D%E5%99%A8%20%20%7C%20%E7%A1%AE%E5%AE%9Apolicy%E4%B8%8Erequest%E7%9A%84%E6%AF%94%E5%AF%B9%E7%BB%93%E6%9E%9C%20%7C%0A%7C%20role%20%7C%E8%A7%92%E8%89%B2%20%20%7C%20%E5%AE%9A%E4%B9%89%E7%94%A8%E6%88%B7%E8%A7%92%E8%89%B2%E6%97%B6%E4%BD%BF%E7%94%A8%20%7C%0A%0A%3E%E8%AE%BD%E5%88%BA%E7%9A%84%E6%98%AF%EF%BC%8C%E5%AE%83%E5%8F%AA%E6%94%AF%E6%8C%81%E4%B8%80%E4%B8%AAp%EF%BC%8C%E5%A6%82%E6%9E%9C%E5%86%8D%E6%9C%89%E4%B8%AAP2%E4%B8%8D%E6%94%AF%E6%8C%81...%0A%0A\*\*%E5%A4%A7%E4%BD%93%E4%B8%8A%E7%9A%84%E5%AE%9E%E7%8E%B0%E6%B5%81%E7%A8%8B\*\*%0A%E4%B8%A4%E4%B8%AA%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%EF%BC%9Aperm.conf%20%2B%20policy.cvs%0Aperm.conf%3A%E5%AE%9A%E4%B9%89%E6%95%B4%E4%B8%AA%E6%9D%83%E9%99%90%E6%8E%A7%E5%88%B6%E7%AE%97%E6%B3%95%E8%A7%84%E5%88%99%E7%9A%84%E9%85%8D%E7%BD%AE%E4%BF%A1%E6%81%AF%0Apolicy.cvs%3A%E6%98%AF%E5%85%B7%E4%BD%93%E6%9F%90%E4%B8%AA%E7%94%A8%E6%88%B7%E6%9C%89%E5%93%AA%E4%B8%AA%E4%BA%9B%E6%9D%83%E9%99%90%0APML%E7%94%A8%E6%9D%A5%E8%A7%A3%E6%9E%90%E4%B8%A4%E4%B8%AA%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%0A%0A%E6%B5%81%E7%A8%8B%E5%9B%BE%EF%BC%8C%E5%A6%82%E4%B8%8B%EF%BC%9A%0A%0A1.%20%E7%AE%A1%E7%90%86%E5%91%98%20%E9%85%8D%E7%BD%AE%20perm.conf%20%2B%20policy.cvs%0A2.%20%E7%A8%8B%E5%BA%8F%E5%91%98%20%E5%90%AF%E5%8A%A8casbin%E7%A8%8B%E5%BA%8F%EF%BC%8CPML%E5%8A%A0%E8%BD%BD%E4%B8%A4%E4%B8%AA%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%0A3.%20%E7%94%A8%E6%88%B7%E8%AF%B7%E6%B1%82%E8%B5%84%E6%BA%90%EF%BC%8Ccasbin%E6%A0%B9%E6%8D%AE%E4%B8%A4%E4%B8%AA%E6%A0%B9%E6%9C%AC%E6%96%87%E4%BB%B6%E8%BF%9B%E8%A1%8C%E8%AE%A1%E7%AE%97%0A%0A%0A%0Aperm.conf%3A%0A%60%60%60%0A%23%20Request%20definition%0A%5Brequest\_definition%5D%0Ar%20%3D%20subject%2C%20obj%2C%20act%0A%0A%23%20Policy%20definition%0A%5Bpolicy\_definition%5D%0Ap%20%3D%20subject%2C%20obj%2C%20act%0Ap2%20%3D%20subject%2C%20act%0A%0A%23%20Policy%20effect%0A%5Bpolicy\_effect%5D%0Ae%20%3D%20some\(where%20\(p.eft%20%3D%3D%20allow\)\)%0A%0A%23%20Matchers%0A%5Bmatchers%5D%0Am%20%3D%20r.subject%20%3D%3D%20p.subject%20%26%26%20r.obj%20%3D%3D%20p.obj%20%26%26%20r.act%20%3D%3D%20p.act%0A%0A%5Brole\_definition%5D%0Ag%20%3D%20\_%2C%20\_%0A%0A%60%60%60%0A%0Apolicy.cvs%0A%60%60%60%0Ap%2C%20alice%2C%20data1%2C%20read%0Ap%2C%20bob%2C%20data2%2C%20write%0A%60%60%60%0A%0Aperm.conf%E6%98%AF%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95%E5%AE%9A%E4%B9%89%EF%BC%8C%E5%9F%BA%E6%9C%AC%E4%B8%8A%E4%B8%80%E6%AC%A1%E5%AE%9A%E4%B9%89%E5%9F%BA%E6%9C%AC%E4%B8%8D%E5%8F%98%EF%BC%8C%E8%80%8Cpolicy.cvs%E6%98%AF%E5%AF%B9perm.conf%E7%9A%84%E6%95%B0%E6%8D%AE%E8%A1%A5%E5%85%85%EF%BC%8C%E8%80%8Cpolicy.cvs%E6%98%AF%E7%BB%8F%E5%B8%B8%E5%8F%98%E7%9A%84%EF%BC%8C%E8%80%8C%E4%B8%94%E8%A6%81%E5%AD%98DB%E7%9A%84%E3%80%82%0A%0A%0A\*\*%E5%88%86%E6%9E%90PERM\*\*%0A%0Arequest%3A%E6%84%9F%E8%A7%89%E6%98%AF%E5%AF%B9%E8%B5%84%E6%BA%90%E7%9A%84%E5%B1%82%E7%BA%A7%E5%AE%9A%E4%B9%89%EF%BC%8C%E5%8F%AF%E4%BB%A5%E5%AE%9A%E4%B9%89N%E7%BA%A7%EF%BC%8C%E5%A6%82%EF%BC%9A%0A%60%60%60%0Aorder\-coupon\-add%0Apublic\-user\-login%0Aprivate\-logn\-add%0A%60%60%60%0A%E4%B9%9F%E5%8F%AF%E4%BB%A5%E6%98%A0%E5%B0%84%E5%88%B0%E7%9A%84URL%E7%9A%84%E8%AF%B7%E6%B1%82%E5%9C%B0%E5%9D%80%E4%B8%AD%0A%60%60%60%0A%2Forder%2Fcoupon%2Fadd%0A%2Fpublic%2Fuser%2Flogin%0A%2Fprivate%2Flogn%2Fadd%0A%60%60%60%0A%E4%BD%9C%E7%94%A8%EF%BC%9A%E5%AE%9A%E4%B9%89%E8%B5%84%E6%BA%90%EF%BC%8C%E5%B9%B6%E5%81%9A%E6%88%90%E5%B1%82%E7%BA%A7%E7%BB%93%E6%9E%84%EF%BC%8C%E6%96%B9%E4%BE%BF%E6%8B%86%E5%88%86%E4%B8%8E%E7%AE%A1%E7%90%86%EF%BC%8C%E5%85%B7%E4%BD%93%E5%A6%82%E4%BD%95%E5%AE%9A%E4%B9%89%E7%9C%8B%E4%BD%BF%E7%94%A8%E6%96%B9%EF%BC%8C%E5%A6%82%EF%BC%9A%0A1.%20%E6%A8%A1%E5%9D%97%2F%E6%A8%A1%E5%9E%8B%2F%E5%8A%A8%E4%BD%9C%0A2.%20%E7%94%A8%E6%88%B7%2F%E6%A8%A1%E5%9E%8B%2F%E5%8A%A8%E4%BD%9C%0A%0A%3E%E5%9F%BA%E6%9C%AC%E4%B8%8A3%E5%B1%82%E7%BB%93%E6%9E%84%E8%83%BD%E6%BB%A1%E8%B6%B3%E5%A4%A7%E9%83%A8%E5%88%86%E7%9A%84%E9%9C%80%E6%B1%82%E4%BA%86%0A%0A\*\*%E5%85%B7%E4%BD%93%E6%B5%81%E7%A8%8B\*\*%0A1.%20%E7%AE%A1%E7%90%86%E5%91%98%20%E5%85%88%E5%AE%9A%E4%B9%89%20%E8%B5%84%E6%BA%90%EF%BC%8C%E5%8D%B3%EF%BC%9A%E8%B5%84%E6%BA%90%E6%98%AF%E5%87%A0%E5%B1%82%EF%BC%8C%E7%BB%99%E6%AF%8F%E5%B1%82%E5%8A%A0%E4%B8%8Atag\(subject%20obj%20act\)%20%20%0A%3Erequest%3D%20subject%20obj%20act%0A%3E%0A%E8%BF%99%E5%B0%B1%E6%98%AF%E5%AE%9A%E4%B9%89%E4%BA%86%E4%B8%80%E4%B8%AA%E4%B8%89%E5%B1%82%E7%9A%84%E8%B5%84%E6%BA%90%0A%3E%E5%AE%9A%E4%B9%89%E5%A5%BD%E7%9A%84%E5%B1%82%E6%95%B0%E5%85%B6%E5%AE%9E%E4%B9%9F%E6%98%AF%E8%AF%B7%E6%B1%82%E5%8F%82%E6%95%B0%EF%BC%8C%E5%8D%B3%EF%BC%9A%E5%BD%93%E8%BF%87%E6%9D%A5%E4%B8%80%E4%B8%AA%E8%AF%B7%E6%B1%82%EF%BC%8C%E4%BD%A0%E8%B0%83%E7%94%A8casbin%E6%96%B9%E6%B3%95%E9%AA%8C%E8%AF%81%EF%BC%8C%E9%AA%8C%E8%AF%81%E7%9A%84%E8%BF%99%E4%B8%AA%E6%96%B9%E6%B3%95%E7%9A%84%E5%8F%82%E6%95%B0%E4%B8%AA%E6%95%B0%0A%0A3.%20%E7%84%B6%E5%90%8E%E6%98%AF%EF%BC%8C%E8%B5%8B%E5%80%BC%E4%B9%8B%E5%89%8D%E7%9A%84%E5%89%8D%E7%BD%AE%E5%B7%A5%E4%BD%9C%EF%BC%8C%E5%BE%97%E7%BB%99policy.csv%20%E5%81%9A%E4%B8%8B%E5%AD%97%E6%AE%B5%E8%AF%B4%E6%98%8E%2C%E5%A5%BD%E8%AE%A9PML%E8%83%BD%E8%A7%A3%E6%9E%90%E6%88%90%E5%8A%9F%0A%3Ep%20%3D%20%20act%2Cobj%2Csubject%0A%3E%0A%E8%BF%99%E5%B0%B1%E6%98%AF%E8%AF%B4%E5%9C%A8%E8%AF%BB%E5%8F%96policy.cvs%20%E6%96%87%E4%BB%B6%E7%9A%84%E6%97%B6%E5%80%99%EF%BC%8C%E9%87%8C%E9%9D%A2%E7%9A%84%E5%AD%97%E6%AE%B5%E6%98%AF%E6%8C%89%E7%85%A7%E8%BF%99%E7%A7%8D%E9%A1%BA%E5%BA%8F%E5%AD%98%E5%82%A8%E7%9A%84%0A%0A2.%20%E7%84%B6%E5%90%8E%EF%BC%8C%E6%98%AF%E7%BB%99%E8%BF%99%E4%B8%AA%E8%B5%84%E6%BA%90%E8%B5%8B%E5%80%BC%EF%BC%8C%E5%8D%B3%EF%BC%9A%3C%E8%B0%81%E6%9C%89%E8%BF%99%E6%A0%B7%E7%9A%84%E6%9D%83%E9%99%90%3E%EF%BC%8C\(%E8%BF%99%E4%B8%AA%E4%BF%9D%E5%AD%98%E5%9C%A8policy.csv%E4%B8%AD\)%0A%20%20%20%201.%20p%20%2C%20edit%2Cuser%2Czhangsan%0A%20%20%20%202.%20p%20%2C%20del%20%2Cuser%2Czhangsan%0A%0A%3E%E4%BB%A5%E4%B8%8A%EF%BC%9A%E5%BC%A0%E4%B8%89%20%E8%AE%BF%E9%97%AEuser%E8%B5%84%E6%BA%90%EF%BC%8C%E6%9C%89%E7%BC%96%E8%BE%91%E5%92%8C%E5%88%A0%E9%99%A4%E7%9A%84%E5%8A%9F%E8%83%BD%0A%0A%0A%3E%E4%BB%A5%E4%B8%8A%E5%B0%B1%E5%AE%9A%E4%B9%89%E5%A5%BD%E4%BA%86%EF%BC%9A%3C%E8%B5%84%E6%BA%90%3E%E5%92%8C%3C%E8%B0%81%E6%9C%89%E8%BF%99%E6%A0%B7%E7%9A%84%E6%9D%83%E9%99%90%3E%0A%0A5.%20%E5%AE%9A%E4%B9%89%E4%B8%A4%E8%80%85%E7%9A%84%E5%8C%B9%E9%85%8D%E5%85%AC%E5%BC%8F%0A%3E\(%E8%BF%99%E9%87%8C%E7%9B%B4%E6%8E%A5%E7%94%A8%E7%AD%89%E5%8F%B7%E5%88%A4%E6%96%AD%E4%B8%8D%E5%B0%B1%E7%BB%93%E4%BA%86%EF%BC%8C%E8%BF%98%E6%90%9E%E4%B8%AA%E5%8C%B9%E9%85%8D%E5%85%AC%E5%BC%8F%EF%BC%8C%E7%9C%9F%E6%98%AF%E9%BA%BB%E7%83%A6\)%0A%0A%E4%BE%8B%E5%AD%90%EF%BC%9A%0A%3Em%20%3D%20r.subject%20%3D%3D%20p.subject%20%26%26%20r.obj%20%3D%3D%20p.obj%20%26%26%20r.act%20%3D%3D%20p.act%0A%0A%E8%BF%99%E6%98%AF%E6%9C%80%E7%AE%80%E5%8D%95%E7%9A%84%EF%BC%8C%E5%B0%B1%E6%98%AF%E7%AD%89%E5%8F%B7%E5%88%A4%E6%96%AD%EF%BC%8C%E6%97%A2%E7%84%B6%E5%AE%9A%E4%B9%89%E4%BA%86%E4%B8%89%E5%B1%82%E8%B5%84%E6%BA%90%E7%BB%93%E6%9E%84%EF%BC%8C%E9%82%A3%E5%B0%B1%E7%9B%B4%E6%8E%A5%E4%B8%8E%E9%85%8D%E7%BD%AE%E5%A5%BD%E7%9A%84%3C%E8%B0%81%E6%9C%89%E8%BF%99%E6%A0%B7%E7%9A%84%E6%9D%83%E9%99%90%3E%E4%B8%80%E4%B8%80%E5%81%9A%E5%88%A4%E6%96%AD.%0A%0A%3Ematching%E5%85%AC%E5%BC%8F%E6%9C%80%E5%90%8E%E5%8C%B9%E9%85%8D%E7%9A%84%E7%BB%93%E6%9E%9C%E4%BF%9D%E5%AD%98%E5%9C%A8%EF%BC%9Ap.eft%E4%B8%AD%0A%0A%E8%87%B3%E6%AD%A4%EF%BC%8C%E6%9C%80%E7%AE%80%E5%8D%95%E7%9A%84ACL%E5%B0%B1%E5%8F%AF%E4%BB%A5%E4%BA%86%EF%BC%8C%E4%B8%8B%E9%9D%A2%E6%98%AF%E5%A4%8D%E6%9D%82%E7%9A%84%E8%AE%BE%E8%AE%A1%0A%0A6.%20%E5%AE%9A%E4%B9%89%E5%A4%9A%E6%9D%A1%E7%9B%B8%E5%90%8C%E7%9A%84rule%EF%BC%8Cpolicy.csv%E6%B7%BB%E5%8A%A0%E5%A6%82%E4%B8%8B%EF%BC%9A%0A%20%20%20%20p%20%2C%20edit%2Cuser%2Czhangsan%2Callow%0A%20%20%20%20p%20%2C%20edit%2Cuser%2Czhangsan%2Cdeny%0A%20%20%20%20%0A%20%20%20%20%E5%AE%9A%E4%B9%89%E4%BA%862%E6%9D%A1%E7%9B%B8%E5%90%8C%E7%9A%84rule%EF%BC%8C%E4%BD%86%E6%98%AF%E8%BF%94%E5%9B%9E%E6%98%AF%E4%B8%8D%E4%B8%80%E6%A0%B7%E7%9A%84%0A%20%20%20%20%E4%BF%AE%E6%94%B9%E4%B8%8Bperm.conf%0A%20%20%20%20p%20%3D%20subject%2C%20obj%2C%20act%20%2Ceft%0A%20%20%20%20%0A%20%20%20%20%E8%BF%99%E6%A0%B7%E5%A6%82%E6%9E%9Cr%E7%BB%99%E5%87%BA%EF%BC%9Aedit%2Cuser%2Czhangsan%20%2Cmatching%E5%B0%86%E4%BC%9A%E5%BE%97%E5%87%BA2%E4%B8%AA%E7%BB%93%E6%9E%9C%EF%BC%8Callow%20%E5%92%8Cdeny%0A%20%20%20%20%E7%84%B6%E5%90%8Epolicy\_effect%E5%B0%B1%E7%99%BB%E5%9C%BA%E4%BA%86%0A7.%20policy\_effect%E8%AE%BE%E7%BD%AE%E6%88%90%EF%BC%8C%E5%BD%93matching%E5%8C%B9%E9%85%8D%E5%87%BA%E5%A4%9A%E4%B8%AA%E7%BB%93%E6%9E%9C%E7%9A%84%E6%97%B6%E5%80%99%EF%BC%8C%E5%86%8D%E8%BF%9B%E8%A1%8C%E4%B8%80%E6%AC%A1%E5%8C%B9%E9%85%8D%EF%BC%8C%E5%BE%97%E5%87%BA%E6%9C%80%E7%BB%88%E7%BB%93%E6%9E%9C%0A%20%20%20%20%E5%AE%83%E5%85%B6%E5%AE%9E%E8%A7%84%E5%AE%9A%E6%AD%BB%E4%BA%86%EF%BC%8C%E5%B0%B14%E4%B8%AA%E8%A1%A8%E8%BE%BE%E5%BC%8F%EF%BC%9A%0A%20%20%20%20some\(where%20\(p.eft%20%3D%3D%20allow\)\)%0A%20%20%20%20\!some\(where%20\(p.eft%20%3D%3D%20deny\)\)%0A%20%20%20%20some\(where%20\(p.eft%20%3D%3D%20allow\)\)%20%26%26%20\!some\(where%20\(p.eft%20%3D%3D%20deny\)\)%0A%20%20%20%20priority\(p.eft\)%20%7C%7C%20deny%0A%20%20%20%20subjectPriority\(p.eft\)%0A%20%20%20%20%0A%0A8.%20%E8%A7%92%E8%89%B2%EF%BC%8C%E4%B8%8A%E9%9D%A2%E9%83%BD%E6%98%AF%E5%9F%BA%E4%BA%8E%E4%BC%A0%E7%BB%9FACL%EF%BC%8C%E5%BE%97%E5%8A%A0%E5%85%A5%E8%A7%92%E8%89%B2%E8%BD%AC%E6%8D%A2%E6%88%90RBAC%2C%E4%BF%AE%E6%94%B9%EF%BC%9Aperm.conf%0A%60%60%60%0A%5Brole\_definition%5D%0Ag%20%3D%20\_%2C%20\_%0A%5Bmatchers%5D%0Am%20%3D%20g\(r.sub%2C%20p.sub\)%20%26%26%20r.obj%20%3D%3D%20p.obj%20%26%26%20r.act%20%3D%3D%20p.act%0A%60%60%60%0A%0A%3Eg%20%3D%20\_%2C%20\_%20%3D%20%E7%94%A8%E6%88%B7%2C%E7%BB%84%E5%90%8D%0A%0A%E4%BF%AE%E6%94%B9policy.cvs%3A%0Azhangsan%2Cadmin%0A%0Ag\(r.sub%2C%20p.sub\)%3A%20%E5%B0%86zhangsan%E8%BD%AC%E6%8D%A2%E6%88%90admin%0A%0A%3E%E8%BF%99%E9%87%8C%E6%9C%89%E4%B8%AA%E6%9C%89%E8%B6%A3%E7%9A%84%EF%BC%9A%E8%AE%BF%E9%97%AE%E7%9A%84%E6%97%B6%E5%80%99%E5%8D%B3%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8%E7%BB%84%E5%90%8D%E4%B9%9F%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8%E7%94%A8%E6%88%B7%E5%90%8D%0A%0A%0Ag%20%3D%20\_%2C%20\_%2C%20\_%0A%3E%E8%BF%99%E4%B8%AA%E4%B9%9F%E6%8C%BA%E6%9C%89%E6%84%8F%E6%80%9D%3A%E7%94%A8%E6%88%B7%2F%E7%BB%84%2F%E5%9F%9F%EF%BC%8C%E4%B9%9F%E5%B0%B1%E6%98%AF%E5%AE%83%E7%9A%84%E8%A7%92%E8%89%B2%E6%94%AF%E6%8C%813%E7%BA%A7%EF%BC%8C%E5%A6%82%EF%BC%9A%E7%94%A8%E6%88%B7%2F%E7%BB%84%2F%E5%95%86%E6%88%B7%0A%0A%0A%0A%E6%9C%80%E7%BB%88%E7%9A%84%E6%B5%81%E7%A8%8B%E6%98%AF%0A1.%20%E7%AC%AC%E4%B8%80%E6%AC%A1%EF%BC%8C%E9%9C%80%E8%A6%81%E7%AE%A1%E7%90%86%E5%91%98%20%E6%B3%A8%E5%86%8Crequest%E8%B5%84%E6%BA%90%EF%BC%8C%E9%85%8D%E7%BD%AE%E5%A5%BDpolicy%E5%AD%97%E6%AE%B5%E9%A1%BA%E5%BA%8F%EF%BC%8C%E7%84%B6%E5%90%8E%E5%86%99%E5%A5%BDmatch%E5%85%AC%E5%BC%8F%EF%BC%8C%0A2.%20%E5%9F%BA%E6%9C%AC%E4%B8%8A%E5%B0%B1%E4%B8%8D%E7%94%A8%E5%8A%A8%E4%BA%86%EF%BC%8C%E5%85%B6%E5%AE%83%E7%9A%84%E9%83%BD%E6%98%AF%E5%8A%A8%E6%80%81%E4%BF%AE%E6%94%B9policy.cvs%0A%0A%0A%0A\*\*%E6%80%BB%E7%BB%93\*\*%0A%E5%AE%83%E5%AE%9E%E7%8E%B0%E4%BA%86%EF%BC%9A%E5%B0%86%E5%90%84%E4%B8%AA%E6%A8%A1%E5%9D%97%E5%AE%8C%E5%85%A8%E5%89%A5%E7%A6%BB%E5%87%BA%E6%9D%A5%EF%BC%8C%E5%90%84%E8%87%AA%E7%8E%A9%E5%90%84%E8%87%AA%E7%9A%84%EF%BC%8C%E9%80%9A%E8%BF%87%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E5%86%8D%E7%BB%84%E5%90%88%E8%B5%B7%E6%9D%A5%E3%80%82%E5%87%8F%E5%B0%91%E8%80%A6%E5%90%88%EF%BC%8C%E5%A2%9E%E5%8A%A0%E6%89%A9%E5%B1%95%E6%80%A7%EF%BC%8C%E5%B0%A4%E5%85%B6%E5%83%8F%EF%BC%9A%E6%94%AF%E6%8C%81%E7%94%A8%E6%88%B7ID%E5%92%8C%E7%BB%84ID%E5%90%8C%E6%97%B6%E5%8C%B9%E9%85%8D%E3%80%81%E8%A7%92%E8%89%B2%E6%94%AF%E6%8C%813%E7%BA%A7%E3%80%82%0A%0A%3E%E6%84%9F%E8%A7%89%EF%BC%8C%E5%9F%BA%E6%9C%AC%E4%B8%8A%E8%BF%99%E4%B8%9C%E8%A5%BF%E8%B7%9Fapahc%20nginx%20%E7%9A%84rewrite%20%E5%B7%AE%E4%B8%8D%E5%A4%9A%E3%80%82%0A%0A%E7%BB%93%E6%9E%9C%EF%BC%9A%0A1.%20%E5%BF%BD%E7%95%A5%E6%8E%89%E5%AD%A6%E4%B9%A0%E6%88%90%E6%9C%AC%EF%BC%8C%E4%B9%9F%E5%B0%B1%E6%98%AF%E5%B7%B2%E7%BB%8F%E7%86%9F%E6%82%89%E4%BA%86%E8%AF%A5%E6%A8%A1%E5%BC%8F%EF%BC%8C%E5%B9%B6%E8%83%BD%E7%BB%99%E5%88%AB%E4%BA%BA%E8%AE%B2%E6%98%8E%E7%99%BD%E5%8E%9F%E7%90%86%0A2.%20%E8%87%AA%E5%B7%B1%E8%83%BD%E7%86%9F%E6%82%89%E4%BD%BF%E7%94%A8%E8%AF%A5%E7%B1%BB%E5%BA%93%0A3.%20%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8%EF%BC%8C%E6%8C%BA%E6%96%B9%E4%BE%BF%EF%BC%8C%E4%B8%BB%E8%A6%81%E4%B8%8D%E7%94%A8%E5%86%99%E4%BB%A3%E7%A0%81%E4%BA%86...%E6%89%A9%E5%B1%95%E6%80%A7%E4%B9%9F%E5%A5%BD%0A%0A%0A%0A%0A%0A%0A%0A
